(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[38435],{

/***/ 859699:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(728159);__web_req__(378020);__web_req__(695227);__web_req__(566092);__web_req__(809037);__web_req__(601219);__web_req__(440443);__web_req__(755985);__web_req__(934683);__web_req__(427503);__web_req__(990182);__web_req__(403215);__web_req__(41608);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var m=__c.m;var rbk=__c.rbk;var qbk=__c.qbk;var obk=__c.obk;var I=__c.I;var K=__c.K;var Qrt,Rrt,Zrt,$rt,dst,Vrt,Urt,ast,gst,hst,ist,jst,sst,tst,ust,vst,iS,bst;Qrt=function(a){return __c.mbk(a,b=>b,b=>b,b=>b,b=>b)};Rrt=function(a){a=[...a,K("VSEhtg")];return(__c.wb.direction===2?a.reverse():a).join(" \u2022 ")};
Zrt=function(a,b){const c=a.props.Uk;if(a.state.vUh)return a.props.status===1?c.map((d,e)=>iS(Srt,{index:e},e)):iS("div",{id:b,role:"menu",children:c.filter(__c.nbk).map(d=>{const e=__c.JJk&&d.zN.Cka?d.zN.Cka:d.zN.KNa;return __c.mbk(d,f=>{const g=a.props.tFc;return iS(Trt,{NRs:f,price:Urt(a,Vrt(e),e.currency),Ooe:g},f.mediaId)},f=>{const g=a.props.tFc;return iS(Wrt,{pWr:f,price:Urt(a,Vrt(e),e.currency),Ooe:g},f.fontFamily)},f=>{const g=a.props.tFc;return iS(Xrt,{qyu:f,price:Urt(a,Vrt(e),e.currency),
Ooe:g},f.videoId)},f=>{const g=a.props.tFc;return iS(Yrt,{yii:f,price:Urt(a,Vrt(e),e.currency),fib:a.props.fib,Ooe:g},f.audioId)})})})};$rt=function(a){var b=a.props.Tub;if(__c.JJk){{const c=a.props.eb;b=a.props.Tf;const d=a.props.yRi,e=a.props.Tub;a.props.ZZg&&a.props.eb.POd!=null?a=a.props.eb.POd(e):(a=c.iIa(b.totalPrice),a=d||!b.Pre||b.Qpd?a:I("ySZVLA",[a]))}}else a=a.m7b(b);return a};
dst=function(a,b,c){b=ast(b);const {jjl:d=!1}=a.props;return d?iS("div",{children:b}):bst(__c.yd,{className:"SaSorg",onClick:a.qct,role:"menuitem",ariaHasPopup:"menu",$k:!0,active:a.state.vUh,Xg:c,children:[b,iS(__c.ys,{size:"medium",className:cst("A30k2g",{cdGV7w:a.state.vUh})})]})};Vrt=function(a){return"type"in a?a.type==="PRICE_WITH_TAX"?a.C5i:a.dFa:a.yrd};Urt=function(a,b,c){const d=a.props.Tf,e=a.props.yRi;a=a.props.eb.yj(b,c);return!e&&__c.JJk&&d.Pre&&!d.Qpd?I("ySZVLA",[a]):a};
ast=function(a){const b=a.length,c=a.some(obk),d=a.some(__c.pbk),e=a.some(g=>qbk(g)&&est.includes(g.video.contentType)),f=a.some(g=>qbk(g)&&fst.includes(g.video.contentType));a=a.some(rbk);return[c,d,e,a].filter(g=>g).length>1?I("NtnJqQ",[b]):c?I("Ayj01w",[b]):d?I("Wc/0cg",[b]):e?I("q1nAZA",[b]):f?I("RzTCrg",[b]):a?I("hKi+FQ",[b]):""};
gst=function(a,b){return a.type==="DERIVED_ADDRESS"&&b.type==="DERIVED_ADDRESS"?!0:a.type==="INPUT_ADDRESS"&&b.type==="INPUT_ADDRESS"?a.line1===b.line1&&a.line2===b.line2&&a.line3===b.line3&&a.city===b.city&&a.yp===b.yp&&a.countryCode===b.countryCode&&a.Qq===b.Qq:!1};hst=function(a,b){return b.zN?.KNa.Yxb==null?(a.errorService.warning("missing product contract",{extra:new Map([["product",JSON.stringify(Qrt(b))]])}),!1):!0};
ist=function(a,b){return b.zN?.Cka?.Yxb==null?(a.errorService.warning("missing product price contract v2",{extra:new Map([["product",JSON.stringify(Qrt(b))]])}),!1):!0};jst=function(a,b,c,d){b=new Set(d.map(b));if(b.size!==0)if(b.size!==1)a.errorService.error(`ProductContractMediaLicensesStore: Media licenses have more than 1 ${c}`);else if(!b.has(void 0))return[a]=b,a};
__c.qst=function({errorService:a,yd:b,eb:c,Hab:d,p6c:e,q4g:f,ma:g,fib:h,X:k,brand:l,user:n}){e=new kst({p6c:e,ma:g});const p=new lst({errorService:a,yd:b,document:k.id,Is:k.version,extension:k.extension,brand:l,user:n,tAa:__c.JJk}),q=new mst(p,e);a=nst(({jjl:r,ZZg:t,gKc:u,tFc:w,yRi:x,byh:y,Wga:z})=>d?null:iS(ost,{eb:c,byh:y,Uk:q.QBa,Tf:q,Wga:z,status:p.dAe,Tub:q.Tub,fib:h,jjl:r,ZZg:t,gKc:u,q4g:f,tFc:w,yRi:x}));b=nst(()=>iS(pst,{Uk:q.QBa,status:p.dAe}));return{uDd:()=>null,Bza:a,KEg:b,Tf:q}};
sst=async function(a,b,c,d){const e=rst()();try{const f=e.r(await e.s(a.BYc(c,d)));b(f)}finally{e.s()}};tst=async function(a,b,c,d){const e=rst()();try{try{const f=e.r(await e.s(b));d(f);c(2);return f}catch(f){e.r();const g=f instanceof __c.ni;a.errorService.na(f,{uB:"publish",Ea:"ProductLoaderError",extra:new Map(Object.entries({Zur:!!g}))});c(3,g);throw f;}}finally{e.s()}};ust=__webpack_require__(296713);vst=ust.Fragment;iS=ust.jsx;bst=ust.jsxs;var wst=__webpack_require__(978109),xst=wst.Component,yst=wst.memo,zst=wst.useId;var Ast=__webpack_require__,Bst=Ast(208463),cst=Ast.n_x(Bst)();var Cst=__webpack_require__(269018)._;var rst=__webpack_require__(75402)._;var Dst=__webpack_require__(186901),jS=Dst.EW,Est=Dst.h5,Fst=Dst.sH,Gst=Dst.XI;var nst=__webpack_require__(270531).PA;var Hst=__webpack_require__(245307).Fm;var Ist=yst(a=>{const b=a.left,c=a.right;return iS("div",{className:"ONrhqw",children:bst(__c.Yc,{spacing:"1.5u",Ga:"center",children:[iS(__c.Xc,{width:"content",children:a.thumbnail}),iS(__c.Xc,{children:b}),c&&iS(__c.Xc,{width:"content",children:c})]})})}),Jst=({url:a,icon:b,title:c,color:d})=>bst("div",{className:"YW9H8A",children:[iS("div",{className:"NvPXvg",children:iS("img",{className:"Th4ZHQ",src:a,alt:c})}),iS("div",{className:"e1qKDA",style:{color:d},children:b})]}),Kst=({icon:a,color:b})=>
iS("div",{className:"YW9H8A",children:iS("div",{className:"NvPXvg",style:{backgroundColor:b},children:a})}),Lst=({title:a})=>iS(__c.R,{size:"medium",lineClamp:1,children:a}),Mst=({description:a})=>iS(__c.R,{size:"small",tone:"secondary",lineClamp:1,children:a}),Nst=({price:a})=>iS(__c.R,{size:"medium",weight:"bold",children:a}),Ost=()=>iS(__c.Yv,{}),Pst=()=>iS(__c.yt,{tone:"warnLow",icon:iS(__c.Es,{size:"tiny"}),shape:"circle",ariaLabel:K("V7ZqUQ")});var Yrt=yst(a=>{var b=a.yii,c=a.price;const d=a.fib,e=a.Ooe;a=b.artist;var f=b.thumbnailUrl;const g=b.laa;b=b.jYm||K("GENUcA");const h=iS(__c.LWm,{size:"medium"}),k=iS(__c.xt,{size:"medium"});f=f?iS(Jst,{url:f,icon:h,title:b,color:"#8d39fa"}):iS(Kst,{icon:k,color:"#8d39fa"});if(g?.dHo!==!1)return c=e?void 0:iS(Nst,{price:c}),iS(Ist,{thumbnail:f,left:bst(vst,{children:[iS(Lst,{title:b}),iS(Mst,{description:K("rm0m0g")})]}),right:c});c=g.fva===3&&d;return g.fva===1||c?iS(Ist,{thumbnail:iS("div",{className:"f9Y__Q",
children:f}),left:bst("div",{className:"f9Y__Q",children:[iS(Lst,{title:b}),iS(Mst,{description:Rrt(a)})]}),right:iS(Pst,{})}):iS(Ist,{thumbnail:f,left:bst(vst,{children:[iS(Lst,{title:b}),iS(Mst,{description:Rrt(a)})]}),right:iS(Ost,{})})});var Wrt=yst(a=>{var b=a.price;const c=a.pWr.Hi;a=a.Ooe?void 0:iS(Nst,{price:b});b=iS("div",{className:"cuf_Og",children:iS("div",{className:"sR4O_w",children:iS(__c.XSh,{size:"medium"})})});return iS(Ist,{thumbnail:b,left:bst(vst,{children:[iS(Lst,{title:c}),iS(Mst,{description:K("KI0Ewg")})]}),right:a})});var Trt=yst(({NRs:{Gpc:a,thumbnailUrl:b},price:c,Ooe:d})=>{a=a||K("uxmPmA");const e=iS(__c.s5m,{size:"medium"}),f=iS(__c.zVm,{size:"medium"});c=d?void 0:iS(Nst,{price:c});b=b?iS(Jst,{url:b,icon:f,title:a,color:"#C84BC8"}):iS(Kst,{icon:e,color:"#C84BC8"});return iS(Ist,{thumbnail:b,left:bst(vst,{children:[iS(Lst,{title:a}),iS(Mst,{description:K("oBgWfw")})]}),right:c})});var Srt=({index:a})=>bst("div",{className:"cskkoQ",children:[iS("div",{className:"oMAMhQ",children:iS(__c.Gj,{index:a,shape:"square"})}),iS("div",{className:"Y66Rvg",children:iS(__c.As,{index:a})})]},a);var Xrt=yst(a=>{var b=a.qyu,c=a.price;const d=a.Ooe;a=b.thumbnailUrl;b=b.Fbd||K("TwEBPw");const e=iS(__c.tB,{size:"medium"}),f=iS(__c.BVm,{size:"medium"});c=d?void 0:iS(Nst,{price:c});a=a?iS(Jst,{url:a,icon:f,title:b,color:"#33bfff"}):iS(Kst,{icon:e,color:"#33bfff"});return iS(Ist,{thumbnail:a,left:bst(vst,{children:[iS(Lst,{title:b}),iS(Mst,{description:K("92glbA")})]}),right:c})});var Qst,ost,Rst=class extends xst{render(){return iS(__c.Cj,{children:a=>{const b=this.props.gKc,c=this.props.status===2;var d=this.props.Uk;const e=this.props.tFc,f=this.props.gKc,g=this.props.Wga;d=this.props.status===1?g!=null?iS(g,{}):bst("div",{className:"_2_hQ5Q aWBg0w",children:[iS("div",{className:"qkvH5g",children:iS(__c.As,{})}),iS("div",{className:"_3n086A",children:iS(__c.As,{})})]}):f&&d.length?iS("div",{className:"gYk8kQ aWBg0w",children:iS(__c.Xz,{children:dst(this,d,a)})}):d.length?
bst("div",{className:"gYk8kQ aWBg0w",children:[dst(this,d,a),!e&&iS("span",{className:"Krr9tA",children:$rt(this)})]}):void 0;a=bst(vst,{children:[d,Zrt(this,a)]});return iS("fieldset",{disabled:!c,className:"U_vlLQ",children:b?bst(vst,{children:[iS(b.tnq,{label:$rt(this)}),!b.FGc&&a]}):a})}})}constructor(...a){super(...a);this.state={vUh:!!this.props.q4g};this.m7b=b=>this.props.ZZg&&this.props.eb.POd!=null?this.props.eb.POd(b):this.props.eb.m7b(b);this.qct=()=>{const b=!this.state.vUh;this.props.byh&&
this.props.byh(b);this.setState({vUh:b})}}};({c:[ost,Qst]}=Cst(Rst,[],[__c.Nb],xst));Qst();var est=[1,4],fst=[2,3];var pst=({Uk:a,status:b})=>{const c=zst();return bst(vst,{children:[iS(__c.us,{loading:b===1,placeholder:iS(__c.As,{size:"medium"}),content:iS(__c.R,{id:c,size:"medium",weight:"bold",children:ast(a)})}),iS(__c.Od,{direction:"vertical",size:"1u"}),iS(__c.us,{loading:b===1,placeholder:iS(__c.ez,{ariaLabel:void 0,oE:"0",gap:"1u",Zz:()=>null,children:Array.from({length:4}).map((d,e)=>iS(__c.gz,{children:iS("div",{className:"g__Qhw",children:iS(__c.Gj,{shape:"rectangle",index:e})})},e))}),content:iS(__c.ez,
{Qe:c,oE:"0",gap:"1u",Zz:()=>null,children:a.map((d,e)=>iS(__c.gz,{children:iS(Sst,{product:d})},e))})}),iS(__c.Od,{direction:"vertical",size:"1u"})]})},Sst=({product:a})=>__c.mbk(a,b=>iS(Tst,{product:b}),b=>iS(Ust,{product:b}),b=>iS(Vst,{product:b}),b=>iS(Wst,{product:b})),Tst=({product:{thumbnailUrl:a,Gpc:b}})=>iS(Xst,{url:a,title:b||K("uxmPmA")}),Vst=({product:{Fbd:a,thumbnailUrl:b}})=>b?iS(Xst,{url:b,title:a||K("TwEBPw")}):iS(Yst,{ea:__c.tB}),Wst=({product:{thumbnailUrl:a,jYm:b}})=>a?iS(Xst,{url:a,
title:b||K("GENUcA")}):iS(Yst,{ea:__c.xt}),Ust=()=>iS(Yst,{ea:__c.XSh}),Yst=({ea:a})=>iS("div",{className:cst("g__Qhw","_6sCSog","prl7dg"),children:iS(a,{size:"medium"})}),Xst=({url:a,title:b})=>iS("div",{className:cst("g__Qhw","prl7dg"),children:iS(__c.ao,{alt:b,src:a,className:"_XwF_Q"})});var kst=class{static G(a){__c.M(a,{load:Gst,GUa:Gst,Jam:Gst,X2d:Gst,Wgp:Gst,Xgp:Gst,htf:Gst,PIp:Gst,QMf:Gst,vLa:Gst})}async load(a,b,c){const d=rst()();try{if(a.tAa&&this.X2d(a,{status:"products_not_loaded"}),this.ma?.status===2)a.dAe=4;else try{a.dAe=1,this.QMf(a),d.r(await d.s(sst(this.p6c,e=>{this.htf(a,e,c?.N_a)},b,c))),Est(()=>{a.dAe=2}),a.tAa&&this.X2d(a,{status:"pending_address"})}catch(e){throw d.r(),this.Jam(a,3,e instanceof __c.ni),e;}}finally{d.s()}}Jpa(a,b,c){this.QMf(a);a.tAa&&this.X2d(a,
{status:"products_not_loaded"});return this.p6c.Jpa((d,e)=>this.Jam(a,d,e),d=>{this.htf(a,d,c?.N_a);a.tAa&&this.X2d(a,{status:"pending_address"})},b,c)}GUa(a,b){a.Mtd=b??new Set(__c.Wsd.values())}Rgk(a,b){return a.Tub-this.jLf(a,b)}jLf(a,b){return Math.min(b,a.Tub)}nce(a,b){if(a.QBa.length===0)return 0;const {currency:c}=a.QBa[0].zN.KNa;if(a.tAa)return a.S5d-Math.round(Math.min(b,a.Tub)*a.G4i);b=__c.WQg(b,c);return a.S5d-Math.min(b,a.XAp)}Jam(a,b,c){a.dAe=b;c&&(a.errorMessage=K("Aimcmw"))}X2d(a,b){a.OPb=
b}Wgp(a,b){a.fza=b}Xgp(a,b){a.dwp=b}htf(a,b,c){a.Uk=b;a.N_a=c}vyk(a,b,c){return a.yGh&&a.yGh?.kind!=="loading"&&b>0&&c?{...a.yGh,CPf:{bfe:this.jLf(a,b),Wvl:this.jLf(a,b)*a.G4i,fUs:{kind:"standard",value:this.nce(a,b)}}}:a.yGh}PIp(a,b){const c=a.Uk.map(d=>{const e=b.find(f=>{f=f.YGh;var g=d.zN?.YGh;return f&&g?f.domain===g.domain&&f.pna===g.pna:!1});return e==null?d:{...d,zN:e}});this.htf(a,c)}QMf(a){a.errorMessage=void 0}async vLa(a,b,c){const d=rst()();try{if(a.tAa)try{const g=m(a.yd,"ProductContractMediaLicensesPresenter: Tried to calculate tax with undefined BillingService"),
h=m(a.brand,"ProductContractMediaLicensesPresenter: Tried to calculate tax with undefined brand");__c.ma(a.OPb?.status!=="products_not_loaded","ProductContractMediaLicensesPresenter: Tried to calculate tax before products loaded");__c.ma(a.Qjg!=="unknown","ProductContractMediaLicensesPresenter: Tried to calculate tax with unknown price type");const k=b?new __c.bfd({line1:b.line1,line2:b.line2,line3:b.line3,city:b.city,yp:b.yp,countryCode:b.countryCode,Qq:b.Qq}):new __c.cfd;if(a.OPb?.status!=="success"||
!gst(k,a.OPb.billingAddress)||c){this.X2d(a,{status:"loading"});var e=new __c.efd({Kc:h,RR:a.Qjg==="exclusive"?2:1,currency:a.Ykb[0].zN.KNa.currency,hMj:!0,Aoj:new __c.Yed({TUl:a.ZSo.map(l=>l.zN)}),address:k}),f=d.r(await d.s(g.vLa(e)));switch(f.type){case "SUCCESS":switch(f.$0d.type){case "PRODUCT_CONTRACT_RESULT_DETAILS":this.PIp(a,f.$0d.TUl);this.X2d(a,{status:"success",billingAddress:k});this.Wgp(a,f.fza);return;case "LINE_ITEM_RESULT_DETAILS":throw Error("Received line item tax response in product contract based flow (media license)");
default:throw new __c.v(f.$0d);}case "ERROR":const l=__c.Sos(f);this.Xgp(a,l);this.X2d(a,{status:"error"});a.errorService.error(l,{uB:"media-license-calculate-tax"});break;default:throw new __c.v(f);}}}catch(g){d.r(),this.X2d(a,{status:"error"}),a.errorService.na(g,{uB:"media-license-calculate-tax"})}}finally{d.s()}}constructor({p6c:a,ma:b}){this.p6c=(kst.G(this),void 0);this.p6c=a;this.ma=b}};var mst=class{get Is(){return this.store.Is}get errorMessage(){return this.store.errorMessage}get moe(){return this.store.moe}get VK(){return this.store.QBa.length>0}get Z0a(){return this.store.XLo}get Oeh(){return this.store.Oeh}get T1e(){return this.store.T1e}get Gwf(){return this.store.Gwf}get N_a(){return this.store.N_a}get yQi(){return this.store.yQi}get o8d(){return this.store.o8d}get Ykb(){return this.store.Ykb}get ZGh(){return this.store.BAt}get Uk(){return this.store.Uk}get Qpd(){return this.store.Qpd}get OPb(){return this.store.OPb}get QBa(){return this.store.QBa}get status(){return this.store.dAe}get S5d(){return this.store.S5d}get Tub(){return this.store.Tub}get totalPrice(){return this.store.totalPrice}get Ueh(){return this.store.Ueh}get fwp(){return this.store.Qjg}get Pre(){return this.fwp===
"exclusive"}async vLa(a,b){const c=rst()();try{c.r(await c.s(this.L.vLa(this.store,a,b)))}finally{c.s()}}Rgk(a){return this.L.Rgk(this.store,a)}nce(a){return this.L.nce(this.store,a)}jLf(a){return this.L.jLf(this.store,a)}GUa(a){this.L.GUa(this.store,a)}vyk(a,b){return this.L.vyk(this.store,a,b)}load(a,b){return this.L.load(this.store,a,b)}Jpa(a,b){return this.L.Jpa(this.store,a,b)}constructor(a,b){this.store=a;this.L=b}};var lst=class{static G(a){__c.M(a,{Uk:Fst.ref,N_a:Fst.ref,Mtd:Fst.ref,dAe:Fst.ref,errorMessage:Fst.ref,OPb:Fst.ref,fza:Fst.ref,dwp:Fst.ref,QBa:jS,yGh:jS,Ykb:jS,ZSo:jS,T1e:jS,Gwf:jS,Ueh:jS,moe:jS,Oeh:jS,yQi:jS,Tub:jS,G4i:jS,XAp:jS,totalPrice:jS,S5d:jS,o8d:jS,Qjg:jS,aTo:jS,bTo:jS,$So:jS,XSo:jS,eHh:jS,Qpd:jS,OZd:jS})}get QBa(){return this.OZd.filter(a=>{const b=Qrt(a).SMa,c=a.zN?.KNa.yrd;return rbk(a)&&a.audio.laa?.dHo===!1||obk(a)&&a.media.$Ed||qbk(a)&&a.video.$Ed?!1:b.length===0&&c!==0}).filter(a=>
hst(this,a))}get yGh(){if(this.tAa){if(this.OPb?.status==="products_not_loaded"||this.OPb?.status==="loading"||this.Qjg==="unknown")return{kind:"loading"};var a=this.Qjg==="exclusive"?2:1,b=[{label:ast(this.Ykb),$N:{kind:"standard",value:this.eHh}}];if(this.OPb?.status==="pending_address")return{kind:"loaded",Jpc:{kind:"standard",value:this.eHh},Qna:{status:1,RR:a,Yr:{kind:"alert",x8j:K("JPYVRg")}},lineItems:b};if(this.OPb?.status==="error")return{kind:"loaded",Jpc:{kind:"standard",value:this.eHh},
Qna:{status:2,RR:a,a9:this.dwp??K("WHGw9g")},lineItems:b};var c=m(this.fza,"ProductContractMediaLicensesStore: Store has taxCalculationStatus = success with undefined taxCountryCode"),d=m(this.bTo,"ProductContractMediaLicensesStore: Store has taxCalculationStatus = success with undefined taxType"),e=m(this.$So,"ProductContractMediaLicensesStore: Store has taxCalculationStatus = success with undefined taxPayability");c={fza:c,Oca:this.aTo,h8:d,Nea:e,Z5:this.XSo};return{kind:"loaded",Jpc:{kind:"standard",
value:this.S5d},Qna:a===2?{...c,status:0,RR:2,wMb:this.eHh}:{...c,status:0,RR:1},lineItems:b}}}get Ykb(){return this.OZd.filter(a=>{const {SMa:b}=Qrt(a);return rbk(a)&&a.audio.laa?.fva!=null||obk(a)&&a.media.$Ed||qbk(a)&&a.video.$Ed?!1:b.length===0}).filter(a=>hst(this,a))}get ZSo(){return this.Ykb.map(a=>a.zN?.Cka?.type==="PRICE_WITH_TAX"?{...a,zN:{...a.zN,Cka:new __c.eed({Yxb:a.zN.Cka.Yxb,currency:a.zN.Cka.currency,quantity:a.zN.Cka.quantity,Lud:a.zN.Cka.Lud,XUl:a.zN.Cka.XUl,$ff:a.zN.Cka.$ff,dFa:a.zN.Cka.dFa})}}:
a).filter(a=>hst(this,a))}get BAt(){return this.Ykb.map(a=>new __c.hed({zN:a.zN}))}get XLo(){const a={a2f:!1,K8e:!1,b2f:!1,soe:!1};this.QBa.forEach(b=>{switch(b.type){case 1:a.a2f=!0;break;case 2:a.K8e=!0;break;case 3:a.b2f=!0;break;case 4:a.soe=!0;break;default:throw new __c.v(b.type);}});return a}get T1e(){const a={z8e:!1,A8e:!1};for(const b of this.OZd){if(a.z8e&&a.A8e)break;obk(b)&&b.media.yfh&&b.media.SMa.length===0&&(a.z8e=!0);qbk(b)&&b.video.yfh&&b.video.SMa.length===0&&(a.A8e=!0)}return a}get Gwf(){const a=
{O8e:!1,P8e:!1},b=c=>c.length===0?!1:c.every(d=>d.type===1&&d.tw===2);for(const c of this.OZd){if(a.O8e&&a.P8e)break;obk(c)&&b(c.media.SMa)&&(a.O8e=!0);qbk(c)&&b(c.video.SMa)&&(a.P8e=!0)}return a}get Ueh(){return this.OZd.some(a=>rbk(a)&&a.audio.SMa.length>0)||this.XLo.soe}get moe(){return!1}get Oeh(){return this.OZd.some(a=>obk(a)&&a.media.yfh&&a.media.SMa.length===0||qbk(a)&&a.video.yfh&&a.video.SMa.length===0)}get yQi(){return this.OZd.some(a=>obk(a)&&a.media.$Ed||qbk(a)&&a.video.$Ed)}get Tub(){return this.tAa?
this.QBa.reduce((a,b)=>ist(this,b)?a+b.zN.Cka.Yxb.NVg:a,0):this.QBa.reduce((a,b)=>a+b.zN.KNa.Yxb.NVg,0)}get G4i(){const a=this.Tub;return a>0?parseFloat((this.S5d/a).toFixed(8)):0}get XAp(){return this.tAa?this.QBa.reduce((a,b)=>ist(this,b)?a+b.zN.Cka.Yxb.NVg*this.G4i:a,0):this.QBa.reduce((a,b)=>a+b.zN.KNa.Yxb.NVg*b.zN.KNa.Yxb.Thn,0)}get totalPrice(){return this.tAa?this.QBa.reduce((a,b)=>ist(this,b)?a+__c.XQg(b.zN.Cka.type==="PRICE_WITH_TAX"?b.zN.Cka.C5i:b.zN.Cka.$ff,b.zN.Cka.currency):a,0):this.QBa.reduce((a,
b)=>a+__c.XQg(b.zN.KNa.Eth,b.zN.KNa.currency),0)}get S5d(){return this.tAa?this.QBa.reduce((a,b)=>ist(this,b)?a+(b.zN.Cka.type==="PRICE_WITH_TAX"?b.zN.Cka.C5i:b.zN.Cka.$ff):a,0):this.QBa.reduce((a,b)=>a+b.zN.KNa.Eth,0)}get o8d(){return this.OZd.filter(rbk).map(a=>a.audio).find(a=>a&&(!a.laa||a.laa.IKe))}get Qjg(){var a=new Set(this.Ykb.map(b=>b.zN.Cka?.Lud.Mn));if(a.size===0)return"unknown";__c.ra(a.size===1,"Not all media license product contracts share the same taxExclusive value");this.tAa&&__c.ra(!a.has(void 0),
"Product contracts unexpectedly missing tax information");if(a.has(void 0))return"unknown";[a]=a;return a?"exclusive":"inclusive"}get aTo(){if(this.OPb?.status==="success")return jst(this,a=>a.zN?.Cka?.type==="PRICE_WITH_TAX"?a.zN.Cka.Oca:void 0,"tax rate",this.Ykb)}get bTo(){if(this.OPb?.status==="success")return jst(this,a=>a.zN?.Cka?.type==="PRICE_WITH_TAX"?a.zN.Cka.h8:void 0,"tax type",this.Ykb)}get $So(){if(this.OPb?.status==="success")return jst(this,a=>a.zN?.Cka?.type==="PRICE_WITH_TAX"?a.zN.Cka.Nea:
void 0,"tax payability",this.Ykb)}get XSo(){return this.Ykb.reduce((a,b)=>{b=b.zN.Cka;return b?.type!=="PRICE_WITH_TAX"?a:a+(b.Z5??0)},0)}get eHh(){return this.Ykb.reduce((a,b)=>a+(b.zN.Cka?.dFa??0),0)}get Qpd(){return this.OPb?.status==="success"}get OZd(){return this.Uk.filter(a=>this.Mtd.has(a.type))}constructor({errorService:a,yd:b,document:c,Is:d,extension:e,user:f,brand:g,tAa:h}){this.Uk=(lst.G(this),[]);this.Mtd=new Set(__c.Wsd.values());this.dAe=0;this.document=c;this.Is=d;this.extension=
e;this.user=f;this.brand=g;this.errorService=a;this.tAa=h;this.yd=b;this.OPb=h?{status:"products_not_loaded"}:void 0}};__c.Zst=class{async Jpa(a,b,c,d){const e=rst()();try{a(1);const f=c!=null?Array.from(c.values()).join(","):"all",g=this.yol.get(f);if(g!=null)e.r(await e.s(tst(this,g,a,b)));else if(this.ma?.status===2)a(4);else{const h=tst(this,this.BYc(c,d),a,b);this.yol.set(f,h);setTimeout(Hst.wrap(()=>{this.yol.delete(f)}),1E3);return h.then(Hst.wrap(()=>{}))}}finally{e.s()}}async BYc(a,b){const c=rst()();try{this.Hqr||c.r(await c.s(this.X.sync()));const d=this.MHi({BZ:this.BZ,document:this.X.id,Is:this.X.version,
Se:this.X.extension,pages:a&&Array.from(a),N_a:b?.N_a,NS:1,dDb:[1,2,3,4]}),e=c.r(await c.s(d.promise));return e!=null?e:[]}finally{c.s()}}constructor(a,b,c,d,e=!1,f=__c.XJk){this.X=a;this.BZ=b;this.errorService=c;this.ma=d;this.Hqr=e;this.MHi=f;this.yol=new Map}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/65c45bfbfcdbc445.js.map