(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[16359],{

/***/ 918808:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(726674);__web_req__(16816);__web_req__(596972);__web_req__(378020);__web_req__(871936);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var Gg=__c.Gg;var vb=__c.vb;var v=__c.v;var I=__c.I;var K=__c.K;var ppo,qpo,rpo,spo,tpo,upo,zpo,Bpo,Fpo,Hpo,Epo,Lpo,wpo,Mpo,Npo,xpo,Gpo,Qpo,Rpo,Spo,Upo,Xpo,Ypo;ppo=function(a,b,c){return a.q_b.gwh(b,c)};qpo=function(a,b,c){return a.q_b.hwh(b,c)};rpo=function(a){const b=new Map;for(const c of a)b.set(c.id,c.laa==null||c.laa.oX);return b};
spo=function(a,b,c,d,e){if(c||e)return uN(__c.Es,{size:"medium"});if(d)switch(b){case "VIDEO":return uN(__c.I3d,{size:"medium"});case "MEDIA":return uN(__c.C3d,{size:"medium"});default:return uN(__c.opo,{size:"medium"})}switch(a){case "IMPORTED":return uN(__c.vq,{size:"medium"});case "FAILED":switch(b){case "VIDEO":return uN(__c.I3d,{size:"medium"});case "MEDIA":return uN(__c.C3d,{size:"medium"});default:return uN(__c.opo,{size:"medium"})}default:return uN(__c.lq,{size:"medium"})}};
tpo=function({resourceType:a,status:b,bAb:c,XKd:d,rjb:e,prb:f}){if(d===0)return K("VTSBRA");if(e)return I("XAuVWw",[a]);if(!f)return K("MpAjjg");if(b==="IMPORTED")return K("b7gAXA");if(b==="FAILED"&&c)return a==="VIDEO"?K("MnnxmA"):K("Koweag");if(b==="UPLOADING"||b==="PROCESSING"){if(d===1)return K("IrgwMQ");if(c){if(a==="MEDIA")return K("miwjsw");if(a==="VIDEO")return K("QPLinQ")}return I("HpLI1w",[a])}return I("x27Feg",[a])};
upo=function(a,b){switch(b){case 9:case 2:case 5:case 4:case 8:case 6:case 7:return"FAILED";case 1:case 3:break;default:throw new v(b);}switch(a){case 1:return"UPLOADING";case 3:return"IMPORTED";case 2:case void 0:return"FAILED";default:throw new v(a);}};
zpo=async function(a,b){const c=vpo()();try{try{a.B$l(!0);const d=Array.from(a.prb.keys()),e=b.filter(g=>g.resourceType==="MEDIA"&&!d.includes(g.id)&&!g.files.some(({url:h})=>h.startsWith("data:")));if(a.Ukb&&e.length>0){const g=[];for(const l of e)g.push(a.gG.glb(`${l.id??""}:${l.version??0}`));const h=c.r(await c.s(Promise.allSettled(g))).filter(l=>l.status==="fulfilled").map(l=>l.value),k=rpo(h);for(const [l,n]of k.entries())a.prb.set(l,n)}const f=c.r(await c.s(Promise.all(b.map(g=>{const h=g.resourceType;
switch(h){case "VIDEO":return wpo(a,g);case "MEDIA":return xpo(a,g);default:throw new v(h);}}))));ypo(()=>{for(const k of f){var g=k.type;switch(g){case "UPSERT":g=k.D0m;a.uKf.set(g.type==="MEDIA"&&g.version!=null?`${g.id??""}:${g.version??0}`:g.id,g);break;case "REMOVE":g=a;var h=k.key;g.uKf.delete(h);g.mqi.add(h);break;case "IGNORE":break;default:throw new v(g);}}})}finally{c.r(),a.B$l(!1)}a.YSn(b);a.vmf||(a.vmf=!0)}finally{c.s()}};
Bpo=function(a){let b;const c=setTimeout(Apo.wrap(()=>{b=a.X.document.Ja==="responsive"?ppo(a.Ip,a.X.document,d=>{zpo(a,a.I1e([d]))}):qpo(a.Ip,a.X.document,d=>{zpo(a,a.I1e(d))})}),50);return()=>{clearTimeout(c);b?.()}};
Fpo=function(a,b,c){if(a.X.document.Ja==="responsive"){c=a.X.document.Hn.toArray();var d=__c.Is.zw(a.X.document)}else{d=a.X.document.pages.toArray()[c];if(!d||d.type!=="responsive")return new Map;c=[d];d=__c.Is.Vw(d)}d=d.map(e=>Cpo(e)??Dpo(e)).filter(vb);if(b){const e=Array.from(b.keys());if(d.every(f=>e.includes(f))){for(const f of e)d.includes(f)||b.delete(f);return b}}b=new Map;for(const e of c)for(const f of e.text.items)Epo(a,b,e.text,f);return b};
Hpo=function(a,b,c,d){c=a.iYk(b,c,d);const {cwl:e,bwl:f}=Gpo(a,b,d);return{vnr:c,cwl:e,bwl:f}};
Epo=function(a,b,c,d){for(const e of Ipo(d)){const f=Dpo(e),g=Cpo(e);(f||g)&&b.set(f??g??"",{text:c,item:d,fill:e})}switch(d.type){case "table":for(const e of Array.from(d.cells.values()))for(const f of e.content.text.items)Epo(a,b,e.content.text,f);break;case "layout":for(const e of Array.from(d.cells.values()))for(const f of e.text.items)Epo(a,b,e.text,f);break;case "controlled":case "rect":case "chart":case "embed":case "pill":case "break":case "separator":case "sheet":case "design":break;case "shape":throw new __c.bt;
default:throw new v(d);}};Lpo=function(a,b,c){if(a.X.document.Ja!=="responsive"&&(a=a.X.document.pages.toArray(),c=__c.m(c)-1,a[c])){switch(a[c].type){case "fixed":c=a[c].elements.filter(vb);break;case "concatenated-fixed":c=a[c].pages.flatMap(d=>d.elements.filter(vb));break;case "controlled":case "responsive":return;case "video":throw new Gg;default:throw new v(a[c]);}return c.find(d=>Jpo(d).some(e=>Kpo({fill:e,jEi:b})))}};
wpo=async function(a,b){const c=vpo()();try{const e=b.id;var d=b.OI;const f=b.EC,g=b.modifiers,h=b.page,k=b.text,l=b.item,n=!!b.rjb,p=a.itb?c.r(await c.s(a.Qme(b))):2,q=Lpo(a,b,h),r=a.X.document.Ja==="fixed"?a.A6f(b,h):!1;if(!a.vmf&&d==="IMPORTED"&&p!==0)return{type:"REMOVE",key:e};if(a.mqi.has(e))return{type:"IGNORE"};let t;d=n?"FAILED":d||"";try{const {title:x,status:y}=c.r(await c.s(a.YYa.glb(e)));t=x||K("SxPElQ");d===""&&y&&(d=y)}catch(x){c.r(),t=K("SxPElQ")}const u=!!g.length,w=tpo({resourceType:b.resourceType,
status:d,rjb:n,prb:!0,XKd:p,bAb:u});return{type:"UPSERT",D0m:{type:"VIDEO",id:e,fileName:t,status:d,kub:w,s3f:f[0]?.url||"",bAb:u,XKd:p,rjb:n,prb:!0,A6f:r,page:h,element:q,text:k,item:l}}}finally{c.s()}};
Mpo=async function(a,b,c){const d=vpo()();try{const e=b.OVc,f=b.OI,g=`${b.id??""}:${b.version??0}`,h=!!b.rjb;try{if(e){const {Hb:{HU:k}}=d.r(await d.s(a.gG.glb(g)));if(!a.vmf&&!h&&f==null&&!c&&k===3)return!0}return!1}catch(k){return d.r(),a.errorService.na(k,{Ea:"unable to retrieve derived media"}),!1}}finally{d.s()}};
Npo=async function(a,b){const c=vpo()();try{let d;const e=b.id,f=b.version,g=b.OVc;g&&({WK:d}=c.r(await c.s(a.gG.glb(`${g.id??""}:${g.version??0}`))));const {WK:h,Hb:{HU:k,status:l}}=c.r(await c.s(a.gG.glb(`${e??""}:${f??0}`)));d||(d=h);return{OI:k,ral:l,fileName:d??K("SxPElQ")}}finally{c.s()}};
xpo=async function(a,b){const c=vpo()();try{const d=b.id,e=b.brand,f=b.version,g=b.OVc,h=b.OI,k=b.files,l=b.page,n=b.text,p=b.item,q=`${d??""}:${f??0}`;let r=!!b.rjb;const t=a.prb.get(d)??!0;if(a.mqi.has(q))return{type:"IGNORE"};let u=K("SxPElQ"),w=r?"FAILED":"",x=r?I("XAuVWw",["MEDIA"]):"";const y=k.find(D=>D instanceof __c.Jm&&!D.eo)?.url??k[0]?.url??"",z=k.some(({url:D})=>D.startsWith("data:"));if(t){if(c.r(await c.s(Mpo(a,b,z)))||!(a.vmf||r||h!==3&&(z||g)))return{type:"REMOVE",key:q};try{const {OI:D,
ral:G,fileName:J}=c.r(await c.s(Npo(a,b)));u=J;w=upo(D,G);D===3&&G===3&&r&&(r=!1)}catch(D){c.r(),u=K("SxPElQ"),z&&!h&&(w="UPLOADING")}}else w="IMPORTED",r=!1;x=tpo({resourceType:b.resourceType,status:w,rjb:r,prb:t,XKd:2,bAb:g!=null});if(!a.vmf&&t&&w==="IMPORTED")return{type:"REMOVE",key:q};const A=Lpo(a,b,l),C=a.X.document.Ja==="fixed"?a.A6f(b,l):!1;return{type:"UPSERT",D0m:{type:"MEDIA",brand:e,id:d,fileName:u,status:w,kub:x,s3f:y,bAb:g!=null,XKd:2,rjb:r,prb:t,A6f:C,version:f,page:l,element:A,text:n,
item:p}}}finally{c.s()}};
Gpo=function(a,b,c){a=a.X.document;var d;a.Ja!=="responsive"&&(d=a.pages.toArray()[__c.m(c)]);const e=b.ox.map(h=>h.id),f=b.AM.map(h=>`${h.id??""}:${h.version??0}`);b=(d?__c.on.Vw(d):__c.on.zw(a)).map(h=>new __c.JHb({id:h.video,width:h.ib.width,height:h.ib.height}));d=(d?__c.jHb.Vw(d):__c.jHb.zw(a)).map(h=>new __c.Kmc({id:h.id,version:h.version}));const g=a.Ja==="fixed"?__c.m(c)+1:void 0;c=b.filter(h=>!e.includes(h.id)).map(h=>({resourceType:"VIDEO",page:g,rjb:!0,version:void 0,...h}));a=d.filter(h=>
!f.includes(`${h.id??""}:${h.version??0}`)).map(h=>({resourceType:"MEDIA",page:g,rjb:!0,...h}));return{cwl:c,bwl:a}};Qpo=function(a,b,c){return Array.from(b.values()).map(({text:d,item:e,fill:f})=>{const g=Opo(f);f=Ppo(f);const h=a.AM.find(k=>k.id===g?.id&&k.version===g?.version);if(g&&f&&h)return{SG:g,$jc:f,media:h,text:d,item:e}}).filter(vb).map(d=>({resourceType:"MEDIA",rjb:!1,...d.media,page:c,id:d.$jc.id,version:d.$jc.version,OVc:d.SG,HU:void 0,text:d.text,item:d.item}))};
Rpo=function(a,b,c){switch(b.type){case "fixed":b=[b];break;case "concatenated-fixed":b=b.pages.toArray();break;default:throw new v(b);}return b.flatMap(d=>d.elements.flatMap(e=>Jpo(e)).concat(d.$b.toArray())).map(d=>{const e=Opo(d);d=Ppo(d);const f=a.AM.find(g=>g.id===e?.id&&g.version===e?.version);if(e&&d&&f)return{SG:e,$jc:d,media:f}}).filter(vb).map(d=>({resourceType:"MEDIA",page:c,rjb:!1,...d.media,id:d.$jc.id,version:d.$jc.version,OVc:d.SG,HU:void 0}))};
Spo=function(a,b,c){return Array.from(a.uKf.values()).filter(d=>c.has(d.id)&&d.page&&b.has(d.page))};Upo=function(a,b){const c=Array.from(a.uKf.values());return __c.UE(a.X)&&b.size?c.filter(d=>!d.page||b.has(d.page)||a.Fgb&&d.status==="UPLOADING").sort(Tpo):c};Xpo=function(a,{Xf:b,Wza:c,resources:d,source:e}){return Vpo(()=>({Xf:b.get(),Wza:c.get(),resources:d.get()}),({Xf:f,Wza:g,resources:h})=>{h=h.filter(k=>Wpo(k));g||h.length===0||a.track(f,h,e)},{fireImmediately:!0})};
Ypo=function({oX:a,resources:b,qSk:c}){return Vpo(()=>({oX:a.get(),resources:b.get()}),({oX:d,resources:e},f)=>{f!=null&&(d=d&&e.length===0,(f.oX&&f.resources.length===0)!==d&&c(d,e))},{fireImmediately:!0})};
__c.eqo=function({X:a,Ip:b,pg:c,sc:d,Db:e,V:f,errorService:g,Tf:h,Dka:k,itb:l,Ukb:n,Fgb:p,Tp:q,u0:r,la:t,SE:u,xN:w}){const x=u?void 0:new __c.wm(async A=>{const C=vpo()();try{const D=A.map(J=>{const [L,N]=J.split(":");return{id:L,version:N?parseInt(N,10)||0:0}}),G=new __c.xm({doc:a.id,extension:a.extension,YQa:!0,Yib:!0,media:D,limit:D.length});return C.r(await C.s(e.oRa(G))).media.map(J=>({ref:`${J.id??""}:${J.version??0}`,ZT:J.accessToken?.token??""}))}finally{C.s()}},50),y=new Zpo({X:a,Ip:b,YYa:new __c.wm(async A=>
{const C=vpo()();try{return C.r(await C.s(c.nKb(new __c.lIb({zg:__c.Rd(A)})))).Vc.map(D=>({ref:D.id,ZT:D}))}finally{C.s()}},50),gG:new __c.wm(async A=>{const C=vpo()();try{const D=__c.Rd(A),G=x?C.r(await C.s(Promise.all(D.map(L=>x.glb(L))))):[],J=new __c.Iw({refs:D,Lza:G,projection:__c.Gm([8,5]),limit:D.length,aal:!0});return C.r(await C.s(d.g5a(J))).media.map(L=>({ref:`${L.id??""}:${L.Hb.version??0}`,ZT:L}))}finally{C.s()}},50),V:f,errorService:g,Tf:h,Dka:k,itb:l,Ukb:n,Fgb:p,Tp:q,u0:r,la:t,xN:w}),
z=$po(({Component:A,KKn:C,ulp:D,source:G,pages:J,qSk:L})=>{const N=aqo(()=>J?.get()??new Set),P=aqo(()=>C(N.get()));let Q,U;return bqo(()=>{const Y=y.qA(N.get());cqo(()=>{const X=Bpo(y);G==="publish_panel"&&(Q=Xpo(y,{Xf:N,Wza:Y.Wza,resources:P,source:G}));G==="print_panel_licensed_media"&&L&&(U=Ypo({oX:Y.oX,resources:P,qSk:L}));return()=>{X();y.destroy();Q?.();U?.()}},[Y.Wza,Y.oX]);return D(Y,P)?null:uN(A,{resources:P.get(),O6i:dqo(X=>y.O6i(X))})})});b=$po((A,C,D)=>z({Component:A,KKn:G=>y.WJd(G),
ulp:(G,J)=>G.Wza.get()&&J.get().length===0,source:C,pages:D}));f=$po((A,C,D,G,J)=>z({Component:C,KKn:L=>[...y.sWg(L),...y.WJd(L)],ulp:(L,N)=>A||L.oX.get()&&L.Wza.get()&&N.get().length===0,source:D,pages:G,qSk:J}));return{Otc:y.Otc,qA:y.qA,Tga:b,dnb:n?f:void 0,Uyg:async()=>y.Uyg()}};__c.G8f.prototype.hwh=__c.fa(1086,function(a,b){return this.observe({content:a,pages:!0,callback:b})});__c.F8f.prototype.hwh=__c.fa(1085,function(a,b){return this.observe(a,this.Hur,c=>this.delegate.hwh(a,c),b)});
var fqo={eventType:"publish_blocked",La(a){return __c.yg({doctype_id:a.va,document_id:a.ha,is_pro_upgrade_flow_visible:a.Wxs,blocking_error:a.Wji,blocking_files:a.Xji?.map(b=>__c.yg({resource_id:b.resourceId,resource_type:b.resourceType,resource_error:b.KLt})),is_selection:a.q7,selected_pages:a.Xf,source:a.source})}},vpo=__webpack_require__(75402)._;var gqo=__webpack_require__(296713),hqo=gqo.Fragment,uN=gqo.jsx,iqo=gqo.jsxs;var jqo=__webpack_require__(978109),kqo=jqo.memo,cqo=jqo.useEffect,lqo=jqo.useId;var mqo=__webpack_require__,nqo=mqo(208463),oqo=mqo.n_x(nqo)();var bqo=__webpack_require__(270531).PA;var pqo=__webpack_require__(536618),qqo=pqo.Aj,$po=pqo.iB;var Apo=__webpack_require__(245307).Fm;var rqo=__webpack_require__(186901),aqo=rqo.EW,ypo=rqo.h5,Vpo=rqo.mJ,sqo=rqo.sH,dqo=rqo.XI;__c.tqo=({fileName:a,TWh:b,WJm:c,Ovo:d,selected:e})=>uN("li",{className:"XAI4MA",children:uN(__c.lo,{background:e?"neutralLow":"none",onClick:d,description:b,title:a?uN(__c.fo,{size:"small",children:a}):uN("div",{className:"_3HwVrQ",children:uN(__c.As,{})}),thumbnail:uN(__c.Ft,{height:"5u",width:"5u",borderRadius:"none",children:uN(c,{})}),layout:"horizontal",jp:"card",Qn:"bgColorTransition",padding:"1u"})});__c.uqo=kqo(({label:a,ybc:b,className:c})=>{const d=lqo();return iqo("label",{className:oqo("BFYgUQ",c),htmlFor:d,children:[uN(__c.Xz,{className:"LKTAgQ",children:a}),b(d,a)]})});var vqo=({children:a,label:b})=>a?uN(__c.uqo,{label:b,ybc:(c,d)=>uN("ul",{id:c,"aria-label":d,className:"pgdK_A",children:a})}):null;var xqo=({index:a,fadeOut:b})=>uN("li",{className:oqo("q_hb2g",{hoWkmw:b}),children:uN(__c.lo,{title:uN(wqo,{sao:!0,index:a*3+1}),description:uN(wqo,{sao:!1,index:a*3+2}),thumbnail:uN(__c.Gt,{index:a*3,borderRadius:"elementSmall",height:"5u",width:"5u"}),layout:"horizontal",jp:"card",Qn:"bgColorTransition",padding:"1u"})}),wqo=({sao:a,index:b})=>uN("div",{className:oqo("MmRQOw",{lEZnvw:!a}),children:uN(__c.As,{size:"xsmall",index:b})});__c.yqo=({s3f:a,status:b,alt:c,I:d})=>iqo("div",{className:"VH53tQ",children:[a&&uN("img",{alt:c,className:"vYn3Qg",src:a}),uN("div",{className:"PjM3fw"}),uN("div",{className:"OMtSWg",children:spo(b,d?.type,d?.c7n,d?.rjb,d?.pxs)})]});__c.zqo=({resources:a,O6i:b})=>uN(vqo,{label:K("KCAU6g"),children:a.length>0?a.map(c=>{const d=c.type,e=c.id,f=c.fileName,g=c.status,h=c.s3f,k=c.XKd,l=c.rjb;return uN(__c.tqo,{fileName:f,TWh:c.kub,Ovo:()=>{b?.(c)},WJm:bqo(()=>uN(__c.yqo,{s3f:h,status:g,alt:I("iXpIEg",[f]),I:{type:d,c7n:k===0,rjb:l}}))},e)}):iqo(hqo,{children:[uN(xqo,{index:0}),uN(xqo,{index:1,fadeOut:!0})]})});var Ppo=a=>{if(a.image&&a.image.ref)return a.image.ref.tn},Opo=a=>{if(a.image&&a.image.ref&&a.image.ref.media.type!=="UNRESOLVED")return a.image.ref.media},Cpo=a=>{if(a=Opo(a))return`${a.id??""}:${a.version??0}`},Dpo=a=>{if(a.video&&a.video.ref)return a.video.ref.video},Wpo=a=>{const b=a.XKd,c=a.rjb;return a.status!=="IMPORTED"||b===0||c},Aqo=a=>{let b="UNKNOWN";if(a.some(c=>!Wpo(c)))return{Wji:b,Xji:[]};a=a.map(c=>{b==="UNKNOWN"&&(b="UNIMPORTED");var d="UNKNOWN";if(c.status!=="IMPORTED"){c.status!==
"FAILED"||c.bAb||(b="MISSING_OR_FAILED");a:{switch(c.status){case "UPLOADING":d="UPLOADING";break a;case "PROCESSING":d="PROCESSING";break a;case "FAILED":d="FAILED";break a}d=void 0}d=d??"FAILED"}c.status==="FAILED"&&c.bAb&&(b!=="MISSING_OR_FAILED"&&b!=="DEVICE_VIDEO"&&(b="EFFECTS_FAILED"),d="EFFECTS_FAILED");c.XKd===0&&(b!=="MISSING_OR_FAILED"&&(b="DEVICE_VIDEO"),d="DEVICE_VIDEO");c.rjb&&(b="MISSING_OR_FAILED",d="MISSING");return{resourceId:c.type==="MEDIA"?`${c.id??""}:${c.version??0}`:c.id,resourceType:c.type,
KLt:d}});return{Wji:b,Xji:a}},Kpo=({fill:a,jEi:b})=>{if(b.resourceType==="VIDEO")return a.video&&a.video.ref?b.id===a.video.ref.video:!1;if(b.resourceType==="MEDIA"){if(!a.image||!a.image.ref)return!1;const c=b.id;b=b.version;a=a.image.ref;if(a.tn)return c===a.tn.id&&b===a.tn.version;const {id:d,version:e}=__c.ff(a.media);return c===d&&b===e}return!1},Jpo=qqo(a=>{switch(a.type){case "chart":case "group":return a.contents.flatMap(Jpo);case "grid":return Array.from(a.cells.values()).map(b=>b.fill);
case "rect":case "line":return[a.fill];case "shape":return a.paths.map(b=>b.fill);case "table":return Array.from(a.cells.values()).flatMap(b=>[b.fill]);case "text":case "embed":case "controlled":return[];case "sheet":return __c.Bf("BlockingMediaUtils",[]);case "layout":return __c.Ak("BlockingMediaUtils",[]);default:throw new v(a);}}),Ipo=qqo(a=>{switch(a.type){case "rect":return[a.fill];case "shape":return a.paths.map(b=>b.fill);case "table":return Array.from(a.cells.values()).flatMap(b=>{const c=
[b.fill];b.content.text.items.forEach(d=>c.push(...Ipo(d)));return c});case "design":return a.pages.flatMap(b=>b.elements.flatMap(c=>Jpo(c)));case "layout":return[a.fill].concat(Array.from(a.cells.values()).flatMap(b=>{const c=[b.fill];b.text.items.forEach(d=>c.push(...Ipo(d)));return c}));case "controlled":case "chart":case "embed":case "pill":case "break":case "separator":return[];case "sheet":return __c.Bf("BlockingMediaUtils",[]);default:throw new v(a);}}),Tpo=(a,b)=>typeof a.page==="undefined"?
1:typeof b.page==="undefined"?-1:a.page-b.page;var Zpo=class{static G(a){__c.M(a,{lpl:sqo.ref,B$l:dqo,YSn:dqo})}B$l(a){this.lpl=a}YSn(a){const b=a.map(c=>c.version!=null?`${c.id??""}:${c.version??0}`:c.id);a=Array.from(this.uKf.keys()).filter(c=>!b.includes(c));for(const c of a)this.uKf.delete(c)}async Qme(a){const b=vpo()();try{return a.source!=="DEVICE"?2:this.u0?b.r(await b.s(__c.JJa(this.u0,a.id)))?1:0:0}finally{b.s()}}async Uyg(){const a=vpo()();try{const b=a.r(await a.s(this.Ip.yId(this.X.document)));zpo(this,this.I1e([b]))}finally{a.s()}}I1e(a){return a.flatMap((b,
c)=>{const d=new Map,e=Fpo(this,d.get(c),c);d.set(c,e);const {vnr:f,cwl:g,bwl:h}=Hpo(this,b,e,c),k=__c.UE(this.X)?c+1:void 0;return[...g,...b.ox.map(l=>({resourceType:"VIDEO",page:k,version:void 0,...l})),...h,...b.AM.map(l=>({resourceType:"MEDIA",page:k,...l})),...f].map(l=>{const {text:n,item:p}=e.get(l.resourceType==="MEDIA"?`${l.id??""}:${l.version??0}`:l.id)||{};return n&&p?{...l,text:n,item:p}:l})})}A6f(a,b){if(this.X.document.Ja==="responsive")return!1;b=this.X.document.pages.toArray()[__c.m(b)-
1];if(!b)return!1;switch(b.type){case "fixed":return b.$b.some(c=>Kpo({fill:c,jEi:a}));case "concatenated-fixed":return b.pages.some(c=>(c=c.$b.first())?Kpo({fill:c,jEi:a}):!1);case "controlled":case "responsive":return!1;case "video":throw new Gg;default:throw new v(b);}}iYk(a,b,c){var d=this.X.document;if(d.Ja==="responsive")return Qpo(a,b);d=d.pages.toArray()[c];if(!d)return[];switch(d.type){case "fixed":case "concatenated-fixed":return Rpo(a,d,c+1);case "controlled":return __c.ju("BlockingMediaPresenter.getControlledDerivedMedia()",
[]);case "responsive":return Qpo(a,b,c+1);case "video":throw new Gg;default:throw new v(d);}}O6i(a){if(this.X.document.Ja!=="responsive"&&this.Tp){var b=this.X.document.pages.toArray(),c=a.element,d=a.A6f,e=a.page;if(e&&(b=b[e-1])&&b.type!=="responsive")if(e=__c.Kg(this.X.document),d)switch(this.la.layout===2&&this.xN(),b.type){case "fixed":this.Tp.selection.LW(e,b);this.Tp.pH(b);break;case "concatenated-fixed":if(d=b.pages.first(f=>(f=f.$b.first())?Kpo({fill:f,jEi:a.type==="MEDIA"?{resourceType:a.type,
...a}:{resourceType:a.type,id:a.id}}):!1))this.Tp.selection.LW(e.tb(b),d),this.Tp.pH(b);break;case "controlled":this.Tp.oH(e.tb(b));break;case "video":throw new Gg;default:throw new v(b);}else if(c)switch(this.la.layout===2&&this.xN(),b.type){case "fixed":this.Tp.selection.im(e.tb(b),c);this.Tp.pH(b);break;case "concatenated-fixed":if(d=b.pages.first(f=>f.elements.has(c)))this.Tp.selection.im(e.tb(b).tb(d),c),this.Tp.pH(b);break;case "controlled":this.Tp.oH(e.tb(b));break;case "video":throw new Gg;
default:throw new v(b);}}}destroy(){this.vmf=!1}track(a,b,c){try{if(b.length!==0){var d=__c.UE(this.X)?this.X.document.pages.toArray():void 0,e=d?a.size!==d.length:void 0,{Wji:f,Xji:g}=Aqo(b),h={ha:this.X.id,va:this.X.doctype?.id,Wxs:!this.Dka&&this.Tf.VK,q7:e,Xf:e!=null?Array.from(a):void 0,source:c,Xji:g,Wji:f},k=this.NWn(h);k!==this.lCs&&(this.lCs=k,this.V.track(fqo,h))}}catch(l){this.errorService.na(l)}}constructor({X:a,Ip:b,YYa:c,gG:d,V:e,errorService:f,Tf:g,Dka:h,itb:k,Ukb:l,Fgb:n,u0:p,la:q,
xN:r,NWn:t,Tp:u}){this.X=(Zpo.G(this),void 0);this.lpl=this.vmf=!1;this.uKf=sqo.map();this.mqi=sqo.set();this.prb=sqo.map();this.uOk=sqo.set();this.qA=$po(w=>({Wza:aqo(()=>this.Wza(w)),oX:aqo(()=>this.oX(w)),WJd:aqo(()=>this.WJd(w)),sWg:aqo(()=>this.sWg(w)),Lnd:aqo(()=>this.Lnd(w)),C1f:aqo(()=>this.C1f(w)),LQd:aqo(()=>this.LQd(w)),X1f:aqo(()=>this.X1f(w))}));this.Otc=w=>{ypo(()=>{for(const x of w)this.mqi.delete(x),this.uOk.add(x)});this.Uyg()};this.WJd=$po(w=>{const x=Upo(this,w),y=new Set(this.sWg(w).map(z=>
z.id));return x.filter(z=>!y.has(z.id))});this.sWg=$po(w=>this.uOk.size>0?Spo(this,w,this.uOk).map(x=>({...x,status:"FAILED",kub:I("cJ+b0w",[x.type])})):this.Ukb?Upo(this,w).filter(x=>!x.prb):[]);this.Wza=$po(w=>!this.Dka&&this.Tf.VK?!0:this.lpl?!1:!this.Lnd(w)&&!this.C1f(w)&&!this.LQd(w));this.oX=$po(w=>this.sWg(w).length===0);this.Lnd=$po(w=>this.WJd(this.Fgb?new Set:w).filter(x=>x.status!=="IMPORTED").length>0);this.C1f=$po(w=>this.WJd(w).filter(x=>x.XKd===0).length>0);this.LQd=$po(w=>this.WJd(w).filter(x=>
x.status==="FAILED"||x.rjb&&x.status!=="IMPORTED").length>0);this.X1f=$po(w=>{w=this.WJd(w).filter(y=>y.status==="FAILED");const x=w.filter(y=>y.bAb);return w.length&&!w.some(y=>!y.bAb)&&x.length?!x.some(y=>y.type==="VIDEO"):!1});this.X=a;this.Ip=b;this.YYa=c;this.gG=d;this.V=e;this.errorService=f;this.Tf=g;this.Dka=h;this.itb=k;this.Ukb=l;this.Fgb=n;this.u0=p;this.Tp=u;this.la=q;this.xN=r;this.NWn=t?t:w=>JSON.stringify(w)}};__c.Bqo={YOu:"print_panel_licensed_media"};__c.Bqo.b9q=__c.eqo;
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/67b899d9f34f876a.js.map