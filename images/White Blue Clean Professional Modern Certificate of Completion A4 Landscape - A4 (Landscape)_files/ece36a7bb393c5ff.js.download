(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[68241],{

/***/ 408247:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(794866);__web_req__(378020);__web_req__(732539);__web_req__(907978);__web_req__(368218);__web_req__(743786);__web_req__(267499);__web_req__(3185);__web_req__(406405);__web_req__(824842);__web_req__(233762);__web_req__(632661);__web_req__(843728);__web_req__(393812);__web_req__(728590);__web_req__(566092);__web_req__(52379);__web_req__(294846);__web_req__(861194);__web_req__(304792);__web_req__(440443);__web_req__(838421);__web_req__(883115);__web_req__(932178);__web_req__(726674);__web_req__(282976);__web_req__(300394);__web_req__(982834);__web_req__(538063);__web_req__(533943);__web_req__(310450);__web_req__(719129);__web_req__(511903);__web_req__(548217);__web_req__(222938);__web_req__(338012);__web_req__(791370);__web_req__(651925);__web_req__(741979);__web_req__(534771);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var Nb=__c.Nb;var GL=__c.GL;var td=__c.td;var Xc=__c.Xc;var CR;var M=__c.M;var As=__c.As;var Gj=__c.Gj;var KA=__c.KA;var gi=__c.gi;var es=__c.es;var di=__c.di;var Sb=__c.Sb;var fa=__c.fa;var E=__c.E;var cb=__c.cb;var B=__c.B;var Lo=__c.Lo;var Qpc=__c.Qpc;var yi=__c.yi;var F=__c.F;var Xa=__c.Xa;var Wa=__c.Wa;var Vo=__c.Vo;var Ta=__c.Ta;var Oo=__c.Oo;var T=__c.T;var S=__c.S;var H=__c.H;var BR;var iN=__c.iN;var sN=__c.sN;var R=__c.R;var Yk=__c.Yk;var dd=__c.dd;var nN=__c.nN;var sa=__c.sa;var I=__c.I;
var O=__c.O;var ONs;var yR;var K=__c.K;var wR;var uR;var ma=__c.ma;var ra=__c.ra;var m=__c.m;var jO=__c.jO;var tR;var iO=__c.iO;var FN=__c.FN;var Ka=__c.Ka;var Na=__c.Na;var yNm=__c.yNm;var v=__c.v;var mh=__c.mh;
var XLs,YLs,ZLs,$Ls,aMs,bMs,cMs,dMs,eMs,fMs,gMs,hMs,iMs,jMs,mMs,nMs,oMs,pMs,qMs,rMs,wMs,xMs,yMs,CMs,FMs,EMs,KMs,MMs,OMs,PMs,QMs,RMs,SMs,TMs,UMs,WMs,gNs,eNs,qNs,tNs,yNs,zNs,BNs,CNs,ENs,FNs,DNs,GNs,HNs,INs,JNs,LNs,MNs,NNs,KNs,PNs,QNs,WNs,XNs,ZNs,$Ns,aOs,cOs,dOs,gOs,hOs,fOs,iOs,jOs,lOs,nOs,mOs,kOs,oOs,qOs,tOs,sOs,vOs,xOs,rOs,uOs,wOs,zOs,AOs,BOs,COs,EOs,FOs,IOs,KOs,JOs,POs,TOs,MOs,OOs,GOs,QOs,DOs,SOs,HOs,ROs,VOs,WOs,aPs,XOs,YOs,ZOs,$Os,bPs,cPs,dPs,ePs,fPs,gPs,hPs,iPs,kPs,lPs,pPs,qPs,sPs,uPs,oPs,vPs,xPs,
zPs,DPs,FPs,tPs,QPs,MPs,LOs,RPs,VPs,aQs,eQs,hQs,jQs,oQs,sQs,vQs,wQs,xQs,DQs,HQs,IQs,JQs,VQs,aRs,bQs,dQs,dRs,eRs,gRs,nPs,hRs,iRs,jRs,kRs,mPs,lRs,mRs,GPs,rPs,nRs,oRs,sRs,vRs,lMs,JMs,HMs,BQs,UOs;XLs=function(a=__c.HFc){return __c.cea(a)?16777216:268435456};YLs=function(a){switch(a){case "EDITOR":case "DESIGN_WATCHER":case "DESIGN_FROM_MEDIA":case "HOME":return a;default:return"OTHER"}};
ZLs=function(a,b,c){var d=(__c.Wh(a)?1:0)-(__c.Wh(b)?1:0);if(d!==0)return d>0;d=(a.Ue?1:0)-(b.Ue?1:0);const e=a.width-b.width;if(d!==0&&Math.abs(a.width-b.width)<=1&&Math.abs(a.height-b.height)<=1)return d<0;a=c(a);b=(a?1:0)-(c(b)?1:0);return b!==0?b>0:a?d!==0?d<0:e<0:e>0};
$Ls=function(a,b,c,d,e,f,g,h=XLs){b=Math.max(...b.map(p=>{if(p=p.dimensions??c){var {width:q,height:r}=mh(4,p);p=f&&f/q;var t=g&&g/r;p=p&&t?Math.max(p,t):p||t}else p=void 0;return p}).filter(__c.vb));const k=new Map;for(const [p,q]of d){d=`${p.id}:${p.version}`;const r=k.get(d);(!r||r.width<q.width)&&k.set(d,q)}let l=!0;const n=(e.mc||1)*b;a=Array.from(a,p=>{switch(p.type){case "RASTER":case "VECTOR":break;case "DESIGN":case "ELEMENT_GROUP":case "FONT":case "UNKNOWN":return;default:throw new v(p);
}const q=k.get(`${p.id}:${p.version}`);let r;if(q){const u=q.width*n,w=q.height*n;r=x=>__c.Wh(x)?!0:p.type==="VECTOR"&&p.GB&&!x.eo?!1:x.width>=u&&x.height>=w}else r=()=>!1;let t;for(const u of p.files)u.ru||u.e5a!=null||p.type==="VECTOR"&&p.GB&&u.eo&&u.width*p.GB.qdc*u.height*p.GB.HFe>h()||e.f3c===1&&u.Ue||t&&!ZLs(u,t,r)||(t=u);l&&(l=!!t&&(!q||r(t)));return t&&{...p,files:[t]}}).filter(__c.vb);return{Egs:l,I$t:a}};aMs=function(a){return a.Da.pages.every(b=>b.type==="FIXED"&&!b.sheet)};
bMs=function(a,b,c,d,e){const f=a.Da,{Egs:g,I$t:h}=$Ls(a.AM,f.pages,f.dimensions,a.wur,b,c.width,c.height,XLs);if(g||yNm(c)||d)return{Iya:b,zJ:c,AM:h,ox:a.ox,kT:a.kT,pA:a.pA,embeds:a.embeds,etc:a.etc,LSc:a.LSc,un:a.un,JX:a.JX,je:e}};cMs=function(a){switch(a){case 2:return"storage_permission";case 1:case void 0:return"unknown";default:throw new v(a);}};
dMs=function(){if(typeof navigator==="undefined")return!0;var a=/com.canva.editor\s\(version\/(\d+)\.(\d+)\.(\d+)/.exec(navigator.userAgent);if(!a)return!0;a=a.slice(1);const b=["2","207","0"];for(let c=0;c<b.length&&!(a[c]>b[c]);c++)if(a[c]<b[c])return!1;return!0};eMs=function(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:throw new v(a);}};
fMs=function(a){if(a.type==="FIXED"){var b;if(b=a.dimensions)b=a.dimensions,b=new __c.l5b({...b,units:eMs(b.units)});a={...a,dimensions:b}}return a};
gMs=function(a,b){const c={BUn:!1,E7k:!1,VKb:!1,H6k:!1,y5k:!1},d=b.reduce((e,f)=>{e[`${f.id}:${f.version}`]=f;return e},{});a=__c.Sh.deserialize(a);(new class extends __c.o5c{Rga(e){super.Rga(e);c.VKb||(c.VKb=!!e.transition)}GN(e){super.GN(e);c.VKb||(c.VKb=!!e.animation);c.H6k||(c.H6k=e.$b.some((f,g)=>f.transition!=null&&g!==e.$b.length-1))}RBf(e){super.RBf(e);c.VKb||(c.VKb=e.type!=="none")}KAg(e){super.KAg(e);c.VKb||(c.VKb=!!(e.IAa||e.yva||e.rotate||e.LCa))}pwa(e){let f=e.tn;f||e.media.type!=="RESOLVED"||
(f=e.media);f&&(e=d[`${f.id}:${f.version}`],c.y5k||(c.y5k=!!e?.Px))}y5h(e){super.y5h(e);c.BUn=!0}H1(e){super.H1(e);c.E7k||(c.E7k=__c.eZe(e.config.type))}}).t3(a);return c};
hMs=function(a,b,c,d,e){const f=a.Da,g=JSON.stringify(__c.vh.serialize(f));var h=a.Da,k=a.GQd;a=a.AM;(b=yNm(b))&&k?d=!0:(h=gMs(h,a),d=b&&h.E7k||h.BUn&&!dMs()||!d.P3o&&h.VKb||!d.GVs&&h.H6k||e&&h.y5k?!1:!0);if(d){d=new Map;e=0;for(const n of f.pages)if(n.type==="FIXED"){if(n.Xd)a:switch(h=n.Xd,k=n.dimensions??f.dimensions,h.type){case "REFERENCE":h=new __c.xh({id:h.va,version:h.OE??1});break a;case "INLINE":h=new __c.wh({...k});break a;default:throw new v(h);}else h=f.doctype;a:switch(h.type){case "INLINE":k=
`inline:${h.width}:${h.height}:${h.units}`;break a;case "REFERENCE":k=`ref:${h.id}:${h.version}`;break a;default:throw new v(h);}b=(d.get(k)??0)+1;d.set(k,b);if(b>e){e=b;var l=h}}a:switch(l=l??f.doctype,l.type){case "REFERENCE":l=new __c.qjc({...l,version:l.version??1});break a;case "INLINE":l=new __c.i5b({...l,units:eMs(l.units)});break a;default:throw new v(l);}c=new __c.jFj({...c,nur:{...f,doctype:l,pages:f.pages.map(fMs)},Ye:f.pages.length,r_g:g})}else c=void 0;return c};
iMs=function(a,b,c){if(yNm(b))return a=a.Ia.Ed(`${__c.IYo.k3p}${c!==void 0?"."+c:""}`).kb("video.web_local_compositor.local_export",{timeout:36E5}),a.setAttribute("type",b.type),a.setAttribute("rasterizer_used","local"),a};jMs=function(a,b){a&&(a.setAttribute("cancelled",!1),a.setAttribute("error_message",b),a.setAttribute("error_kind","software_error"),a.end("error"))};
__c.kMs=async function(a,b,c){const d=(0,__c.ANm)()();try{const e=a.ma?.status===2;switch(c.type){case "PDF":case "PPTX":case "DOCX":case "XLSX":case "WEBSITE":case "EMAIL":case "SVG":case "SCENE":case "CSV":return Na({kind:"not_supported",Tva:e});case "JPG":case "PNG":if(c.g8!=null)return Na({kind:"not_supported",Tva:e})}const f=b.content.id,g=d.r(await d.s(a.Nja(f,yNm(c)?[]:c.pages)));if(g.etc.length>0||g.LSc.length>0||!aMs(g)||g.embeds.length>0)return Na({kind:"not_supported",Tva:e});const h=bMs(g,
b,c,e,a.je);let k;if(h&&a.TMa.It.J9f){const q=hMs(g,c,h,a.TMa.Na,a.oAr);k=q?()=>a.TMa.It.J9f(q):void 0}const l=!(!g.GQd||!yNm(c))||e;if(k==null)return Na({kind:"no_request",Tva:l});const n=iMs(a,c,h?.je);let p;try{p=d.r(await d.s(k()))}catch(q){return d.r(),jMs(n,`Local export service exception: ${q.toString()}`),Na({kind:"error",message:"Local export service exception: "+q.toString(),Tva:l,Kd:"unknown"})}switch(p.type){case "RESULT":return b.oPc||a.NAb().then(__c.zNm.wrap(q=>q.sWo(a.Ig,b,c,g))).catch(__c.zNm.wrap(q=>
{a.errorService.na(q,{Ea:"Failed recording resource usages"})})),n?.setAttribute("cancelled",!1),n?.end("ok"),Ka({Yq:p.Yq,type:"LOCAL",ha:f,Tg:b.content.Tg??1});case "NOT_SUPPORTED":return jMs(n,"Local export service exception: Not Supported"),Na({kind:"not_supported",Tva:l});case "CANCELLED":return n&&(n.setAttribute("cancelled",!0),n.end("ok")),Na({kind:"cancelled",Tva:!0});case "ERROR":return jMs(n,`Local export service ERROR ${p.code}: ${p.message}`),Na({kind:"error",category:p.category,message:"Local export service ERROR: "+
p.message,Tva:l,Kd:cMs(p.code)});default:throw new v(p);}}finally{d.s()}};mMs=async function(){const a=FN()();try{throw a.r(await a.s(new Promise(b=>setTimeout(__c.xN.wrap(b),1E3)))),new lMs;}finally{a.s()}};nMs=function(a){return a==null?0:a.cIa?6:a.blc?7:a.b1e?10:a.lNd?8:a.Xra?9:a.KBi?5:a.kkd?3:a.VJb?4:0};
oMs=function(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 8;case 9:return 9;case 10:return 10;case 11:return 11;case 12:return 12;default:throw new v(a);}};
pMs=async function(a){const b=FN()();try{try{return b.r(await b.s(Promise.race([a.EMn(),mMs()]).then(__c.xN.wrap(c=>c?.Twj??new Map))))}catch(c){b.r();if(c instanceof lMs)return a.errorService?.error("DownloadSaveSettingsPresenter timed out retrieving download settings"),new Map;a.errorService?.na(c,"DownloadSaveSettingsPresenter failed to retrieve download settings");return new Map}}finally{b.s()}};
qMs=function(a){a.cache||(a.cache={result:void 0,promise:pMs(a).then(__c.xN.wrap(b=>a.cache?a.cache.result=b:new Map))})};rMs=function(a){if(Number.isInteger(a))return{Ksa:a,gma:1};a=Math.abs(a);var b=Math.floor(a),c=a-b;for(a=[b];c>1E-10;)c=1/c,b=Math.floor(c),c-=b,a.push(b);if(a.length===1)return{Ksa:a[0],gma:1};if(a.length===2)return{Ksa:a[1]*a[0]+1,gma:a[1]};b=a[0];c=1;let d=a[1]*a[0]+1,e=a[1];var f=0,g=0;for(let h=2;h<a.length;h++)g=a[h],f=g*d+b,g=g*e+c,b=d,c=e,d=f,e=g;return{Ksa:f,gma:g}};
__c.sMs=function(a){return a?"remote-rasterizer,video-compositor":"video-rasterizer,video-compositor"};__c.uMs=function(a){const b=a.Ia.Ed("editor.publish.menu.success_panel"),c=new __c.Wxo(a.fa.errorService.fg("createLoadableSuccessPanelController"),async()=>b.oy("install_success_panel",async d=>{const e=FN()();try{const {Tps:f}=e.r(await e.s(__webpack_require__.me(878183).then(()=>__c.tMs)));return f({...a,Gv:d,P:b})}finally{e.s()}}));return{kXa:()=>c.kXa(),dmc:()=>c.dmc()}};
wMs=function({Fda:a,Ia:b,bootstrap:c,errorService:d,Lee:e,lmh:f,afe:g,je:h}){const k=c.workerUrl;if(k&&f()){f=__webpack_require__.me(314027).then(()=>__c.vMs);var l=__webpack_require__.me(520767).then(()=>__c.IXo);return Promise.all([f,l]).then(__c.hO.wrap(([{CCq:n,rGm:p,sGm:q,sOm:r,HLm:t,WNm:u},{nKm:w}])=>{const x=iO.Wje,y=__c.fVo(k),z={Zkc:iO.Zkc,$kc:iO.$kc,nza:iO.nza,kDc:iO.kDc,Uje:iO.tKr,$yb:iO.$yb,x6b:iO.x6b,nlc:c.nlc,Yjd:iO.oDr,q6b:iO.q6b,lDc:iO.lDc,Kjb:iO.Kjb,KDc:iO.KDc};w=new __c.h_o(d,new w,
__c.MXo.create({errorService:d,boa:z}));r=new r(()=>__c.eVo(__c.dVo,x?y+"?flag.web2EnableWebglMemoryTracking=true":y,q.deserialize,p.serialize,"worker-export-compositor"),c,b,__c.NXo(a,c),h);const A=new __c.k_o("export-rasterizer-client-message-handler",b.Ed(__c.IYo.uCg),__c.JXo);t=new t(r,e,d,A);u=new u(r,w);return new n(a,c,z,r,t,u,g)}))}};
xMs=function({Fda:a,Ia:b,bootstrap:c,Xc:d,errorService:e,lmh:f=()=>__c.oUo("webgl"),hSd:g,Vsi:h,afe:k,je:l}){if(c.P_a?.WLk){var n=c.P_a?.nV;d=__c.GXo({nV:n,Xc:d,hSd:g});if(f=wMs({Fda:a,Ia:b,bootstrap:c,errorService:e,Lee:d,lmh:f,afe:k,je:l}))return f;if(a=__c.QXo({Fda:a,Ia:b,bootstrap:c,nV:n,errorService:e,Lee:d,Vsi:h,afe:k}))return a}};
yMs=async function(a){const b=tR()();try{const c=b.r(await b.s(a.nlb.yId(a.Da))).ox,d=new Map(c.map(e=>[e.id,e]));return a.Da.pages.toArray().map((e,f)=>{e=__c.on.Vw(e);for(const g of e)if((e=d.get(g.video))&&e.source==="DEVICE")return f+1}).filter(__c.vb)}finally{b.s()}};__c.AMs=function(a){return __c.Pa(async()=>{const b=tR()();try{const {K$e:c}=b.r(await b.s(__webpack_require__.me(606585).then(()=>__c.zMs)));return c(a)}finally{b.s()}})};
CMs=function(a,b){const c=b.wBd,d=b.CPo,e=b.zbo,f=b.RPn;b=b.Vup;switch(a.type){case "MP4":return new __c.zid({...BMs(a,c),fps:c?.fps,Sff:c?.Sff,Ote:c?.Ote,duration:c?.s0g,audio:c?.audio?new __c.yid(c.audio):void 0});case "PNG":return new __c.wid(BMs(a,d));case "JPG":return new __c.uid(BMs(a,e));case "GIF":return new __c.Bid(BMs(a,f));case "SVG":return new __c.Did(BMs(a,b));default:return a}};
FMs=function({M8:a,errorService:b}){if(a.P_a&&!a.P_a.tyb)return new DMs(({xha:c,zJ:d,Fkf:e})=>EMs({M8:a,xha:c,zJ:d,Fkf:e,errorService:b}))};
EMs=function({M8:a,xha:b,zJ:c,Fkf:d,errorService:e}){const f=b.ox,g=b.kT,h=__c.Wq.create(b.Lhb);var k=new __c.Dno(f);k=new __c.yKb(k);const l=a.P_a;return[new GMs(c),new __c.x_o(f,a.lDi),new __c.y_o(f),new __c.z_o(f,g),new __c.A_o(f,g),new __c.B_o(f,l?.j3g),new __c.o_o(l?.nV,b,void 0),new HMs(c,d.Jrh),new __c.p_o(h,k,d.Mte),new __c.q_o(f,l?.THc),new __c.v_o(h,l?.Nte,l?.Vte,k,e),new __c.r_o(l?.Vff),new __c.l_o(a.workerUrl),new IMs([new JMs(c),new __c.m_o(f)])]};
KMs=async function(a,b,c){const d=tR()();try{const e=a.Ig.wb.brand.displayName;let f,g;try{const h=d.r(await d.s(b.Nja())).Lhb;if(h.Ja==="fixed"){const k=h.pages[0];if(k)switch(k.type){case "fixed":f=k.template?.id;break;case "concatenated-fixed":f=k.pages.find(l=>l&&l.template!=null)?.template?.id;break;case "responsive":f=k.template?.id;break;case "controlled":throw new __c.Wj;case "video":throw new __c.Gg;default:throw new v(k);}}}catch(h){return d.r(),a.errorService.Cs(h,{Ea:"Failed to access document bundle/id for XMP tags"}),
{Qu:e}}if(f)try{g=d.r(await d.s(c.B5a(new __c.V7e({id:f})))).template?.title}catch(h){d.r(),a.errorService.Cs(h,{Ea:"Failed to fetch template details for XMP tags"})}return{Qu:e,QGe:g}}finally{d.s()}};
MMs=async function(a,{Fda:b,V5t:c,span:d}){const e=tR()();try{if(c)return LMs;const f=e.r(await e.s(b.p0f()));if(f.ok)return LMs;const g=f.error.errors,h=g.find(k=>k.kind!=="rasterizer"&&k.kind!=="rasterizer-webx");g.forEach(k=>{const l=a.P.startSpan("video.web_local_compositor.support_check_failed",d);l.setAttribute("message",k.message);l.setAttribute("kind",k.kind);l.end()});if(!h)return{iVn:!0,jVn:g.every(k=>k.kind==="rasterizer-webx")};throw new jO(h.message);}finally{e.s()}};
OMs=async function(a,b,c,d,e,f,g){const h=tR()();try{const k=m(a.sui,"Export must be active");if(!k.pending)return k.promise;const l=a.d$q({Fda:c,bootstrap:a.M8,Xc:e,errorService:a.errorService,Ia:a.Ia,hSd:d,afe:g,je:YLs(b.je)});ra(l!=null,"Could not create compositor client");const n=h.r(await h.s(l));k.start(async()=>{const p=tR()();try{var q=p.r,r=p.s,t=n.createSession;a:{const w=b.zJ;ma(w.type==="GIF"||w.type==="MP4");const x={width:w.width,height:w.height},y=w.fps;switch(w.type){case "GIF":var u=
{format:0,fps:y,dimensions:x,YP:w.YP};break a;case "MP4":u={format:2,fps:y,dimensions:x};break a;default:throw new v(w);}}q.call(p,await r.call(p,t.call(n,u)));return n.x0f()}finally{p.s()}},f).finally(NMs.wrap(()=>n.jYe()));return k.promise}finally{h.s()}};PMs=async function(a,b,c,d){const e=tR()();try{try{const f=e.r(await e.s(a.NAb()));e.r(await e.s(f.sWo(a.Ig,b,c,{...d,etc:[],LSc:[]})))}catch(f){e.r(),a.errorService.na(f,{Ea:"Failed to record resource usage for web local export"})}}finally{e.s()}};
QMs=async function(a,b){const c=tR()();try{try{c.r(await c.s(a.promise))}catch{c.r()}finally{b()}}finally{c.s()}};RMs=function(a){return Na({$of:!1,k0l:!1,LBn:!1,Fjj:!1,WOc:!1,...a})};SMs=function(a,b){a=a.find(c=>{c=c.offset;return c.x===b.x&&c.y===b.y});ma(a!=null,"No sprite found");return a};
TMs=function(a,b){a=a.V3r();switch(b.type){case "GIF":case "MP4":return new __c.Cid({destination:b.destination,pages:b.pages,width:b.width,height:b.height,WOs:a??1E4,Dvp:b.Dvp,YP:b.type==="GIF"&&b.YP});default:throw Error(`Unexpected type requested in scene export fetcher: ${b.type}`);}};UMs=async function(a,b,c){const d=tR()();try{const e=new __c.Zid({priority:1,Iya:c,SYb:[b],Y5c:!0,a4h:!1}),f=d.r(await d.s(a.Du.phd(e)));return m(f.hz.ky,"export identifier not found for createExport2")}finally{d.s()}};
__c.cNs=function({Ig:a,M8:b,errorService:c,hp:d,jEa:e,eVo:f,Nja:g,NAb:h,Ia:k,V:l,Kb:n=__c.Zb,xj:p}){if(b!=null){var q=FMs({M8:b,errorService:c});return new VMs(a,async({request:r,P_a:t,zJ:u,Fkf:w})=>{const x=tR()();try{const y=r.Iya.content,z=r.Iya.pages,A=x.r(await x.s(g(y.id,z))),C=A.un,D=A.JX,G=WMs(A.Da,z);return __c.oZo.create({ha:y.id,Lhb:G,resources:{kT:A.kT,pA:A.pA,AM:A.AM,ox:A.ox},M8:b,un:C,JX:D,ANc:q?{run:J=>m(q).run({xha:J,zJ:u,Fkf:w})}:void 0,tyb:t.tyb,TQk:iO.rDr})}finally{x.s()}},h,b,
c,k,f.type==="remote"?new XMs(b,async()=>{const r=tR()();try{const {hSd:t}=r.r(await r.s(__webpack_require__.me(721930).then(()=>__c.YMs)));return t({errorService:c,v4f:async()=>d,jEa:e,Kb:n,M8:b})}finally{r.s()}},new ZMs(new $Ms(f.It))):new aNs(b,new bNs(g,f.It),new ZMs(new $Ms(f.QGt))),p,l,n)}};WMs=function(a,b){const c=__c.Sh.deserialize(a);if(c.Ja!=="fixed")throw new jO("Unsupported positioning: "+c.Ja);return{...c,pages:b.map(d=>m(c.pages[d-1],`No page for page number: ${d}`))}};
gNs=function(a,b,c){let d=b.accounts.get(c);d||(d=dNs(eNs(a,c)),b.accounts.set(c,d));if(d&&d.state===fNs)return d.value};eNs=async function(a,b){const c=tR()();try{try{return c.r(await c.s(a.SB.Rma(b)))}catch(d){c.r()}}finally{c.s()}};
__c.mNs=function(a){const b=new hNs(iNs,a.SB),c=b.createStore(),d=g=>b.onConnect(c,g),e=uR(()=>{a:{for(g of c.accounts.values())if(g&&g.state===jNs){var g=!0;break a}g=!1}return g}),f=uR(()=>b.mDn(c),{equals:kNs.structural});return{fLe:vR(()=>wR(lNs,{loading:e.get(),entries:f.get(),xxh:d})),jld:()=>b.jld(c)}};
__c.pNs=function({eb:a,Cfa:b,hNi:c,Tf:d}){const e=new nNs(c,d);b.wJg(()=>e.loading);b.ied({id:5,Ra:"premium_content",xHa:({fileType:f,O$:g})=>!d.VK&&e.total>0&&!(f===4&&g===2),create:()=>vR(()=>wR(oNs,{eb:a,total:e.total}))})};qNs=async function(a,b,c){const d=tR()();try{const e=new __c.Hn({id:a,extension:c.Ac.extension});return d.r(await d.s(b.Mha(e))).document?.draft?.mK?.thumbnail?.images?.[0]?.url||"https://static.canva.com/default_thumbnail.gif"}finally{d.s()}};
tNs=function(a,b,c){const [d,e]=rNs();sNs(()=>{let f=!0;qNs(a,b,c).then(NMs.wrap(g=>{if(f){var h=g.endsWith("default_thumbnail.gif");e(h?void 0:g)}}));return()=>{f=!1}},[a]);return d};
__c.vNs=function({aa:a,eCa:b,Xa:c,designId:d,va:e,Cfa:f,jqb:g,Db:h,nb:k,xa:l,Wkg:n,gq:p,Ne:q,tCe:r}){if(!b||!b.nW||b.DZ.status===__c.jw.qr)return{Pai:void 0};n=__c.ifo({Wkg:n,ftc:b.Qka});const t=__c.kfo({va:e,ftc:b.Qka});if(!n&&!t)return{Pai:void 0};const u=()=>{f.iIj("scheduler","upgrade");b.DZ.ee("publish_scheduler_upsell_cta","intentional");k.ws(new __c.Vr({user:a.user.id,types:[137]}))},w=()=>{f.iIj("scheduler","navigate");p("SCHEDULER");l.track(uNs,{action:"clicked",source:"publish_download_footer",
Xa:c,designId:d,va:e})};if(b.DZ.status===__c.jw.pi){const x=vR(()=>{const y=tNs(d,h,q);return r.VFg&&wR(r.VFg,{onClick:w,thumbnail:y,message:K("CfGEsg")})});f.ied({id:0,Ra:"scheduler",xHa:()=>!0,create:()=>x})}else{const x=vR(()=>{const y=tNs(d,h,q);return r.VFg&&wR(r.VFg,{onClick:u,thumbnail:y})});f.ied({id:0,Ra:"scheduler",xHa:()=>!g.get(),create:()=>x})}return{Pai:void 0}};
yNs=function(a,b){let c;({Sia:a}=a.ogb.PKi("design_publisher","renderSettingsUi",wNs,{app:a.config,Gq:"design_publisher_panel",entryPoint:"editor_publish_menu",Hr:[1],Ncb:b.Ncb,params:null,N_c:2,messageHandlers:{design_publisher_v1_update_publish_settings:async({xlj:d})=>b.L.RIp(d)},onLoad:({vue:d,process:e})=>{c=xNs(()=>{const f=b.context.get();d.zcc("design_publisher_v1_emit_on_settings_ui_context_change",f)});b.O1l?.(e)},onLoadError:b.jZl,onClose:()=>{c?.()},Lma:b.Lma}));return{Sia:a}};
zNs=function(a,b){let c;({Sia:a}=a.ogb.PKi("design_publisher","renderPreviewUi",wNs,{app:a.config,Gq:"design_publisher_panel",entryPoint:"editor_publish_menu",Hr:[1],Ncb:b.Ncb,Wga:()=>null,params:null,messageHandlers:{design_publisher_v1_request_preview_upgrade:async({Pxt:d})=>b.L.Dmg(d)},onLoad:({vue:d,process:e})=>{c=xNs(()=>{const f=b.Mxt.get();d.zcc("design_publisher_v1_emit_on_preview_change",f)});b.O1l?.(e)},onLoadError:b.jZl,onClose:()=>{c?.()},Lma:b.Lma}));return{Sia:a}};
BNs=function(){return async(a,b,c)=>new ANs(a,b,c)};CNs=function(a){if(a)switch(a.type){case "EXACT":return{exact:a.value*1};case "MIN":return{min:a.value*1};case "MAX":return{max:a.value*1};case "MIN_MAX":return{min:a.min*1,max:a.max*1};default:throw new v(a);}};ENs=function(a){return Array.isArray(a)?a.map(b=>({id:b.id,displayName:b.displayName,hca:b.hca.map(DNs)})):[]};
FNs=function(a){switch(a.type){case "A4":return"A4";case "A3":return"A3";case "LETTER":return"Letter";case "LEGAL":return"Legal";default:throw new v(a);}};
DNs=function(a){var b=a.id,c=a.displayName,d=CNs(a.gVb);if(a.uSi){a:{var e=a.uSi.format.type;switch(e){case "PNG":e="png";break a;case "JPG":e="jpg";break a;default:throw new v(e);}}e={format:e,aspectRatio:CNs(a.uSi.Whi)}}else e=void 0;return{id:b,displayName:c,gVb:d,Dnb:{image:e,video:a.ZMj?{format:"mp4",aspectRatio:CNs(a.ZMj.aspectRatio),Xi:CNs(a.ZMj.Xi)}:void 0,document:a.G_g&&a.G_g.size?{format:"pdf_standard",size:FNs(a.G_g.size),frd:a.G_g.T2c}:void 0}}};
GNs=function(a){switch(a){case "png":return{type:"PNG"};case "jpg":return{type:"JPG"};default:throw new v(a);}};HNs=function(a){switch(a){case "A4":return{type:"A4"};case "A3":return{type:"A3"};case "Letter":return{type:"LETTER"};case "Legal":return{type:"LEGAL"};default:throw new v(a);}};
INs=function(a){if(a.kind==="image")switch(a.status){case "loading":return{uj:"IMAGE_LOADING",id:a.id,JB:a.width,Rz:a.height};case "ready":return{uj:"IMAGE_READY",id:a.id,JB:a.width,Rz:a.height,format:GNs(a.format),url:a.url};case "error":return{uj:"IMAGE_ERROR",id:a.id,JB:a.width,Rz:a.height,message:a.message};default:throw new v(a);}if(a.kind==="video")switch(a.status){case "loading":return{uj:"VIDEO_LOADING",id:a.id,JB:a.width,Rz:a.height,Xi:a.Xi};case "thumbnail":return{uj:"VIDEO_THUMBNAIL",id:a.id,
JB:a.width,Rz:a.height,I8a:GNs(a.I8a),thumbnailUrl:a.thumbnailUrl,Xi:a.Xi};case "upgrading":return{uj:"VIDEO_UPGRADING",id:a.id,JB:a.width,Rz:a.height,I8a:GNs(a.I8a),thumbnailUrl:a.thumbnailUrl,Xi:a.Xi};case "ready":return{uj:"VIDEO_READY",id:a.id,JB:a.width,Rz:a.height,format:{type:"MP4"},url:a.url,I8a:GNs(a.I8a),thumbnailUrl:a.thumbnailUrl,Xi:a.Xi};case "error":return{uj:"VIDEO_ERROR",id:a.id,JB:a.width,Rz:a.height,message:a.message};default:throw new v(a);}if(a.kind==="document")switch(a.status){case "loading":return{uj:"DOCUMENT_LOADING",
id:a.id,JB:a.width,Rz:a.height};case "thumbnail":return{uj:"DOCUMENT_THUMBNAIL",id:a.id,JB:a.width,Rz:a.height,I8a:GNs(a.I8a),thumbnailUrl:a.thumbnailUrl};case "error":return{uj:"DOCUMENT_ERROR",id:a.id,JB:a.width,Rz:a.height,message:a.message}}throw new v(a);};JNs=function(a){return{l1a:a.l1a,Zd:a.Zd.map(INs)}};LNs=function(a){return{PR:KNs(a.PR),jDb:a.jDb,yud:a.yud.map(JNs)}};
MNs=function(a){if(a){if("exact"in a)return{type:"EXACT",value:a.exact*1};if("min"in a&&"max"in a)return{type:"MIN_MAX",min:a.min*1,max:a.max*1};if("min"in a)return{type:"MIN",value:a.min*1};if("max"in a)return{type:"MAX",value:a.max*1};throw new v(a);}};
NNs=function(a){return{id:a.id,displayName:a.displayName,gVb:MNs(a.gVb),uSi:a.Dnb.image?{format:GNs(a.Dnb.image.format),T2c:a.Dnb.image.frd,Whi:MNs(a.Dnb.image.aspectRatio)}:void 0,ZMj:a.Dnb.video?{format:{type:"MP4"},T2c:a.Dnb.video.frd,aspectRatio:MNs(a.Dnb.video.aspectRatio),Xi:MNs(a.Dnb.video.Xi)}:void 0,G_g:a.Dnb.document?{format:{type:"PDF_STANDARD"},size:HNs(a.Dnb.document.size),T2c:a.Dnb.document.frd}:void 0}};KNs=function(a){return{id:a.id,displayName:a.displayName,hca:a.hca.map(NNs)}};
PNs=function({PR:a,Nd:b,yud:c}){const d=xR(()=>yR.box(LNs({PR:a,jDb:b.jDb,yud:c})),[]);sNs(()=>{ONs(()=>{d.set(LNs({PR:a,jDb:b.jDb,yud:c}))})},[a,b.jDb,c,d]);return d};QNs=function({PR:a}){const b=xR(()=>yR.box({PR:KNs(a)}),[]);sNs(()=>{ONs(()=>{b.set({PR:KNs(a)})})},[a,b]);return b};
WNs=function(a){return vR(({qQb:b,Csf:c,PR:d})=>{const e=QNs({PR:d});d=zR(async h=>{b(h);return new RNs},[b]);const f=SNs({RIp:d}),g=SNs({q8a:c});f.current.RIp=d;g.current.q8a=c;c=xR(()=>TNs(async()=>{const h=tR()();try{const {Sia:k}=h.r(await h.s(a({L:f.current,Ncb:g.current,context:e})));return{default:k}}finally{h.s()}}),[]);return wR(UNs,{fallback:null,children:wR(O,{Go:VNs.xXt,children:wR(c,{})})})})};
XNs=function(a){return vR(({Nd:b,PR:c,yud:d,Dmg:e,Csf:f})=>{const g=SNs({Dmg:e}),h=SNs({q8a:f});g.current.Dmg=e;h.current.q8a=f;const k=PNs({PR:c,Nd:b,yud:d});b=xR(()=>TNs(async()=>{const l=tR()();try{const {Sia:n}=l.r(await l.s(a({L:g.current,Ncb:h.current,Mxt:k})));return{default:n}}finally{l.s()}}),[]);return wR(UNs,{fallback:null,children:wR(O,{width:"full",height:"full",Go:VNs.Kxt,children:wR(b,{})})})})};
ZNs=function(a,b,c){const d=__c.kMe(b),e=WNs(async g=>{const h=tR()();try{const k=h.r(await h.s(__c.mMe(a,d,"required")));k.d9f(c);return __c.boj(a,k,async({onLoad:l,onLoadError:n})=>yNs(k,{...g,O1l:l,jZl:n,Lma:c}),{onLoad:YNs,onLoadError:l=>{a.ste(b,l,"getSettingsUi")}},l=>{l.track(__c.doj,{B8b:{e6a:"design_publisher",H3a:"getSettingsUi"}})},{entryPoint:"editor_publish_menu"})}finally{h.s()}}),f=XNs(async g=>{const h=tR()();try{const k=h.r(await h.s(__c.mMe(a,d,"required")));k.d9f(c);return __c.boj(a,
k,async({onLoad:l,onLoadError:n})=>zNs(k,{...g,O1l:l,jZl:n,Lma:c}),{onLoad:YNs,onLoadError:l=>{a.ste(b,l,"getPreviewUi")}},l=>{l.track(__c.doj,{B8b:{e6a:"design_publisher",H3a:"getPreviewUi"}})},{entryPoint:"editor_publish_menu"})}finally{h.s()}});return{bNe:e,LMe:f}};
$Ns=async function(a,b,c,d){const e=tR()();try{const f=e.r(await e.s(__c.mMe(a,__c.kMe(b),"required")));f.d9f(c);try{const g=e.r(await e.s(f.xbh({Ncb:d,Lma:c})));return g.type==="COMPLETED"?ENs(g.Gkf):[]}catch(g){return e.r(),a.ste(b,g,"getOutputTypes"),[]}}finally{e.s()}};
aOs=function(a,b){const c=new __c.gxp,{bNe:d,LMe:e}=ZNs(a,b.hO,c);a.hs.UL(b.hO.appId,{z3a:c.nHm});return{bNe:d,LMe:e,xbh:()=>$Ns(a,b.hO,c,b.Ncb),ckg:async({Nd:f,PR:g,dZd:h,jga:k})=>a.ckg({hO:b.hO,Lma:c,jDb:f.jDb,PR:KNs(g),dZd:h,Ncb:b.Ncb,jga:k})}};cOs=function({XRc:a,V:b,P:c,errorService:d,hs:e}){const f=BNs();b=new bOs(b,c,d,e);b.qof(__c.sDn(a,f));return{Bpk:b}};dOs=function(a){return __c.Rd(a.hca.flatMap(b=>b.$O.flatMap(c=>c.Yh)))};
__c.eOs=function(a){if(a?.status===__c.jw.ej)return()=>wR(__c.Yv,{})};gOs=function(a){if(a)return"max"in a?a.max:fOs(a)};hOs=function(a){if(a)return"min"in a?a.min:fOs(a)};fOs=function(a){if(a&&"exact"in a)return a.exact};
iOs=function(a,b,c={}){const {rOt:d,uyf:e=0}=c;c=Math.abs(e)+Number.EPSILON;if("exact"in b)return d?(a=a.toFixed(d),b=b.exact.toFixed(d),e===0?a===b:Math.abs(Number(a)-Number(b))<=c):Math.abs(a-b.exact)<=c;if("min"in b&&"max"in b)return a>=b.min-c&&a<=b.max+c;if("min"in b)return a>=b.min-c;if("max"in b)return a<=b.max+c;throw Error("Invalid range type");};jOs=function(a){return gOs(a)===1||fOs(a)===1};
lOs=function(a){return{hca:a.hca.map(b=>{const c=[],d=kOs(b);if(jOs(b.gVb)&&d.length===1){const e=hOs(b.gVb);c.push({id:__c.Wb(),type:d[0],Yh:[],width:void 0,height:void 0,isValid:e?e>0:!0})}return{l1a:b.id,$O:c}})}};nOs=function(a){return a.$O.some(mOs)};mOs=function(a){return a.Yh.length>0};kOs=function(a){return Object.keys(a.Dnb).filter(b=>a.Dnb[b])};
oOs=function(a){switch(a.name){case "PublishErrorAppSpecific":return K("4WFwiQ");case "PublishErrorGeneric":return K("IRhPWg");case "PublishErrorInvalidInput":return K("/4girA");case "PublishErrorLimitReached":return K("qC1izA");case "PublishErrorPermissionDenied":return K("9+oHiw");case "PublishErrorTooFewFiles":var b=a.DTs;a=__c.cm(a.xKb);return I("nzGkiA",[b,a]);case "ExportErrorFailedToStartExport":case "ExportErrorFailedToGetExport":case "ExportErrorExportPausedUnexpectedly":return K("IU/OwA");
case "ExportErrorExportRejected":return a.s3?a.s3:K("IU/OwA");default:throw new v(a);}};qOs=function(a,b){return a.id===b.id&&a.type===b.type&&pOs(a.Yh,b.Yh)};tOs=function(a,b,c){const d=[...rOs(a,b).$O],e=d.findIndex(f=>f.id===c.id);ra(e!==-1,"Page selection must exist");d[e]=c;return sOs(a,b,d)};
sOs=function(a,b,c){const d=uOs(a,b);b=rOs(a,b);a:{var e=b.$O;if(e.length!==c.length)e=!1;else{for(let f=0;f<e.length;f++)if(!qOs(e[f],c[f])){e=!1;break a}e=!0}}return e?a:{...a,hca:[...a.hca.slice(0,d),{...b,$O:c},...a.hca.slice(d+1)]}};vOs=function(a,b,c){const d=rOs(a,b).$O.filter(e=>e.id!==c);return sOs(a,b,d)};xOs=function(a,b,c,d,e){if(c.id===d.id)return a;const f=rOs(a,b);c=wOs(f.$O,c.id,(g,h)=>g===h.id,d.id,e);return sOs(a,b,c)};rOs=function(a,b){return m(a.hca.find(c=>c.l1a===b),"Media slot must exist")};
uOs=function(a,b){a=a.hca.findIndex(c=>c.l1a===b);ra(a!==-1,"Media slot must exist");return a};wOs=function(a,b,c,d,e){a=[...a];var f=a.findIndex(h=>c(b,h));if(f===-1)return[];f=a.splice(f,1)[0];const g=a.findIndex(h=>c(d,h));if(g===-1)return[];a.splice(e?g+1:g,0,f);return a};zOs=function(a,b){var c=a.hca;a=b.hca;for(const d of c){const e=d.l1a;c=m(a.find(f=>f.id===e),"Media slot config must exist").gVb;if((c=hOs(c))&&d.$O.length<c)return new yOs(c,b.displayName)}};
AOs=function(a){return(a=hOs(a.gVb))?a>0:!1};BOs=function(a){a=a.hca.flatMap(b=>b.$O).flatMap(b=>b.Yh);return new Set(a)};COs=function(a,b){a=a.filter(d=>AOs(d)).map(d=>d.id);const c=new Map(b.hca.map(d=>[d.l1a,d.$O.length]));return a.every(d=>(c.get(d)??0)>0)&&b.hca.every(d=>d.$O.every(e=>e.isValid))?!0:!1};EOs=function(a,b){b=DOs(b);const c=a.cache.get(b),d=c&&c.expires&&c.expires<Date.now();if(c)if(d)a.cache.delete(b);else return c.result};FOs=function(a,b){b=DOs(b);return a.S6b.get(b)};
IOs=function(a,b){var c=GOs({...b,U_a:"thumbnail"}),d=EOs(a,c);c=FOs(a,c);const e=GOs({...b,U_a:"full"});b=EOs(a,e);a=FOs(a,e);if(b&&d)return b.ok?d.ok?(sa(d.value.format,"png","Thumbnail format must be PNG"),d=Ka({kind:"ready",url:b.value.url,format:b.value.format,thumbnailUrl:d.value.url,I8a:d.value.format})):d=Na(d.error):d=Na(b.error),d;if(d&&a)return HOs("upgrading",d);if(d)return HOs("thumbnail",d);if(c)return Ka({kind:"loading"})};
KOs=function(a,b,c,d){const e=b.d$b.id;(d=d().find(f=>f.l1a===e))&&(d=d?.$O.find(f=>f.id===b.Ktd.id))&&qOs(d,b.Ktd)&&JOs(a,c)};JOs=async function(a,b){var c=EOs(a,b);if(c||(c=FOs(a,b)))return c;c=(async()=>{const d=tR()();try{try{const e=d.r(await d.s(LOs(a.VNk,b)));MOs(a,b,e);return e}catch(e){d.r();a.errorService.na(e);const f=Na(new NOs);MOs(a,b,f);return f}}finally{d.s()}})();OOs(a,b,c);return c};
POs=async function(a,b,c){const d=GOs(b);if(nN.hIk&&d.format==="mp4"&&b.U_a==="full"){const e=b.Ktd;ma(e.width!=null&&e.height!=null,"Dimensions are required for non empty page selections");const f={...d,width:e.width,height:e.height};setTimeout(NMs.wrap(()=>KOs(a,b,f,c)),15E3)}return JOs(a,d)};
TOs=async function(a,b){const c=tR()();try{const d=QOs(b),e=QOs(b,{U_a:"thumbnail"}),f=d.map(r=>JOs(a,r)),g=e.map(r=>JOs(a,r)),h=c.r(await c.s(Promise.all(f))),k=c.r(await c.s(Promise.all(g))),l=[...h,...k].find(r=>!r.ok);if(l)return Na(l.error);const n=c.r(await c.s(ROs(a.eTs,d))),p=h.map(r=>{sa(r.ok,!0,"Output details must exist");return r.value}),q=k.map(r=>{sa(r.ok,!0,"Thumbnail details must exist");return r.value});return Ka(SOs(b.hca,p,q,n))}finally{c.s()}};
MOs=function(a,b,c){b=DOs(b);c.ok?a.cache.set(b,{result:c,expires:void 0}):a.cache.set(b,{result:c,expires:Date.now()+5E3});a.S6b.delete(b)};OOs=function(a,b,c){b=DOs(b);a.S6b.set(b,c)};
GOs=function({Ktd:a,d$b:b,U_a:c}){var d=a.type,e=a.Yh;b=b.Dnb;const f=m(e.at(0),"Page is required");ma(a.width!=null&&a.height!=null,"Dimensions are required for non empty page selections");switch(d){case "image":return{format:m(b.image?.format,"Image format is required"),Yh:[f]};case "video":if(c==="full"){c=a.width;d=a.height;if(c<640||c*d<230400)c={width:c,height:d};else{var {width:g,height:h}=UOs(640,c/d);c={width:g,height:h}}const {width:k,height:l}=c;c=nN.hIk?k:a.width;a=nN.hIk?l:a.height;return{format:m(b.video?.format,
"Video format is required"),Yh:e,width:c,height:a}}return{format:"png",Yh:[a.Yh[0]]};case "document":return e=m(b.document,"Document requirement is required"),{format:"png",Yh:[f],xZe:e.size};default:throw new v(d);}};
QOs=function(a,{U_a:b="full"}={}){return a.hca.flatMap(c=>{const d=c.l1a;c=c.$O;const e=m(a.Osh.find(f=>f.id===d),"Media slot config is required").Dnb;return c.map(f=>{ma(f.Yh.length>0&&f.width!=null&&f.height!=null,"Non empty page selections are required");switch(f.type){case "image":return{format:m(e.image?.format,"Image format is required"),Yh:f.Yh};case "video":return b==="full"?{format:m(e.video?.format,"Video format is required"),Yh:f.Yh,width:f.width,height:f.height}:{format:"png",Yh:[f.Yh[0]],
width:f.width,height:f.height};case "document":const g=f.Yh[0],h=m(e.document,"Document requirement is needed");return b==="full"?{format:h.format,Yh:f.Yh,xZe:h.size}:{format:"png",Yh:[g],xZe:h.size};default:throw new v(f.type);}})})};DOs=function(a){let b="";a.format==="mp4"&&(b=`-${a.width}x${a.height}-`);return`${a.format}${b}${a.Yh.join(",")}`};
SOs=function(a,b,c,d){function e(g){const h=m(b[f],"ExportDetails not found for media slot"),k=m(c[f],"ExportDetails (thumbnail) not found for media slot"),l=m(d[f],"ExportDetails (metadata) not found for media slot");f++;a:{const n=m(g.width,"pageSelections.width should be set"),p=m(g.height,"pageSelections.height should be set");switch(g.type){case "image":g={type:"IMAGE",format:h.format==="png"?{type:"PNG"}:{type:"JPG"},url:h.url,JB:n,Rz:p,Lm:l};break a;case "video":g={type:"VIDEO",format:{type:"MP4"},
url:h.url,JB:n,Rz:p,thumbnailUrl:k.url,Lm:l};break a;case "document":g={type:"DOCUMENT",format:{type:"PDF_STANDARD"},url:h.url,thumbnailUrl:k.url,Lm:l};break a;default:throw Error(`Unknown media type: ${g.type}`);}}return g}let f=0;return a.map(g=>({l1a:g.l1a,files:g.$O.filter(mOs).map(e)}))};HOs=function(a,b){return b.map(c=>{sa(c.format,"png","Thumbnail format must be PNG");return{kind:a,thumbnailUrl:c.url,I8a:c.format}})};
ROs=async function(a,b){const c=tR()();try{const d=c.r(await c.s(a.Kee())),e=a.X.Da.pages.toArray().map(f=>f.id);return b.map(f=>VOs(f,e,d.Wua))}finally{c.s()}};VOs=function(a,b,c){a=a.Yh.map(d=>{ra(d>=1&&d<=b.length,`Requested page number ${d} is out of bounds.`);return{Rc:d,Wf:b.at(d-1)}});return{type:"DESIGN",Jor:c,pages:a}};WOs=function(a){const [b,c]=rNs(void 0);sNs(()=>{(async()=>{const d=tR()();try{b||c(d.r(await d.s(yMs(a))))}finally{d.s()}})()},[a,b]);return{Hpt:b}};
aPs=function({Z5g:a,cya:b,Osh:c,B7b:d,h1r:e}){const [f,g]=rNs(0),h=xR(()=>b.hca.filter(nOs).map(l=>{const n=l.l1a,p=XOs(n,c);l=YOs(l).map(q=>{const r=IOs(a,{Ktd:q,d$b:p});return ZOs(q,r,d)});return{l1a:n,Zd:l}}),[b,c,a,f,d]),k=()=>{g(l=>l+1)};sNs(()=>{for(const l of b.hca.filter(nOs)){const n=XOs(l.l1a,c);YOs(l).filter(p=>IOs(a,{Ktd:p,d$b:n})==null).map(p=>POs(a,{Ktd:p,d$b:n,U_a:"thumbnail"},e)).forEach(p=>p.finally(NMs.wrap(k)))}},[a,b,c,e]);return{yud:h,Dmg:l=>{let n=0;for(const p of b.hca.filter(nOs)){const q=
XOs(p.l1a,c),r=YOs(p).filter(t=>l.includes($Os(t))).map(t=>POs(a,{Ktd:t,d$b:q,U_a:"full"},e));r.forEach(t=>t.finally(NMs.wrap(k)));n+=r.length}n>0&&k()}}};XOs=function(a,b){return m(b.find(c=>c.id===a),"Media slot config not found")};YOs=function(a){return a.$O.filter(mOs).filter(b=>b.isValid)};
ZOs=function(a,b,c){ma(a.Yh.length>0&&a.width!=null&&a.height!=null,"A non empty page selection is required");if(!b)return{id:$Os(a),kind:a.type,status:"loading",width:a.width,height:a.height,Xi:c(a.Yh)};if(!b.ok)return{id:$Os(a),kind:a.type,status:"error",width:a.width,height:a.height,message:K("j0kiMw")};b=b.value;switch(a.type){case "image":a:switch(ma(a.Yh.length>0&&a.width!=null&&a.height!=null,"A non empty page selection is required"),ma(b.kind!=="upgrading"&&b.kind!=="thumbnail","Thumbnail previews are not supported for images"),
b.kind){case "loading":a={id:$Os(a),kind:"image",status:"loading",width:a.width,height:a.height};break a;case "ready":ra(b.format==="png"||b.format==="jpg","Image format must be PNG or JPG");a={id:$Os(a),kind:"image",status:"ready",format:b.format,url:b.url,width:a.width,height:a.height};break a;default:throw new v(b);}return a;case "video":a:switch(ma(a.Yh.length>0&&a.width!=null&&a.height!=null,"A non empty page selection is required"),b.kind){case "loading":a={id:$Os(a),kind:"video",status:"loading",
width:a.width,height:a.height,Xi:c(a.Yh)};break a;case "thumbnail":a={id:$Os(a),kind:"video",status:"thumbnail",I8a:b.I8a,thumbnailUrl:b.thumbnailUrl,width:a.width,height:a.height,Xi:c(a.Yh)};break a;case "upgrading":a={id:$Os(a),kind:"video",status:"upgrading",I8a:b.I8a,thumbnailUrl:b.thumbnailUrl,width:a.width,height:a.height,Xi:c(a.Yh)};break a;case "ready":ra(b.format==="mp4","Video format must be MP4");a={id:$Os(a),kind:"video",status:"ready",format:b.format,url:b.url,I8a:b.I8a,thumbnailUrl:b.thumbnailUrl,
width:a.width,height:a.height,Xi:c(a.Yh)};break a;default:throw new v(b);}return a;case "document":a:switch(ma(a.Yh.length>0&&a.width!=null&&a.height!=null,"A non empty page selection is required"),ma(b.kind!=="upgrading","Docs does not currently support upgrading to full fidelity"),b.kind){case "loading":a={id:$Os(a),kind:"document",status:"loading",width:a.width,height:a.height};break a;case "ready":case "thumbnail":a={id:$Os(a),kind:"document",status:"thumbnail",I8a:b.I8a,thumbnailUrl:b.thumbnailUrl,
width:a.width,height:a.height};break a;default:throw new v(b);}return a;default:throw new v(a.type);}};$Os=function(a){return`${a.id}-${a.type}-${a.Yh.join(",")}`};bPs=function(a,b,c){c=c.width*c.height;const {width:d,height:e}=mh(4,__c.nk(a,b));return d*e>c};
cPs=function(a,b,c,d,e,f,g){if(b.length===0)return b=(a=!AOs(a))?void 0:K("QfwQfg"),{valid:a,errorMessage:b};if(f!=="video")return{valid:!0,errorMessage:void 0};let h;for(f=0;f<b.length;f++){var k=m(d.at(b[f]-1),"Page must exist in document");const l=mh(4,__c.nk(k,c)),n=l.width,p=l.height,q=__c.ugo;if(g&&bPs(k,c,q))return{valid:!1,errorMessage:I("eCyXpQ",[`${q.width}x${q.height}`])};if(h===void 0)h=l;else if(k=h.height,n!==h.width||p!==k)return{valid:!1,errorMessage:K("sW44zw")}}b=e(b);b=Number(b.toFixed(1));
b=Number.isInteger(b)?Math.trunc(b):b;if((a=a.Dnb.video?.Xi)&&!iOs(b,a,{uyf:.5})){if("exact"in a)a=I("aZPaTQ",[a.exact*1E3/1E6,b*1E3/1E6]);else if("min"in a&&b<a.min)a=I("sJ8hRw",[a.min*1E3/1E6,b*1E3/1E6]);else if("max"in a&&b>a.max)a=I("WPhoQg",[a.max*1E3/1E6,b*1E3/1E6]);else throw Error("There is no error message for this duration");a={valid:!1,errorMessage:a}}else a={valid:!0,errorMessage:void 0};return a};
dPs=function(a,b,c,d){if(d==="document")return{disabled:!1,error:null};switch(a.type){case "responsive":return{disabled:!0,error:{level:"disabled",message:K("LeVPQg")}};case "fixed":if(__c.Ef(a))return{disabled:!0,error:{level:"disabled",message:K("Re0Y/g")}};if(__c.nh(a.dimensions??b.dimensions))return{disabled:!0,error:{level:"disabled",message:K("n29LyQ")}};break;case "concatenated-fixed":if(d==="video")return{disabled:!0,error:{level:"disabled",message:K("IYZPBA")}}}const {width:e,height:f}=mh(4,
__c.nk(a,b.dimensions));a=d==="image"?c.Dnb.image?.aspectRatio:d==="video"?c.Dnb.video?.aspectRatio:void 0;return a&&!iOs(e/f,a,{rOt:2})?(a=UOs(e,"exact"in a?a.exact:"min"in a&&"max"in a?(a.min+a.max)/2:"min"in a?a.min:a.max),{disabled:!0,error:{level:"disabled",message:I("07adAw",[`${a.width}x${a.height}`])}}):{disabled:!1,error:null}};ePs=function(a,b,c,d,e,f,g){const h=b.indexOf(a);if(h===-1)return!1;({disabled:a}=dPs(a,c,d,f));if(a)return!1;({valid:b}=cPs(d,[h+1],c.dimensions,b,e,f,g));return b};
fPs=function(a,b,c,d,e,f){const g=a.findIndex(h=>ePs(h,a,b,c,d,e,f));return g!==-1?g+1:void 0};gPs=function(a,b,c,d,e,f){return a.map((g,h)=>ePs(g,a,b,c,d,e,f)?h+1:void 0).filter(__c.vb)};hPs=function(a){switch(a){case "image":return K("WjLlrw");case "video":return K("i9//Ow");case "document":return K("aPEbJQ");default:return K("QUdIGg")}};
iPs=function({SB:a,Tf:b,hkl:c,ckf:d}){const [e,f]=rNs(!1),g=zR(()=>a.Rma(13),[a]),h=zR(async()=>{const n=tR()();try{try{const p=n.r(await n.s(g()));return p.valid&&p.Vba.has(9)}catch(p){return n.r(),!1}}finally{n.s()}},[g]);sNs(()=>{(async()=>{const n=tR()();try{if(c&&nN.SKr&&b.o8d){const p=n.r(await n.s(h()));return f(!p)}return f(!1)}finally{n.s()}})()},[h,c,b.o8d,b]);const k=async()=>{const n=tR()();try{let p;try{p=n.r(await n.s(g()))}catch(q){n.r()}p?(n.r(await n.s(a.xea(p,2))),n.r(await n.s(h()))&&
f(!1)):n.r(await n.s(a.Cmg(13,2))).valid&&f(!1)}finally{n.s()}},l=()=>{d?.("https://support.google.com/youtube/answer/57407?#checks")};return c?wR(O,{display:"flex",flexDirection:"column",xb:"2u",xc:"2u",children:AR(dd,{spacing:"2u",children:[e&&wR(Yk,{tone:"warn",mg:!0,children:wR(__c.Yj,{message:K("fbPpkA"),Re:k})}),wR(R,{children:wR(__c.Yj,{message:K("60yHyw"),Re:l})})]})}):null};
kPs=function({store:a,N:b,Z5g:c,Qud:d,Da:e}){const [f,g]=rNs(void 0);sNs(()=>{g(h=>h?.state==="error"?void 0:h)},[a.Nd,a.PR,a.cya.hca]);return{qCt:f,Ltr:async()=>{const h=tR()();try{g({state:"publishing"});const p=b.N0h(a.cya),q=zOs(a.cya,a.PR);if(q)g({state:"error",error:q}),b.d6d(p,q);else try{const r=a.cya.hca.filter(nOs),t=h.r(await h.s(TOs(c,{hca:r,Osh:a.PR.hca})));if(t.ok){var k=BOs(a.cya),l=new Map;e.pages.toArray().forEach((u,w)=>{w+=1;k.has(w)&&l.set(w,u.id??"")});var n=h.r(await h.s(d({PR:a.PR,
Nd:a.Nd,dZd:t.value,jga:p,eOr:l})));n.ok?(g({state:"success",oOk:n.value.tOk}),b.c6d(p)):(g({state:"error",error:n.error}),b.d6d(p,n.error))}else g({state:"error",error:t.error}),b.d6d(p,t.error)}catch(r){h.r(),g({state:"error",error:new jPs}),b.d6d(p,new jPs)}}finally{h.s()}}}};lPs=function(a,b){return b(a)?Ka(a):Na(a)};
pPs=async function(a,b){const c=tR()();try{try{const e=c.r(await c.s(a.sVg(b)));const f=b.dZd.at(0),g=m(f?.files.at(0),"First media slot should have at least one file");var d=g.type==="VIDEO"||g.type==="DOCUMENT"?new __c.Pud({url:g.thumbnailUrl,WN:1}):new __c.Pud({url:g.url,JB:g.JB,Rz:g.Rz,WN:g.format.type==="PNG"?1:2});return new mPs({appId:a.hO.appId,appVersion:a.hO.appVersion??0,rCt:new nPs,P9m:__c.Wb(),ha:a.X.ha,M5b:e.version,VIf:b.Nd.jDb??"",fjj:d,hca:b.dZd.map(oPs),sWf:b.eOr})}catch(e){throw c.r(),
a.errorService.na(e,{Ea:"createPostSkeleton failed"}),e;}}finally{c.s()}};qPs=function(a,b){b=lPs(b,c=>c.type==="SUCCESSFUL_CREATION");b.ok||a.errorService.na(b.error,{Ea:"createPost returned a failure"})};sPs=async function(a,b,c){const d=tR()();try{try{d.r(await d.s(a.jm.wmj({qva:b.id,outcome:new rPs({qm:7,xxi:c instanceof Error?c.message:"Unknown publishDesign error"})})))}catch(e){d.r()}}finally{d.s()}};
uPs=async function(a,b,c){const d=tR()();try{try{const e=tPs(b);d.r(await d.s(a.jm.wmj({qva:c.id,outcome:e})))}catch(e){d.r(),a.errorService.na(e,{Ea:"recordPublishOutcome failed to run"})}}finally{d.s()}};oPs=function(a){return new __c.Xud({id:a.l1a,a$b:a.files.map(vPs)})};
vPs=function(a){switch(a.type){case "IMAGE":return new __c.Pud({url:a.url,JB:a.JB,Rz:a.Rz,WN:a.format.type==="PNG"?1:2});case "VIDEO":return new __c.Tud({url:a.url,JB:a.JB,Rz:a.Rz,WN:1});case "DOCUMENT":return new __c.Vud({url:a.url,WN:1});default:throw new v(a);}};xPs=function(a,b,c){const d=wPs.get(a.appId)?.find(e=>b.Wmc(e));if(d)return()=>{c(d)}};zPs=function(a,b,c){b=b.Wmc("SCHEDULER");a=yPs.has(a.appId);if(b&&a)return()=>{c("SCHEDULER")}};
DPs=function(a){return lPs(a,b=>b.type==="SUCCESSFUL_CREATION").NHc(b=>{switch(b.qm){case 2:return new APs;case 3:return new BPs;case 4:case 5:return new CPs;case 6:case 1:return new jPs;default:throw new v(b.qm);}}).map(b=>b.post)};FPs=function(a){return lPs(a,b=>b.type==="COMPLETED").NHc(b=>{switch(b.type){case "APP_ERROR":return new EPs(b.message);case "REMOTE_REQUEST_FAILED":case "INTERNAL_ERROR":return new jPs;default:throw new v(b);}})};
tPs=function(a){if(a.type!=="COMPLETED")switch(a.type){case "APP_ERROR":return new rPs({qm:8,xxi:a.message??"APP_ERROR"});case "REMOTE_REQUEST_FAILED":return new rPs({qm:9,xxi:"REMOTE_REQUEST_FAILED"});case "INTERNAL_ERROR":return new rPs({qm:4,xxi:"INTERNAL_ERROR"});default:throw new v(a);}return new GPs({VBn:a.rl,WBn:a.tOk})};
QPs=function({N:a,Bpk:b,hO:c,VNk:d,X:e,Tf:f,B7b:g,DRf:h,pa:k,userId:l,Dka:n,Db:p,errorService:q,jm:r,fc:t,mb:u,gEf:w,Ap:x,CK:y,Bqg:z,Aqg:A,Sic:C,gq:D,lK:G,SB:J,DZ:L,Uz:N,ee:P,CZa:Q}){ma(e.type===1,"documentSession must be fixed");const U=new HPs(q,d,new IPs(Q,e,c)),Y=u?ia=>u.Fr(new __c.lk({uri:ia,target:1})):void 0,X=t?ia=>__c.Ti(t,{id:e.ha,title:ia}):void 0,Z=__c.eOs(L),da=vR(({Lc:ia,Gkf:ea,store:la})=>{const na=zR(oa=>{ONs(()=>la.cCg=oa)},[la]),pa=new JPs(c.appId);return AR(O,{position:"relative",
width:"full",height:"full",children:[la.cCg&&AR(O,{position:"absolute",height:"full",width:"full",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[wR(O,{flex:"auto",width:"full",className:"pDMIpw",children:wR(la.cCg,{})}),c.appId===sN.GAb&&ia.J4c&&wR(KPs,{onClick:ia.J4c,Uz:N})]}),wR(O,{height:"full",width:"full",className:la.cCg?"HRZX2g":void 0,children:wR(LPs,{store:la,N:a,Gkf:ea,Z5g:U,Da:e.Da,Tf:f,DRf:h,B7b:g,bNe:ia.bNe,LMe:ia.LMe,gEf:w,Ap:x,CK:y,Qud:ia.Qud,
Csf:na,ckf:Y,q0g:X,Sic:C,Bqg:z,Aqg:A,Dka:n,nYd:ia.nYd,J4c:ia.J4c,zXt:MPs(la.Nd.ALp),SB:J,hkl:c.appId===sN.NCf,UFg:Z,PWe:pa,ee:P})})]})}),ba=TNs(async()=>{const ia=tR()();try{const ea=aOs(b,{hO:c}),la=new NPs({config:ea,Db:p,errorService:q,jm:r,pa:k,X:e,hO:c,userId:l,lK:G,gq:D}),na=ia.r(await ia.s(la.xbh())),pa=na.at(0);if(!pa)throw Error("No output types were returned by getOutputTypes");const oa=new OPs({emr:pa,smr:{jDb:void 0,ALp:1}});return{default:()=>wR(da,{Lc:la,Gkf:na,store:oa})}}finally{ia.s()}});
return()=>wR(UNs,{fallback:wR(PPs,{}),children:wR(ba,{})})};MPs=function(a){switch(a){case void 0:break;case 1:return"valid";case 2:return"missing_required_fields";case 3:return"authentication_required";default:throw new v(a);}};
LOs=async function(a,b){const c=tR()();try{let d;try{const g=c.r(await c.s(RPs(a,b)));d=m(c.r(await c.s(g())),"Failed to start export")}catch(g){return c.r(),a.errorService.na(g),Na(new SPs)}if(!d.ok)return Na(new TPs(d.error?.s3));const e=d.value,f=__c.vm(async()=>{const g=tR()();try{let h;try{h=g.r(await g.s(a.QJh.lMa(e)))}catch(k){return g.r(),a.errorService.na(k),Na(new NOs)}return h.type==="in-progress"?void 0:lPs(h,k=>k.type==="success").map(k=>k.value).NHc(k=>{switch(k.type){case "error":return new TPs(k.error?.s3);
case "paused":return new UPs;default:throw new v(k);}})}finally{g.s()}},{initialDelay:1E3,OL:1.5,fG:3E4});return c.r(await c.s(f.result)).map(g=>({url:g.url,format:b.format}))}finally{c.s()}};
RPs=async function(a,b){const c=tR()();try{const e=c.r(await c.s(VPs(a,b.Yh)));switch(b.format){case "jpg":return a.QJh.kua(iN[2].flow.HQa({X:a.X,MX:{pages:b.Yh,mc:1,jaa:80,TO:!1,g8:void 0},io:e}));case "png":var d=b.format==="png"||b.format==="pdf_standard"?b.xZe:void 0;return a.QJh.kua(iN[1].flow.HQa({X:a.X,MX:{pages:b.Yh,mc:1,pva:!1,F4:!1,TO:!1,g8:void 0},TU:d,io:e}));case "mp4":return a.QJh.kua(iN[5].flow.HQa({X:a.X,G7j:{width:b.width,height:b.height,units:4},MX:{pages:b.Yh,V5:!1,aNa:{width:b.width,
height:b.height}},io:e}));case "pdf_standard":return ma(b.xZe!==void 0,"Responsive document size is required for PDF standard export"),a.QJh.kua(iN[3].flow.HQa({X:a.X,MX:{pages:b.Yh,Dab:!1,dD:!1,wP:!1,x7a:void 0,fN:!1,TU:b.xZe}}));default:throw new v(b);}}finally{c.s()}};VPs=async function(a,b){const c=tR()();try{return c.r(await c.s(a.Tf.Jpa(new Set(b)))),!a.Dka&&a.Tf.VK}finally{c.s()}};
__c.YPs=function({V:a,Nc:b,XRc:c,Ia:d,X:e,Tf:f,DRf:g,Bqg:h,Aqg:k,rSa:l,gEf:n,Ap:p,CK:q,xN:r,jtb:t,pa:u,userId:w,fc:x,mb:y,Db:z,errorService:A,jm:C,Qj:D,lK:G,SB:J,DZ:L,hs:N,Uz:P,CZa:Q}){ma(e.type===1,"V2 app only supports fixed document sessions");const U=ia=>e.duration(ia);if(!nN.qlc)return()=>()=>wR("p",{children:"V2 App Component"});const Y=t.status===__c.jw.pi,X=()=>t.ee("publish_app_v2_video_cap_upgrade_button_clicked","intentional"),{Bpk:Z}=cOs({XRc:m(c),V:a,P:d.Ed("design_publisher_intent"),
errorService:A,hs:N}),da=new WPs(A,l,e,f,Y),ba=ia=>{D.Fdb?.(ia)};return ia=>{if(ia.kind!=="sdk-app")throw Error("createV2AppFactory only supports sdk-app");return QPs({N:new XPs(b,ia.appId),Bpk:Z,VNk:da,X:e,Tf:f,B7b:U,DRf:g,pa:u,userId:w,hO:ia,Db:z,errorService:A,jm:C,fc:x,mb:y,gEf:n,Ap:p,CK:q,Sic:r,Bqg:h,Aqg:k,gq:ba,lK:G,Dka:Y,ee:X,SB:J,DZ:L,Uz:P,CZa:Q})}};
__c.$Ps=async function(a,b,c){const d=tR()();try{const e=new ZPs({user:a.userId,brand:a.pa,limit:100,continuation:b,...c}),f=d.r(await d.s(a.jm.dSk(e)));return{targets:f.N$c.reduce((g,h)=>{const k=m(h.reference,"target reference is not defined");switch(k.type){case "APP":break;case "INTERNAL":g.push({kind:"platform",platform:k.platform,type:k.zl,vH:k.vH,yGa:h.id,Cvg:h.vtb,ZQ:h.rl,name:h.K6b||"",Jtf:h.zGa===2,user:h.user,zGa:h.zGa,thumbnail:h.a5a});break;default:throw new v(k);}return g},[]),continuation:f.continuation}}finally{d.s()}};
aQs=function(a,b,c){return{kind:"platform",type:b,platform:a,vH:c.vH,ZQ:c.id,Hjg:c.Hjg,name:c.name,thumbnail:c.thumbnail,MGa:c.MGa,aBa:!(a===5&&b===7?!c.Wvs:1),email:c.email}};__c.cQs=async function(a,b,c,d,e){const f=tR()();try{const g=new bQs({platform:b,zl:c,user:a.userId,limit:b===5&&c===7?10:100,vH:d,continuation:e}),h=f.r(await f.s(a.jm.eSk(g)));return{targets:h.targets.map(k=>aQs(b,c,k)),continuation:h.continuation}}finally{f.s()}};
eQs=async function(a,b,c,d,e){const f=tR()();try{const g=new dQs({parent:c,platform:b.type==="platform"?b.platform:void 0,extension:b.type==="extension"?b.extension:void 0,ha:a.X?.ha,limit:100,continuation:d,keyword:e}),h=f.r(await f.s(a.jm.MRk(g)));return{targets:h.Pgf,continuation:h.continuation}}finally{f.s()}};
hQs=function(a){return({NSe:b,disabled:c,filename:d,target:e,onClick:f})=>{const g=wR(fQs,{thumbnailUrl:e.thumbnail,aQc:a});return wR(gQs,{disabled:c,target:e,title:d,icon:g,onClick:f,action:b?wR(__c.pq,{size:"medium"}):void 0})}};jQs=function({target:a,description:b}){return vR(()=>wR("div",{className:"ncnzaA",children:wR(iQs,{target:a.get(),description:b})}))};
__c.kQs=function(a){switch(a){case 6:return"GIF";case 3:return"JPG";case 5:return"MP4";case 2:return"PDF";case 1:return"PNG";case 4:return"PPTX";default:throw new v(a);}};__c.lQs=function(a){switch(a){case 6:return 6;case 2:return 3;case 5:return 5;case 3:return 2;case 1:return 1;case 7:return 4;case 4:case 8:case 9:case 10:case 11:case 12:throw Error(`DownloadFileType not sharable: ${a}`);default:throw new v(a);}};
oQs=function({VN:a,X:b,Sdc:c,rm:d,Tac:e}){const f=m(c[0],"At least one file format has to be supported");a=[7,3].includes(f)?a:Math.min(a,10);b=mQs(b,a,d);return new nQs({fileType:f,Sdc:c,VN:a,Sh:b,Tac:e})};
sQs=function({$B:a,X:b,VN:c,Ap:d,CNc:e,rm:f,wS:g}){const {store:h,L:k}=pQs.create({VN:c,X:b,Sdc:e,rm:f.get(),Tac:!1}),l=vR(()=>wR(qQs,{Sdc:h.Sdc,HDe:k.HDe,fileType:h.fileType,TGj:k.TGj,Tac:h.Tac,wS:g}));b=vR(()=>wR(rQs,{Ap:k.Fkp?d:void 0,t9h:k.Ekp?l:void 0,yl:k.yl,aqt:k.VN,Sh:h.Sh,Otb:k.Otb,$B:a}));return{L:k,UTj:b}};
vQs=function({config:a,$B:b,onSubmit:c,X:d,VN:e,CNc:f,le:g,Ra:h,lnq:k,oYj:l,xv:n,rm:p,Az:q,wS:r}){const {L:t,UTj:u}=sQs({$B:b,X:d,VN:e,Ap:k,CNc:f,rm:p,wS:r}),w=jQs({target:n,description:a.description}),x=new tQs({hhi:a,Xkd:t,X:d,Ra:h}),y=()=>c(x.CIn),z=vR(({kj:A,Mj:C})=>{const D=zR(G=>A(C,x.VUm,G),[A,C]);return wR(uQs,{Ze:w,UTj:u,p9h:a.EIm?.Component,oYj:l,G1:x.k9g,onSubmit:D,Xla:a.pnf?.complete,jua:a.pnf?.KSg,zPa:a.pnf?.LSg,le:g,Mj:C,Az:q,gz:h})});return vR(()=>wR(g.RCa,{gz:h,Xga:z,onComplete:y,
Bqa:K("Zl0nbg"),wka:13}))};wQs=function(a){const b=tR(!0)();return async function*(){b.r();try{let c;do{const d=b.r(await b.s(a(c)));b.r(yield b.s(d.targets));c=d.continuation}while(c!=null)}finally{b.s()}}()};xQs=function(a){const b=a.props.list;return!a.props.loading&&b.length===0};
DQs=function({Mc:a,Vr:b,A$i:c,Kve:d}){const e=new yQs(b),f=new zQs,g=()=>e.onConnect(f,c,!0);e.onLoad(f,c);const h=async()=>{const n=tR()();try{d.mck&&n.r(await n.s(e.onConnect(f,c,!1)))}finally{n.s()}};b=()=>{};const k=wR(__c.AQs,{list:[],onSubmit:b,onSelect:b,ub:b,dUb:!0,loading:!0,gqh:!1}),l=vR(()=>a.app.type===1?wR(__c.yfp,{rMa:a.g3f}):wR(BQs,{Eg:a.g3f,title:K("+ia6dg")}));return vR(()=>wR(CQs,{ea:l,title:d.title,Au:d.Au,onConnect:g,xA:f.state==="processing",loading:f.state==="loading",error:f.error,
ujq:k,onLoad:h}))};HQs=function({L:a,errorService:b,fbu:c,O3h:d,uX:e,SS:f,pzj:g}){return({geb:h,Ra:k,onClose:l})=>{const n=BR(({value:q,onClose:r})=>{const t=xR(()=>{if(g)return m(q.e9a[0],"Share uploads cannot be empty").url},[q]);return wR(EQs,{url:t,onClose:r,SS:f,title:c,O3h:d})}),p=__c.FQs({Bw:n,AI:__c.GQs,errorService:b,Ra:k,xBa:void 0,csc:!1,uX:e,iGe:void 0,Aua:!0,Mda:!1,peb:!1})({onClose:l,$Uc:()=>a.wti(h),Jme:q=>a.FXk(q)});return BR(()=>wR(p,{lW:void 0}))}};
IQs=async function(a,b,c){const d=tR()();try{d.r(await d.s(a.d1a(b)))==="complete"&&(a.yUn(b)||c())}finally{d.s()}};JQs=function(a){if(a!=null)return a=a.trim(),a.length>0?a:void 0};
__c.QQs=function({aa:a,fa:b,X:c,le:d,Az:e,Ap:f,hYa:g,Ha:h,SS:k,rm:l,uX:n,pzj:p,wS:q,uJ:r}){const t=a.user,u=a.wb.brand,w=b.jm,x=__c.DJs({aa:a,fa:b,Apb:!1,aMa:{$ie:!1,kje:!1,pje:!1,qje:!1,xje:!1,Sje:!1}}),y=new __c.KQs(t.id,u.id,c,w),z=new LQs;return A=>{ma(A.kind==="storage-app"||A.kind==="extension","App kind not supported");let C;const D=A.Mc,G=A.Ra;switch(A.kind){case "storage-app":C=new MQs(A.Mc.app,x,A.Ra);break;case "extension":C=new NQs(A.Mc.app,A.oOr);break;default:throw new v(A);}const J=
new OQs(D.app),L=[];if(D.Kve){var N=DQs({A$i:()=>z.A$i(J),Vr:C,Mc:D,Kve:D.Kve});L.push(N)}(N=PQs(D,y,Q=>z.wdj(J,Q)))&&L.push(N);const P=HQs({L:g,errorService:b.errorService,O3h:D.R2a?.linkText,fbu:D.R2a?.title,uX:n,SS:k,pzj:p});N=__c.TJs({nb:b.nb,errorService:b.errorService,userId:a.user.id,uJ:r});L.push(vQs({config:D.form,$B:D.app.type,onSubmit:async Q=>{const U=tR()();try{const Y=U.r(await U.s(C.P7b(Q,J.hWl)));A.requestClose();h(({onClose:X})=>{const Z=xR(()=>P({geb:Y,Ra:G,onClose:X}),[X]);return wR(Z,
{})})}finally{U.s()}},X:c,VN:D.pWf.Ph,CNc:D.pWf.CNc,le:d,Ra:G,lnq:f,oYj:N,xv:uR(()=>J.hWl),rm:l,Az:e,wS:q}));return vR(()=>wR(L[J.wIi],{}))}};__c.RQs=function(){return new Set([1,2])};
__c.UQs=function({SS:a,ozj:b,X:c,fc:d,mb:e,Dc:f,H0e:g,Nc:h}){return BR(k=>{let l,n;const p=`generic_${k.geb.Ra}`;d&&(l=()=>{const r={id:c.ha,title:I("2HPxUA",[c.title||K("yKs6+A")])};h.fzf({sg:p,Ek:"make_a_copy"});return __c.Ti(d,r)});e!=null&&(n=r=>{h.fzf({sg:p,Ek:"check_out_your_post"});e.Fr(new __c.lk({uri:r}))});const q=k.value.e9a[0];return wR(SQs,{url:q?.url,ozj:b,SS:a,r0d:l,Wxl:n,onClose:k.onClose,Jvq:q?.fF?.reference?.type==="INTERNAL"?()=>wR(TQs,{fF:m(q?.fF),geb:k.geb}):void 0,qWs:()=>{h.fzf({sg:p,
Ek:"view_my_post_history"});f.xWd({})},H0e:g})})};VQs=async function(a){const b=tR()();try{const c=a.upload.fF?.user;if(c===a.Hj||!c)return a.upload.errorMessage;let d;try{d=b.r(await b.s(a.Sa.E5a(new __c.Xkk({user:c})))).user}catch(e){b.r(),a.errorService.na(e)}return d?AR("div",{children:[wR("p",{children:a.upload.errorMessage}),wR("p",{children:I("K/3z0Q",[`${d.displayName||d.username}`])})]}):a.upload.errorMessage}finally{b.s()}};
__c.XQs=async function(a,b,c=6){const d=tR()();try{const h=b.geb,k=new WQs({id:b.id});let l;try{l=d.r(await d.s(a.jm.A1k(k))).share}catch(q){return d.r(),a.IGa(h,q.endUserMessage||q.message),(0,__c.SCn)({kind:"unknown"})}const n=m(l.e9a[0]),p=n.o3;if(p===c){if(h.io)return(0,__c.CL)(l);var e=h.i2?.WN??h.WN;const q=h.i2?.pages??h.pages;b=q?{kind:"selected",Yh:q}:void 0;const r={format:e!=null?__c.kQs(e):void 0,pages:b};switch(h.type){case "internal":const t=h.platform&&h.zl?__c.$sj({kind:"platform",
platform:h.platform,type:h.zl}):"unknown",u=n.fF?.user;e=!0;u&&(e=u===a.user);const w=n.fF?.zGa;var f=w===2||w===3;a:{const x=n.fF?.zGa;switch(x){case void 0:case 1:var g="private";break a;case 2:g="view";break a;case 3:g="publish";break a;default:throw new v(x);}}f={tcf:f,pDc:g,mkg:e};h.TXa?a.Nc.Nga({kind:"scheduler",endpoint:h.Ra,KLc:t,...f,...r}):a.Nc.Nga({kind:"other",endpoint:h.Ra,...f,...r});break;case "external":a.Nc.Nga({kind:"extension",endpoint:h.Ra,...r});break;default:throw new v(h);}return(0,__c.CL)(l)}if(p===
7||p===3){a.IGa(h,n.errorMessage??(p===7?"upload failed":"media generation failure"));const q=d.r(await d.s(VQs({upload:n,Hj:a.user,Sa:a.Sa,errorService:a.errorService})));return(0,__c.SCn)({kind:p===7?"export-failure":"media-generation-failure",s3:q})}return(0,__c.bDn)()}finally{d.s()}};__c.YQs=function(a){return/^https?:\/\//i.test(a)?a:`http://${a}`};
__c.$Qs=function({bqo:a,TFp:b}){const c=new ZQs,d=vR(()=>c.content);return({children:e})=>{sNs(()=>{ONs(()=>{c.content=e})});sNs(()=>{ONs(()=>{a(d)});return()=>{ONs(()=>{b();c.content=void 0})}},[]);return null}};aRs=__c.db(()=>[1,"WEB_1",2,"WEB_2"]);
__c.bRs=H(()=>({user:S("user",1),brand:S("brand",2),document:T("document",3),Se:T("documentExtension",21),Is:Oo("documentVersion",4),pages:__c.Ro("pages",5),Qwu:Ta("userUploads",6,__c.xAj),message:T("message",7),title:T("title",8),sN:T("linkUrl",9),N$c:__c.To("targetQueues",12),io:Vo("isDraft",20),action:Wa("action",13,__c.Xpc),TXa:T("scheduleDate",14),aQt:Vo("scheduleToNextAvailableSlot",19),Tg:Xa("schema",15,aRs),kmb:__c.Uo("supportErrorResponse",16),WN:Xa("fileFormat",17,__c.bqc),i2:F("exportSpec",
18,__c.dqc)}));bQs=H(()=>({platform:Wa("platform",1,yi),vH:T("oauthUserId",6),zl:Wa("targetType",2,Qpc),user:T("user",3),continuation:T("continuation",4),limit:Lo("limit",5,20)}));dQs=H(()=>({platform:Xa("platform",1,yi),vH:T("oauthUserId",9),extension:T("extension",7),parent:T("parent",2),ha:T("documentId",8),keyword:T("keyword",5),continuation:T("continuation",3),limit:Lo("limit",4,20)}));
__c.cRs=H(()=>({type:B("type","INTERNAL",1,"INTERNAL"),platform:Wa("platform",1,yi),zl:Wa("targetType",2,Qpc),vH:T("oauthUserId",3)}));dRs=H(()=>({type:B("type","APP",2,"APP"),extension:S("extension",1)}));eRs=cb(()=>({type:[1,__c.cRs,2,dRs]}),()=>({}));__c.fRs=H(()=>({user:S("user",1),brand:S("brand",2),endpoint:E("endpoint",8,eRs),rl:T("externalId",6),vtb:Vo("restricted",7)}));gRs=__c.db(()=>[1,2,3]);nPs=H(()=>({type:B("A?",1,"INSTANT")}));hRs=H(()=>({type:B("A?",2,"SCHEDULED"),aCt:__c.Mo(31)}));
iRs=cb(()=>({type:[1,nPs,2,hRs]}),()=>({}));jRs=()=>({appId:S(1),appVersion:Lo(6),rCt:E(2,iRs),P9m:S(3)});kRs=H(()=>({...jRs(),type:B("A?",4,"DRAFT"),ha:T(31),M5b:Oo(41),VIf:T(33),hca:Ta(34,__c.Xud),sWf:(0,__c.Lac)(45),fjj:F(35,__c.Wud)}));mPs=H(()=>({...jRs(),type:B("A?",5,"PUBLISHABLE"),ha:S(36),M5b:Lo(43),VIf:S(38),hca:Ta(39,__c.Xud),sWf:(0,__c.Lac)(46),fjj:E(40,__c.Wud)}));lRs=cb(()=>({type:[4,kRs,5,mPs]}),jRs);mRs=H(()=>({userId:S(1),pa:S(2),Xvt:Ta(3,lRs)}));
GPs=H(()=>({type:B("A?",1,"SUCCESS"),VBn:T(31),WBn:T(32)}));rPs=H(()=>({type:B("A?",2,"FAILURE"),qm:Wa(33,__c.Zud),xxi:S(34)}));nRs=cb(()=>({type:[1,GPs,2,rPs]}),()=>({}));oRs=H(()=>({qva:S(1),outcome:E(2,nRs)}));
__c.CJs.prototype.Cmg=fa(1265,async function(a,b){const c=(0,__c.zu)()();try{const d=__c.xJs(b,{BMa:!1,platform:a}),{yNb:e,QCb:f}=this.zNb.xme();let g;try{g=c.r(await c.s(this.wN.xea({platform:a,permissions:d,QCb:f,msc:!0})))}catch(p){return c.r(),{valid:!1,error:K("WxDfwQ"),Kd:0}}switch(g.type){case "SUCCESS":break;case "DENIED":return{valid:!1,error:K("vxF9jQ"),Kd:1};default:throw new v(g);}if(!__c.EKe(new Set(g.Vba),d))return{valid:!1,error:K("vxF9jQ"),Kd:1};const h=c.r(await c.s(this.Sa.rQb(new __c.cSg({user:this.userId,
credentials:__c.FKe(g,a),yNb:e,kmb:!0}))));if(h.type==="ERROR")return{valid:!1,error:h.message,Kd:7};const {summary:{username:k,Yw:l,valid:n}}=c.r(await c.s(this.Sa.tbh(new __c.EJs({user:this.userId,platform:yi.serialize(a),Ylc:!0}))));return n?{valid:n,username:k,Yw:l}:{valid:n,error:K("vxF9jQ"),Kd:7}}finally{c.s()}});
__c.BJs.prototype.Cmg=fa(1264,async function(a,b){const c=(0,__c.GJs)()();try{const d=__c.xJs(b,{BMa:!1,platform:a}),{yNb:e,QCb:f}=this.zNb.xme();let g;try{g=c.r(await c.s(this.wN.xea({platform:a,permissions:d,QCb:f,msc:!0})))}catch(n){return c.r(),{valid:!1,error:K("WxDfwQ"),Kd:0}}switch(g.type){case "SUCCESS":break;case "DENIED":return{valid:!1,error:K("vxF9jQ"),Kd:1};default:throw new v(g);}if(!__c.EKe(new Set(g.Vba),d))return{valid:!1,error:K("vxF9jQ"),Kd:1};const h=c.r(await c.s(this.Sa.rQb(new __c.cSg({user:this.userId,
credentials:__c.FKe(g,a),yNb:e,kmb:!0}))));if(h.type==="ERROR")return{valid:!1,error:h.message,Kd:7,Huw:h.lYb};const k=new __c.FJs({user:this.userId,platform:a,Ylc:!0}),{yNc:[l]}=c.r(await c.s(this.jm.o3e(k)));return l?.valid?{valid:!0,username:l.username,Yw:l.Yw}:{valid:!1,error:K("vxF9jQ"),Kd:1}}finally{c.s()}});
__c.CJs.prototype.Jdf=fa(1263,async function(a){const b=(0,__c.zu)()();try{const c=new __c.FJs({user:this.userId,platform:a,Ylc:!0}),{yNc:d}=b.r(await b.s(this.jm.o3e(c)));return d.map(e=>new __c.y5g(e))}finally{b.s()}});__c.BJs.prototype.Jdf=fa(1262,async function(a){const b=(0,__c.GJs)()();try{const c=new __c.FJs({user:this.userId,platform:a,Ylc:!0}),{yNc:d}=b.r(await b.s(this.jm.o3e(c)));return d.map(e=>new __c.y5g(e))}finally{b.s()}});__c.gEn.prototype.UKf=fa(1186,function(a){return this.NHb(a)});
__c.byo.prototype.UKf=fa(1185,function(a){return iN[a.fileType].flow.NHb(a)});__c.NXh.prototype.fZk=fa(1145,function(){return this.uJ});__c.aa=__c.zj.prototype;
__c.aa.dSk=fa(500,async function(a){const b=Sb()();try{const c=di([es,"targetqueues"]);__c.bi(c,{user:a.user,brand:a.brand,platform:a.platform&&yi.serialize(a.platform),oauthUserId:a.vH,targetType:a.zl&&Qpc.serialize(a.zl),app:a.app,extensionPoint:a.xB,extensionLabel:a.b6g,externalId:a.rl,isSharedWithTeam:a.Ire,actions:a.actions.map(g=>gRs.serialize(g)),filteredForContentPlanner:m(a.h3e),restricted:a.vtb,continuation:a.continuation,limit:m(a.limit)});const d=gi(c),[e,{u8p:f}]=b.r(await b.s(Promise.all([this.za.get(d,
{Oa:"findtargetqueues"}),__webpack_require__.me(145383).then(()=>({u8p:__c.OAs}))])));return f.deserialize(e)}finally{b.s()}});__c.aa.eBc=fa(499,async function(a){const b=Sb()();try{const c=gi(di([es,"targetqueues"])),[d,{OZp:e}]=b.r(await b.s(Promise.all([this.za.post(c,__c.fRs.serialize(a),{Oa:"createtargetqueue"}),__webpack_require__.me(145383).then(()=>({OZp:__c.DAs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.MRk=fa(498,async function(a){const b=Sb()();try{const c=gi(di([es,"nesteditems2"])),[d,{v7p:e}]=b.r(await b.s(Promise.all([this.za.post(c,dQs.serialize(a),{Oa:"findnesteditems2"}),__webpack_require__.me(145383).then(()=>({v7p:__c.MAs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.eSk=fa(497,async function(a){const b=Sb()();try{const c=gi(di([es,"targets2"])),[d,{v8p:e}]=b.r(await b.s(Promise.all([this.za.post(c,bQs.serialize(a),{Oa:"findtargets2"}),__webpack_require__.me(145383).then(()=>({v8p:__c.RAs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.A1k=fa(495,async function(a){const b=Sb()();try{ma(a.id!=null&&/^s[a-zA-Z0-9_-]{10}$/.test(a.id));const c=gi(di([es,a.id])),[d,{Ncq:e}]=b.r(await b.s(Promise.all([this.za.get(c,{Oa:"getshare"}),__webpack_require__.me(145383).then(()=>({Ncq:__c.XAs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.CJd=fa(494,async function(a){const b=Sb()();try{const c=gi(di([es])),[d,{GZp:e}]=b.r(await b.s(Promise.all([this.za.post(c,__c.bRs.serialize(a),{Oa:"createshare"}),__webpack_require__.me(145383).then(()=>({GZp:__c.pRs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.wmj=fa(493,async function(a){const b=Sb()();try{ma(a.qva!=null&&/^u[a-zA-Z0-9_-]{10}$/.test(a.qva));const c=gi(di([es,"posts",a.qva,"publish_outcome"])),[d,{wqq:e}]=b.r(await b.s(Promise.all([this.za.post(c,oRs.serialize(a),{Oa:"recordpublishoutcome"}),__webpack_require__.me(144152).then(()=>({wqq:__c.qRs}))])));return e.deserialize(d)}finally{b.s()}});
__c.aa.mVg=fa(491,async function(a){const b=Sb()();try{const c=gi(di([es,"posts"])),[d,{vZp:e}]=b.r(await b.s(Promise.all([this.za.post(c,mRs.serialize(a),{Oa:"createpost"}),__webpack_require__.me(144152).then(()=>({vZp:__c.rRs}))])));return e.deserialize(d)}finally{b.s()}});sRs=({children:a,className:b,id:c})=>(0,__c.V)("div",{className:(0,__c.ov)("MXsJ_Q",b),id:c,children:a});
__c.tRs=class{QPg(){this.TMa.It.QPg?.(new __c.qFj)}constructor(a,b,c,d,e,f,g,h,k,l){this.Ig=a;this.TMa=b;this.errorService=c;this.NAb=d;this.BZ=e;this.Ia=f;this.ma=g;this.Nja=h;this.oAr=k;this.je=l}};__c.uRs=a=>({options:{set:(b,c)=>a.set(b,Ka(c))}});vRs=H(()=>({Twj:(0,__c.$o)(1,__c.ruo)}));lMs=class extends Error{};
__c.wRs=class{aQd(a){switch(a.type){case 2:return 7;case 1:return a=a.yl.reduce((b,c)=>{c=c.doctype;c==null||c==="inline"?b.set("inline",void 0):b.set(c.id,c.jc);return b},new Map),a.size>1?1:a.has("inline")?2:nMs(a.values().next().value);default:throw new v(a);}}async T7c(a,b,c){const d=FN()();try{try{const e=__c.uuo(a,b),f=d.r(await d.s(this.EMn()))??new vRs({Twj:new Map}),g=new Map(f.Twj),h=g.get(c.toString());__c.vuo.structural(h,e)||(g.set(c.toString(),e),d.r(await d.s(this.BPt(new vRs({Twj:g})))))}catch(e){d.r(),
this.errorService?.na(e,"DownloadSaveSettingsPresenter failed to save download settings")}}finally{d.s()}}zOn(a){this.cache||qMs(this);if(!this.cache)return{promise:void 0,result:new __c.ruo({})};if(this.cache.result){const b=this.aQd(a);return{result:this.cache.result.get(b.toString())??new __c.ruo({}),promise:void 0}}return{promise:this.cache.promise.then(__c.xN.wrap(b=>b.get(this.aQd(a).toString())??new __c.ruo({}))),result:void 0}}MLq({HZe:a,WPa:b,ona:c,INa:d,Kde:e,Nd:f,pHr:g}){if(f.F5c&&f.Uud&&
f.fileType&&((g||f.fileType!==8)&&a.HDe(b,oMs(f.fileType)),a.c$l(b,!!f.F5c.NGn),a.s$l(b,!!f.F5c.dD),a.z9l(b,!!f.F5c.fAa),g)){c.x9l(d,!!f.F5c.fN);if(e&&f.F5c.O$){a=e.kWt;a:switch(b=f.F5c.O$,b){case 1:b=1;break a;case 2:b=2;break a;default:throw new v(b);}a.call(e,b)}f.Uud.jaa!=null&&c.H$l(d,f.Uud.jaa);f.Uud.kim!=null?(c.yrg(d,!0),c.Jbm(d,f.Uud.kim)):c.yrg(d,!1);c.Ovj(d,!!f.Uud.Xbn);c.Eam(d,!!f.Uud.QDp)}}constructor({qV:a,errorService:b,Ixn:c=!1}){this.errorService=b;const d=(async()=>{const e=FN()();
try{return e.r(await e.s(a())).c0f("download_flow",vRs)}finally{e.s()}})();this.EMn=async()=>{const e=FN()();try{return e.r(await e.s(d)).get("download-save-settings")}finally{e.s()}};this.BPt=async e=>{const f=FN()();try{return f.r(await f.s(d)).put("download-save-settings",e)}finally{f.s()}};c&&qMs(this)}};
JMs=class{async run(){switch(this.zJ.type){case "GIF":break;case "MP4":if(!this.v9k.VideoEncoder)throw new jO("Web Codecs VideoEncoder not supported");break;default:throw new v(this.zJ);}}constructor(a){var b=window;this.zJ=a;this.v9k=b}};HMs=class{run(){if(this.Jrh!=null&&this.Jrh!==1){var a=__c.HYo(this.Jrh);if(this.zJ.width*this.zJ.height>a.width*a.height)throw new jO("Output quality not supported");}}constructor(a,b){this.zJ=a;this.Jrh=b}};
BQs=({Eg:a,title:b})=>__c.sfp(__c.eo,{src:a,alt:b,borderRadius:"elementSmall",width:"6u",height:"6u"});UOs=(a,b)=>{b=rMs(b);const c=b.Ksa;a=Math.round(a/c);return{width:a*c,height:a*b.gma}};tR=__c.tR=__webpack_require__(75402)._;var NMs=__webpack_require__(245307).Fm;var xRs,yRs,AR;xRs=__webpack_require__(296713);yRs=xRs.Fragment;wR=__c.wR=xRs.jsx;AR=xRs.jsxs;var zRs,ARs,BRs,TNs,CRs,UNs,zR,sNs,xR,SNs,rNs;zRs=__webpack_require__(978109);ARs=zRs.Component;BRs=zRs.Fragment;TNs=zRs.lazy;BR=__c.BR=zRs.memo;CRs=zRs.PureComponent;UNs=zRs.Suspense;zR=zRs.useCallback;sNs=zRs.useEffect;xR=zRs.useMemo;SNs=zRs.useRef;rNs=zRs.useState;var DRs,xNs,kNs,ERs;DRs=__webpack_require__(186901);uR=__c.uR=DRs.EW;xNs=DRs.fm;ONs=__c.ONs=DRs.h5;kNs=DRs.m3;ERs=DRs.mJ;yR=__c.yR=DRs.sH;CR=__c.CR=DRs.XI;var FRs=__webpack_require__(536618),GRs=FRs.Aj,jNs=FRs.eG,dNs=FRs.Sx,fNs=FRs.YD;var vR=__webpack_require__(270531).PA;var HRs=__webpack_require__,IRs=HRs(208463),JRs=HRs.n_x(IRs)();var KRs=__webpack_require__(277049)._;var LRs=__webpack_require__(269018)._;__c.MRs=class{constructor(a,b){this.Da=a;this.nlb=b}};var NRs={eventType:"email_post_publish_interacted",La(a){return __c.yg({location:a.location,action:a.action,editing_context:a.ya==null?void 0:__c.zg(a.ya)})}};__c.ORs=class{jtm(a){this.V.track(NRs,{location:"post_publish_dialog",action:a})}constructor(a){this.V=a}};var BMs;__c.PRs=class extends __c.byo{async ace(a){const b=tR()();try{const c=b.r(await b.s(super.ace(a)));return new __c.Pr({...c,...this.n$j})}finally{b.s()}}async QGd(a){const b=tR()();try{const c=b.r(await b.s(super.QGd(a))),{RYb:d}=this.n$j??{};return d?Array.isArray(c)?c.map(e=>CMs(e,d)):CMs(c,d):c}finally{b.s()}}async WKf(a){const b=tR()();try{const c=b.r(await b.s(super.WKf(a))),{RYb:d}=this.n$j??{};return d?CMs(c,d):c}finally{b.s()}}constructor(a,b){super(a);this.n$j=b}};
BMs=(a,b)=>({...a,...(b&&b.HN!=null?{HN:b.HN}:{})});var IMs=class{async run(){const a=tR()();try{a.r(await a.s(Promise.all(this.Rmm.map(b=>b.run()))))}finally{a.s()}}constructor(a){this.Rmm=a}};var GMs=class{run(){if(this.zJ.type==="MP4"){var a=this.zJ;if(a.Sff!=null)throw new jO("Minimum bitrate spec is not supported");if(a.Ote!=null)throw new jO("Maximum file size constraint is not supported");if(a.audio!=null)throw new jO("Custom audio specs are not supported");}}constructor(a){this.zJ=a}};var DMs=class{async run({xha:a,zJ:b,Fkf:c}){const d=tR()();try{const e=[...this.Rmm,...this.igr({xha:a,zJ:b,Fkf:c})];try{for(const f of e)d.r(await d.s(f.run()))}catch(f){return d.r(),Na({errors:[{kind:"generic",message:f instanceof Error?f.message:String(f)}]})}return Ka()}finally{d.s()}}constructor(a){this.Rmm=[];this.igr=a}};var QRs=class extends Error{},RRs=class extends Error{},LMs={iVn:!1,jVn:!1},VMs=class{async hz(a,b=!1){const c=tR()();try{const f=a.Iya,g=a.zJ,h=this.M8.P_a;let k;if(g.type==="GIF"){if(!h?.SPn)return RMs({value:"GIF export is disabled",WUb:"DISABLED"});k=h.SPn}else if(g.type==="MP4"){if(!h?.Fqo)return RMs({value:"MP4 export is disabled",WUb:"DISABLED"});k=h.Fqo}else return RMs({value:"Output type not supported: "+g.type,WUb:"DISABLED"});let l=!1;const n=this.Kb.now(),p=h.tyb?0:k.qiu,q=this.P.kb("video.web_local_compositor.local_export",
{timeout:p!==0?(p+10)*1E3:36E5});q.setAttribute("type",g.type);if(this.sui?.pending)return q.setAttribute("error_message","Another export is already in progress"),q.setAttribute("error_kind","software_error"),q.end("error"),RMs({value:"Another export is already in progress",$of:!0,WUb:"BUSY",Fjj:!0});this.sui=new SRs;try{const r=c.r(await c.s(this.J1r({request:a,P_a:h,zJ:g,Fkf:k}))),t=c.r(await c.s(r.Nja()));let u;g.type==="MP4"&&this.M8.P_a?.aCr&&(u=c.r(await c.s(KMs(this,r,this.xj))));const w=t.Lhb,
x=new __c.Dno(t.ox),y=new __c.yKb(x),z=c.r(await c.s(MMs(this,{Fda:r,V5t:b,span:q}))),A=this.EDt.select(a,z);l=A.Xlj==="remote";q.setAttribute("used_remote_rasterizer",l);q.setAttribute("rasterizer_used",A.Xlj);this.V.track(__c.$Js,{source:a.je,designId:f.content.id,kok:"web",dXl:A.Xlj,Mlc:g.width,zke:g.height,RNk:g.fps});const C=c.r(await c.s(OMs(this,a,r,A.Vgn,y,p,u)));a:{const J=a.zJ;ma(J.type==="GIF"||J.type==="MP4");switch(J.type){case "GIF":var d=".gif";break a;case "MP4":d=".mp4";break a;default:throw new v(J);
}}a=d;var e=w.title?.endsWith(a)?w.title:`${w.title||"download"}${a}`;const D=Math.round(this.Kb.now()-n),G=C.size;PMs(this,f,g,t);q.setAttribute("cancelled",!1);q.end();return Ka({video:C,title:e,oYc:D,o2e:G,WOc:l})}catch(r){c.r();if(r instanceof RRs)return q.setAttribute("cancelled",!0),q.end("ok"),RMs({value:r.message,$of:!0,LBn:!0,WUb:"CANCELLED",WOc:l});q.setAttribute("cancelled",!1);q.setAttribute("error_message",r instanceof Error?r.message:`${String(r)}`);q.setAttribute("error_kind",r instanceof
jO?"support_check_error":"software_error");q.end("error");return r instanceof QRs?RMs({value:r.message,$of:!0,Fjj:!0,WUb:"TIMEOUT",WOc:l}):r instanceof jO?RMs({value:r.message,$of:!0,Fjj:!0,WUb:"SUPPORT_CHECKS_FAILED",WOc:l}):RMs({value:r instanceof Error?r:`Error while compositing video: ${String(r)}`,$of:!0,k0l:!0,WUb:"COMPOSITOR_ERROR",WOc:l})}}finally{c.s()}}constructor(a,b,c,d,e,f,g,h,k,l=__c.Zb){this.Ig=a;this.J1r=b;this.NAb=c;this.M8=d;this.errorService=e;this.Ia=f;this.EDt=g;this.xj=h;this.V=
k;this.Kb=l;this.d$q=xMs;this.P=this.Ia.Ed(__c.IYo.j3p)}},SRs=class{get promise(){return this.deferred.promise}get pending(){return this.q4j}start(a,b){b>0&&(this.rq=setTimeout(NMs.wrap(()=>{this.reject(new QRs("Local export timed out"))}),b*1E3));a().then(NMs.wrap(c=>this.resolve(c))).catch(NMs.wrap(c=>this.reject(c)));return this}cancel(){this.reject(new RRs("Export canceled by user"))}finally(a){QMs(this,a)}resolve(a){clearTimeout(this.rq);this.q4j=!1;this.deferred.resolve(a)}reject(a){clearTimeout(this.rq);
this.q4j=!1;this.deferred.reject(a)}constructor(){this.q4j=!0;this.deferred=__c.tb()}};var XMs=class{select(a,b){if(b.iVn)if(this.M8.P_a?.MHr)b=!0;else throw Error("Suitable rasterizer cannot be provided");else b=!1;return{Vgn:b?()=>this.CZl.Osi(a.zJ,a.Iya):this.Bcr,Xlj:b?"remote":"web"}}constructor(a,b,c){this.M8=a;this.Bcr=b;this.CZl=c}};var TRs=(...a)=>fetch(...a),URs=class{async NFa(a){var b=this.cache.get(a);if(!b){b=this.scenes.indexOf(a);({P7t:b}=this.contexts[b]);if(!b)return;b=this.fetch(b).then(NMs.wrap(c=>c.blob())).then(NMs.wrap(c=>this.createImageBitmap(c)));this.cache.set(a,b)}return b}async Rlj(a,b){const c=tR()();try{const d=c.r(await c.s(this.NFa(a)));if(!d)throw Error("No spritesheet found for scene");return this.x2e(d,b.offset,b.A6a==="STATIC"?b:b.lbb||b.ib)}finally{c.s()}}async Slj(a,b){const c=tR()();try{ma(b.Sqd!=
null,"No LUT set in the layer");const d=c.r(await c.s(this.NFa(a)));if(!d)throw Error("No spritesheet found for scene");return this.x2e(d,b.Sqd,{width:512,height:512})}finally{c.s()}}async Tlj(a,b){const c=tR()();try{ma(b.hMb!=null,"No mask set in the layer");const d=c.r(await c.s(this.NFa(a)));if(!d)throw Error("No spritesheet found for scene");return this.x2e(d,b.hMb,b)}finally{c.s()}}x2e(a,{x:b,y:c},{width:d,height:e}){return this.agr(a,b,c,d,e)}dispose(){}constructor(a,b=__c.kWo,c=__c.lWo,d=TRs){this.contexts=
a;this.createImageBitmap=b;this.agr=c;this.fetch=d;this.cache=new Map;this.scenes=this.contexts.map(e=>e.scene)}},VRs=class{async NFa(){}async Rlj(a,b){return this.x2e(a,b.offset)}async Slj(a,b){ma(b.Sqd!=null,"No LUT set in the layer");return this.x2e(a,b.Sqd)}async Tlj(a,b){ma(b.hMb!=null,"No mask set in the layer");return this.x2e(a,b.hMb)}async x2e(a,b){a=this.scenes.indexOf(a);b=SMs(this.Wlj[a].fWh,b);return this.fetch(b.url).then(NMs.wrap(c=>c.blob())).then(NMs.wrap(c=>this.createImageBitmap(c)))}dispose(){}constructor(a,
b,c){this.Wlj=a;this.createImageBitmap=b;this.fetch=c;this.scenes=this.Wlj.map(d=>d.scene)}};var WRs=(...a)=>fetch(...a),aNs=class{select(a,b){b=this.M8.WUf&&!!this.M8.P_a?.NHr&&b.jVn;return{Vgn:b?()=>this.CZl.Osi(a.zJ,a.Iya):async()=>this.tUs.Osi(a.zJ,a.Iya),Xlj:b?"remote":"local"}}constructor(a,b,c){this.M8=a;this.tUs=b;this.CZl=c}},bNs=class{Osi(a,b){return async()=>{const c=tR()();try{const d=c.r(await c.s(this.Nja(b.content.id,b.pages)));return this.Lee(a,b,d)}finally{c.s()}}}async Lee(a,b,c){const d=tR()();try{const e={Iya:b,zJ:a,AM:c.AM,ox:c.ox,kT:c.kT,pA:c.pA,embeds:c.embeds,un:c.un,
JX:c.JX,r_g:JSON.stringify(__c.vh.serialize(c.Da))},f=d.r(await d.s(this.sUi())),g=m(f.qKi,'No "generateSpritesheet" method in local video composition service'),h=d.r(await d.s(g(new __c.WLs(e))));if(h.type==="SUCCESS")return new VRs(h.Wlj,this.createImageBitmap,this.fetch);throw Error(`Failed render via webx: code = ${h.code}, message = ${h.message}`);}finally{d.s()}}constructor(a,b){this.Nja=a;this.sUi=b;this.fetch=WRs;this.createImageBitmap=__c.kWo}};var XRs=H(()=>({scene:E(1,__c.VLs),P7t:T(2)}));var YRs=H(()=>({PPt:Ta(1,XRs)}));var ZRs=(...a)=>fetch(...a),ZMs=class{async Osi(a,b){return async()=>{const c=tR()();try{const d=this.SPt.WUa(a,b),e=c.r(await c.s(d())),{PPt:f}=YRs.deserialize(e);return new URs(f,this.Sbr,this.bgr,this.fetch)}finally{c.s()}}}constructor(a){this.SPt=a;this.fetch=ZRs;this.Sbr=__c.kWo;this.bgr=__c.lWo}};var $Ms=class{WUa(a,b){a=TMs(this,a);const c=UMs(this,a,b);return()=>{const {result:d}=__c.vm(async()=>{const e=tR()();try{return this.lMa(e.r(await e.s(c)))}finally{e.s()}},{initialDelay:1E3,OL:1.5,fG:5E3,qs:45E3});return d}}async lMa(a){const b=tR()();try{const c=new __c.Zei({ky:a,jT:!1}),d=b.r(await b.s(this.Du.C7b(c)));switch(d.hz.status){case 3:break;case 1:const e=m(d.hz.output,"null output when getting an export");sa(e.mQa.length,1,"unexpected number of blobs");const f=m(e.mQa[0].url,"Blob URL does not exist");
return b.r(await b.s(this.hRr(f))).json();case 2:throw Error(`Failed to get scene renders: ${d.hz.endUserMessage}`);default:throw new v(d.hz.status);}}finally{b.s()}}constructor(a,b=d=>window.fetch(d),c=__c.UYo){this.Du=a;this.hRr=b;this.V3r=c}};var $Rs=BR(a=>wR("div",{className:"WM8VUg",children:wR(R,{margins:"legacy",children:a.title})})),aSs=BR(a=>wR("div",{className:"oOBr6g",children:wR(Yk,{tone:"critical",size:"small",children:a.message})})),bSs=BR(a=>{var b=a.entry;const c=b.details;b=b.account;const d=a.xxh;a=b&&b.error;const e=zR(()=>{d(c.platform)},[c.platform,d]);return AR(yRs,{children:[AR(__c.Sx,{className:"_4ooE8A",onClick:e,children:[wR(KA,{children:c.icon}),c.title,a&&wR(KA,{children:wR(__c.IBg,{size:"medium",className:"B6J1uA"})}),
wR(KA,{children:wR(R,{tone:"tertiary",margins:"legacy",children:b?.valid?b.username:K("q2ccpg")})})]}),a&&wR(aSs,{message:a})]})}),cSs=BR(a=>{const b=a.entries,c=a.xxh;return b.length===0?wR(aSs,{message:K("HhGS2g")}):wR(__c.LA,{margins:"flow",children:b.map(d=>wR(bSs,{entry:d,xxh:c},d.details.platform))})}),dSs=({length:a})=>wR(__c.LA,{margins:"flow",children:Array.from({length:a},(b,c)=>AR(sRs,{className:"voJAVg",children:[wR(Gj,{index:c,shape:"square"}),wR(As,{index:c}),wR("div",{}),wR(As,{index:c})]},
c))}),lNs=BR(a=>{const b=a.loading,c=a.entries;a=a.xxh;return AR("div",{children:[wR($Rs,{title:K("p1Vwaw")}),b?wR(dSs,{length:c.length}):wR(cSs,{entries:c,xxh:a})]})});var eSs=class{static G(a){M(a,{accounts:yR.shallow})}constructor(){this.accounts=(eSs.G(this),new Map)}},hNs=class{static G(a){M(a,{jld:CR.bound,mDn:CR.bound})}createStore(){return new eSs}jld(a){return this.HJa.some(b=>(b=gNs(this,a,b.platform))&&__c.yJs(b,2,{BMa:!1}))}mDn(a){return this.HJa.map(b=>{const c=gNs(this,a,b.platform);return{details:b,account:c&&{valid:c.valid&&c.Vba.has(9),error:c.error?.message,username:c.username}}})}async onConnect(a,b){const c=tR()();try{const d=gNs(this,a,b);d?
c.r(await c.s(this.SB.xea(d,2))):c.r(await c.s(this.SB.Cmg(b,2)))}finally{c.s()}}constructor(a,b){this.HJa=a;this.SB=b;hNs.G(this)}};var iNs=[{platform:13,title:K("lU5oSw"),icon:wR(__c.gJn,{size:"medium"})}];var oNs=({eb:a,total:b})=>wR(O,{background:"neutralLow",borderRadius:"baseUnit",padding:"2u",children:AR(__c.Yc,{Ga:"start",spacing:"1u",children:[wR(Xc,{width:"content",children:wR(__c.Yv,{})}),wR(Xc,{children:wR(R,{children:I("4Q8ROw",[a.iIa(b)])})})]})});var nNs=class{static G(a){M(a,{Uk:yR.ref,loading:yR.ref,total:uR})}async BYc(a){const b=tR()();try{ONs(()=>{this.loading=!0});try{const c=(b.r(await b.s(this.hNi(a).promise))??[]).filter(__c.nbk);ONs(()=>{this.loading=!1;this.Uk=c})}catch(c){b.r(),ONs(()=>{this.loading=!1})}}finally{b.s()}}get total(){return this.Uk.reduce((a,b)=>a+__c.XQg(b.zN.KNa.Eth,b.zN.KNa.currency),0)}constructor(a,b){this.hNi=a;this.Tf=b;this.Uk=(nNs.G(this),[]);this.loading=!1;ERs(()=>this.Tf.Uk,c=>this.BYc(c),{fireImmediately:!0})}};var uNs={eventType:"scheduler_promotion_interacted",La(a){return __c.yg({action:a.action,source:a.source,category_id:a.Xa,design_id:a.designId,doctype_id:a.va})}};var fSs=class extends __c.h8g{constructor(a){super(fSs,a)}};fSs.e6a="design_publisher_intent";var gSs=H(()=>({type:B("A?",1,"PNG")}));var hSs=H(()=>({type:B("A?",2,"JPG")}));var iSs=cb(()=>({type:[1,gSs,2,hSs]}),()=>({}));var jSs=H(()=>({type:B("A?",1,"EXACT"),value:Lo(1)}));var kSs=H(()=>({type:B("A?",2,"MIN"),value:Lo(1)}));var lSs=H(()=>({type:B("A?",3,"MAX"),value:Lo(1)}));var mSs=H(()=>({type:B("A?",4,"MIN_MAX"),min:Lo(1),max:Lo(2)}));var nSs=cb(()=>({type:[1,jSs,2,kSs,3,lSs,4,mSs]}),()=>({}));var oSs=H(()=>({format:E(1,iSs),T2c:Oo(2),Whi:F(4,nSs)}));var pSs=H(()=>({type:B("A?",1,"MP4")}));var qSs=cb(()=>({type:[1,pSs]}),()=>({}));var rSs=H(()=>({format:E(1,qSs),T2c:Oo(2),aspectRatio:F(3,nSs),Xi:F(5,nSs)}));var sSs=H(()=>({type:B("A?",1,"PDF_STANDARD")}));var tSs=cb(()=>({type:[1,sSs]}),()=>({}));var uSs=H(()=>({type:B("A?",1,"A4")}));var vSs=H(()=>({type:B("A?",2,"A3")}));var wSs=H(()=>({type:B("A?",3,"LETTER")}));var xSs=H(()=>({type:B("A?",4,"LEGAL")}));var ySs=cb(()=>({type:[1,uSs,2,vSs,3,wSs,4,xSs]}),()=>({}));var zSs=H(()=>({format:E(1,tSs),T2c:Oo(2),size:E(3,ySs)}));var ASs=H(()=>({id:S(1),displayName:S(2),uSi:F(5,oSs),ZMj:F(6,rSs),gVb:F(7,nSs),G_g:F(8,zSs)}));var BSs=H(()=>({id:S(1),displayName:S(2),hca:Ta(3,ASs)}));var CSs=__c.db(()=>[1,2,3]);var DSs=H(()=>({jDb:T(1),ALp:Xa(2,CSs)}));var RNs=H(()=>({type:B("A?",1,"COMPLETED")}));var ESs=H(()=>({uj:B("A?",1,"IMAGE_LOADING"),id:S(1),JB:Lo(2),Rz:Lo(3)}));var FSs=H(()=>({uj:B("A?",2,"IMAGE_READY"),id:S(1),JB:Lo(2),Rz:Lo(3),format:E(4,iSs),url:S(5)}));var GSs=H(()=>({uj:B("A?",3,"IMAGE_ERROR"),id:S(1),JB:Lo(2),Rz:Lo(3),message:T(10)}));var HSs=H(()=>({uj:B("A?",4,"VIDEO_LOADING"),id:S(1),JB:Lo(2),Rz:Lo(3),Xi:Lo(9)}));var ISs=H(()=>({uj:B("A?",5,"VIDEO_THUMBNAIL"),id:S(1),JB:Lo(2),Rz:Lo(3),I8a:E(4,iSs),thumbnailUrl:S(5),Xi:Lo(9)}));var JSs=H(()=>({uj:B("A?",6,"VIDEO_UPGRADING"),id:S(1),JB:Lo(2),Rz:Lo(3),I8a:E(4,iSs),thumbnailUrl:S(5),Xi:Lo(9)}));var KSs=H(()=>({uj:B("A?",7,"VIDEO_READY"),id:S(1),JB:Lo(2),Rz:Lo(3),format:E(4,qSs),url:S(5),I8a:E(6,iSs),thumbnailUrl:S(7),Xi:Lo(9)}));var LSs=H(()=>({uj:B("A?",8,"VIDEO_ERROR"),id:S(1),JB:Lo(2),Rz:Lo(3),message:T(11)}));var MSs=H(()=>({uj:B("A?",12,"DOCUMENT_LOADING"),id:S(1),JB:Lo(2),Rz:Lo(3)}));var NSs=H(()=>({uj:B("A?",13,"DOCUMENT_THUMBNAIL"),id:S(1),JB:Lo(2),Rz:Lo(3),I8a:E(8,iSs),thumbnailUrl:S(9)}));var OSs=H(()=>({uj:B("A?",14,"DOCUMENT_ERROR"),id:S(1),JB:Lo(2),Rz:Lo(3),message:T(10)}));var PSs=cb(()=>({uj:[1,ESs,2,FSs,3,GSs,4,HSs,5,ISs,6,JSs,7,KSs,8,LSs,12,MSs,13,NSs,14,OSs]}),()=>({}));var QSs=H(()=>({l1a:S(1),Zd:Ta(2,PSs)}));var RSs=H(()=>({type:B("A?",1,"COMPLETED"),Gkf:Ta(1,BSs)}));var SSs=H(()=>({type:B("A?",2,"APP_ERROR"),message:T(31)}));var TSs=H(()=>({type:B("A?",3,"INTERNAL_ERROR")}));var USs=H(()=>({Wf:T(1),Rc:Lo(2)}));var VSs=H(()=>({type:B("A?",1,"DESIGN"),Jor:S(1),pages:Ta(2,USs)}));var WSs=cb(()=>({type:[1,VSs]}),()=>({}));var XSs=H(()=>({type:B("A?",1,"IMAGE"),format:E(1,iSs),url:S(2),JB:Lo(3),Rz:Lo(4),Lm:E(6,WSs)}));var YSs=H(()=>({type:B("A?",2,"VIDEO"),format:E(1,qSs),url:S(2),JB:Lo(3),Rz:Lo(4),Lm:E(6,WSs)}));var ZSs=H(()=>({type:B("A?",5,"DOCUMENT"),format:E(1,tSs),url:S(2),Lm:E(7,WSs)}));var $Ss=cb(()=>({type:[1,XSs,2,YSs,5,ZSs]}),()=>({}));var aTs=H(()=>({l1a:S(1),files:Ta(2,$Ss)}));var bTs=H(()=>({type:B("A?",1,"REDIRECT"),url:S(1)}));var cTs=cb(()=>({type:[1,bTs]}),()=>({}));var dTs=H(()=>({type:B("A?",1,"COMPLETED"),rl:T(31),tOk:T(32),O6v:F(33,cTs)}));var eTs=H(()=>({type:B("A?",2,"APP_ERROR"),message:T(31)}));var fTs=H(()=>({type:B("A?",3,"REMOTE_REQUEST_FAILED")}));var gTs=H(()=>({type:B("A?",4,"INTERNAL_ERROR")}));var wNs=__c.cxp()("design_publisher",{renderSettingsUi:{s9e:{design_publisher_v1_emit_on_settings_ui_context_change:{Evd:H(()=>({PR:E(1,BSs)})),z7c:void 0}},UTe:{design_publisher_v1_update_publish_settings:{Evd:H(()=>({xlj:E(1,DSs)})),z7c:cb(()=>({type:[1,RNs]}),()=>({}))}}},renderPreviewUi:{s9e:{design_publisher_v1_emit_on_preview_change:{Evd:H(()=>({yud:Ta(1,QSs),PR:E(2,BSs),jDb:T(3)})),z7c:void 0}},UTe:{design_publisher_v1_request_preview_upgrade:{Evd:H(()=>({Pxt:__c.To(1)})),z7c:void 0}}},getOutputTypes:{z7c:cb(()=>
({type:[1,RSs,2,SSs,3,TSs]}),()=>({})),s9e:{},UTe:{}},publishDesign:{Evd:H(()=>({jDb:T(1),PR:E(2,BSs),dZd:Ta(3,aTs)})),z7c:cb(()=>({type:[1,dTs,2,eTs,3,fTs,4,gTs]}),()=>({})),s9e:{},UTe:{}}});var ANs=class extends fSs{async ckg(a){const b=tR()();try{const c=b.r(await b.s(this.ogb.GLc("design_publisher","publishDesign",wNs,{app:this.config,Pup:"design_publisher_panel",entryPoint:"editor_publish_menu",Hr:[1],Ncb:a.Ncb,messageHandlers:{},params:{jDb:a.jDb,PR:a.PR,dZd:a.dZd},Lma:a.Lma})));if(!c.ok)throw c.error;return c.value}finally{b.s()}}async xbh(a){const b=tR()();try{const c=b.r(await b.s(this.ogb.GLc("design_publisher","getOutputTypes",wNs,{app:this.config,Pup:"design_publisher_panel",
entryPoint:"editor_publish_menu",Hr:[1],Ncb:a.Ncb,messageHandlers:{},params:null,Lma:a.Lma})));if(!c.ok)throw c.error;return c.value}finally{b.s()}}constructor(a,b,c){super(a);this.config=b;this.ogb=c;this.flh=!0}};var hTs={eventType:"intent_platform_design_publisher_publish_design_attempted",La(a){return __c.yg({intent_provider:a.OUi,app_intent_provider_details:a.Fae==null?void 0:__c.gw(a.Fae),internal_intent_provider_details:a.rqe==null?void 0:__c.aoj(a.rqe),intent_action_details:a.B8b==null?void 0:__c.Znj(a.B8b),intent_consumer_details:a.mqe==null?void 0:__c.$nj(a.mqe),editing_context:a.ya==null?void 0:__c.zg(a.ya),performance_context:a.Gb==null?void 0:__c.Ag(a.Gb),response_status:a.responseStatus,selected_doctype_id:a.Brf,
selected_output_type:a.uTt,selected_output_mime_type:a.liw,publish_correlation_id:a.jga,error_information:a.Ro==null?void 0:__c.FE(a.Ro),reader_context_id:a.Jbw,writer_context_id:a.Azw,error_id:a.Aja,error_rate:a.kMr,workflow_size:a.LBu})}};var VNs=__c.wb.Dx?{xXt:"3fscsgh",Kxt:"qu7vud"}:{};var YNs=()=>{},bOs=class extends __c.g8g{async ckg({hO:a,Lma:b,jDb:c,PR:d,dZd:e,Ncb:f,jga:g}){const h=tR()();try{let k,l="success";const n=h.r(await h.s(__c.mMe(this,__c.kMe(a),"required")));return __c.oMe(this,n,async()=>{const p=tR()();try{try{const q=p.r(await p.s(n.ckg({jDb:c,PR:d,dZd:e,Ncb:f,Lma:b})));if(q.type!=="COMPLETED"){l="failed";a:{const r=q.type;switch(r){case "APP_ERROR":k={code:r,message:`${"publishDesign"} failed due to app error: ${q.message??"Unknown error"}`};break a;case "REMOTE_REQUEST_FAILED":k=
{code:r,message:"publishDesign failed due to remote request failure"};break a;case "INTERNAL_ERROR":k={code:r,message:"publishDesign failed"};break a;default:throw new v(r);}}}return q}catch(q){return p.r(),l="failed",k={code:"internal_error",message:"publishDesign failed"},this.ste(a,q,"publishDesign"),new gTs}}finally{p.s()}},p=>{p.track(hTs,{B8b:{e6a:"design_publisher",H3a:"publishDesign"},responseStatus:l,uTt:d.id,jga:g,Ro:k,kMr:k?1:0,LBu:1})},{entryPoint:"editor_publish_menu"})}finally{h.s()}}ste(a,
b,c){this.errorService.na(b,{Ea:`Error during DesignPublisherIntent::${c} execution`,tags:new Map([["appId",a.appId],["appVersion",String(a.appVersion)]])})}constructor(a,b,c,d){super(fSs,a,b);this.errorService=c;this.hs=d}};var XPs=class{N0h(a){return this.RU.oOc({kind:"extension",endpoint:this.appId,pages:{kind:"selected",Yh:dOs(a)},format:void 0,tcf:void 0,mkg:void 0,pDc:void 0})}c6d(a){this.RU.qad({id:a})}d6d(a,b){this.RU.Myf({id:a,errorMessage:b.name})}constructor(a,b){this.RU=a;this.appId=b}};var iTs={[sN.Q7t]:"sprout_social"},JPs=class{constructor(a){this.cvi=a in iTs?iTs[a]:"default"}};var OPs=class{static G(a){M(a,{PR:yR.ref,Nd:yR.ref,cya:yR.ref,cCg:yR.ref,zep:CR,h0b:CR,b0b:CR,Csf:CR})}zep(a){this.PR=a;this.cya=lOs(a)}h0b(a){this.Nd=a}Csf(a){this.cCg=a}constructor({emr:a,smr:b}){this.PR=(OPs.G(this),void 0);this.cya={hca:[]};this.b0b=c=>{this.cya=c(this.cya)};this.PR=a;this.Nd=b;this.cya=lOs(a)}};var EPs=class extends Error{constructor(a){super(a);this.name=this.name="PublishErrorAppSpecific"}},jPs=class extends Error{constructor(){super();this.name=this.name="PublishErrorGeneric"}},APs=class extends Error{constructor(){super();this.name=this.name="PublishErrorInvalidInput"}},CPs=class extends Error{constructor(){super();this.name=this.name="PublishErrorLimitReached"}},BPs=class extends Error{constructor(){super();this.name=this.name="PublishErrorPermissionDenied"}},yOs=class extends Error{constructor(a,
b){super();this.DTs=a;this.xKb=b;this.name=this.name="PublishErrorTooFewFiles"}},SPs=class extends Error{constructor(){super();this.name=this.name="ExportErrorFailedToStartExport"}},NOs=class extends Error{constructor(){super();this.name=this.name="ExportErrorFailedToGetExport"}},TPs=class extends Error{constructor(a){super(a);this.s3=a;this.name=this.name="ExportErrorExportRejected"}},UPs=class extends Error{constructor(){super();this.name=this.name="ExportErrorExportPausedUnexpectedly"}};var pOs=__c.ck(__c.ak());var HPs=class{constructor(a,b,c){this.errorService=a;this.VNk=b;this.eTs=c;this.cache=new Map;this.S6b=new Map}};var IPs=class{async Kee(){const a=tR()();try{const b=m(this.X.extension,"Document extension is required to create design token"),c=m(this.hO.appVersion,"App version is required to create design token"),{token:d}=a.r(await a.s(this.CZa.Kee(new __c.yDn({designId:this.X.ha,wid:b,appId:this.hO.appId,appVersion:c}))));return d}finally{a.s()}}constructor(a,b,c){this.CZa=a;this.X=b;this.hO=c}};var PPs=BR(function(){return AR("div",{className:"uq2cVQ",children:[wR(__c.TYg,{dRc:"small",children:wR("div",{className:"_7myObA",children:wR(Gj,{index:0,shape:"rectangle"})})}),wR("div",{className:"_9kCbdA",children:wR(Gj,{index:1,shape:"rectangle"})}),wR("div",{className:"jwa7qQ",children:wR(Gj,{index:2,shape:"rectangle"})}),wR("div",{className:"_9kCbdA",children:wR(Gj,{index:3,shape:"rectangle"})}),wR("div",{className:"jwa7qQ",children:wR(Gj,{index:4,shape:"rectangle"})}),wR("div",{className:"_9kCbdA",
children:wR(Gj,{index:5,shape:"rectangle"})}),wR("div",{className:"oYS4kw",children:wR(Gj,{index:6,shape:"rectangle"})})]})});var jTs=({Ktd:a,d$b:b,cya:c,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})=>{const k=b.id,l=AOs(b),[n,p]=rNs(a.Yh),[q,r]=rNs(!1),[t,u]=rNs(void 0),w=xR(()=>({message:N})=>wR(Yk,{tone:"critical",size:"small",title:N}),[]),x=xR(()=>()=>wR(Yk,{tone:"info",size:"small",children:K("KG5u2A")}),[]);sNs(()=>{p(a.Yh)},[a.Yh]);const y=xR(()=>d.pages.toArray(),[d.pages]),z=xR(()=>{const N=b.id,P=c.hca.find(Q=>Q.l1a===N)?.$O.at(0);return P&&P.id===a.id},[c,b,a]),A=a.type,C=A==="image",D=xR(()=>y.map((N,P)=>{const {disabled:Q,
error:U}=dPs(N,d,b,A);return{Rc:Number(P)+1,AV:N.title,disabled:Q,error:U}}),[y,b,d,A]),G=zR(N=>{const P=cPs(b,N,d.dimensions,y,e,A,h);g(Q=>{var U=a.id,Y=a.type;if(N.length===0)var X={width:void 0,height:void 0};else X=m(N.at(0),"At least one page must be selected"),X=m(d.pages.toArray().at(X-1),"Page must exist in document"),X=mh(4,__c.nk(X,d.dimensions));return tOs(Q,k,{id:U,type:Y,Yh:N,...X,isValid:P.valid})});u(P.errorMessage)},[b,d,y,e,A,g,k,a,h]),J=zR(N=>{N=Array.from(N);C&&G(Array.from(N));
p(N)},[C,G,p]),L=zR(N=>{p(N);G(N)},[G]);sNs(()=>{if(!q||l)if(A==="document"){var N=gPs(y,d,b,e,A,h);N.length>0&&L(N);r(!0)}else z&&((N=fPs(y,d,b,e,A,h))&&L([N]),r(!0))},[q,z,L,y,d,b,e,A,h,l]);return wR(dd,{spacing:"1u",children:wR(f,{pages:D,Sh:new Set(n),onChange:J,Ph:C?1:void 0,aDl:()=>G(Array.from(n)),E3d:!0,errorMessage:t,PTj:w,NDg:a.type==="video"&&n.length>1?x:void 0,$Yt:!0,uyn:!l})})};var kTs={video:__c.HLj,image:__c.vt,document:__c.oPi},lTs=class extends __c.e4g{static G(a){M(a,{Dq:yR.ref,items:uR,oD:uR})}get items(){return m(this.CHh.cya.hca.find(a=>a.l1a===this.l1a)).$O}get oD(){return this.Dq?[this.Dq]:[]}constructor(a,b){super("vertical");this.l1a=a;this.CHh=b;this.Dq=(lTs.G(this),void 0)}},mTs=class extends __c.d4g{static G(a){M(a,{VV:CR.bound,onDrop:CR.bound,onDragEnd:CR.bound})}constructor(a,b){super(a);this.store=a;this.b0b=b;this.VV=(mTs.G(this),c=>{this.store.Dq=c});
this.onDrop=({item:c,trailing:d})=>{const e=m(this.store.Dq,"Selected item must exist if being dropped");this.b0b(f=>xOs(f,this.store.l1a,e,c,d))};this.onDragEnd=()=>{this.store.Dq=void 0}}},nTs=vR(({nYq:a,d$b:b,$Ke:c,b0b:d})=>{const e=zR(({children:h})=>wR(dd,{spacing:"1u",children:h}),[]),f=zR(h=>{d(k=>{var l=b.id,n={id:__c.Wb(),type:h,Yh:[],width:void 0,height:void 0,isValid:!1};n=[...rOs(k,l).$O,n];return sOs(k,l,n)})},[b.id,d]),g=gOs(b.gVb);a=!g||a.items.length<g;return AR(dd,{spacing:"1u",children:[wR(c,
{knb:e,containerRef:void 0,eB:50,aKf:"x",C8a:{u6a:"1u",zed:!0}}),a&&kOs(b).map(h=>wR(td,{variant:"secondary",stretch:!0,onClick:()=>{f(h)},icon:kTs[h],children:hPs(h)},`btn-add-${h}`))]})}),pTs=vR(({item:a,CHh:b,d$b:c,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})=>{const k=c.id,l=q=>{q.stopPropagation();q.preventDefault()},n=jOs(c.gVb),p=xR(()=>n?({children:q})=>wR("div",{onMouseDown:l,children:q}):BRs,[n]);return wR(p,{children:AR(__c.Yc,{Ga:"start",spacing:"1u",children:[!n&&wR(oTs,{children:wR(__c.l4g,{size:"small"})}),
wR(Xc,{children:wR("div",{onMouseDown:l,role:"listbox",tabIndex:0,children:wR(jTs,{Ktd:a,d$b:c,cya:b.cya,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})})}),wR(oTs,{children:wR(td,{variant:"tertiary",icon:__c.by,size:"tiny",onClick:()=>{g(q=>vOs(q,k,a.id))},onMouseDown:l})})]})})}),oTs=({children:a})=>wR(Xc,{width:"content",children:wR(O,{display:"flex",alignItems:"center",justifyContent:"center",className:"Jh8AdQ",children:a})});var qTs=({CHh:a,d$b:b,cya:c,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})=>{const k=xR(()=>new lTs(b.id,a),[b.id,a]),l=xR(()=>new mTs(k,g),[k,g]);var n=xR(()=>__c.XIe({B2c:"basic",qQe:l,rQe:k,qa:({item:p})=>wR(pTs,{item:p,CHh:a,d$b:b,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})}),[b,l,k,a,f,g,e,d,h]);return kOs(b).length===1&&jOs(b.gVb)?(n=rOs(c,b.id),n=m(n.$O.at(0),"Single page selection must exist"),wR(jTs,{Ktd:n,d$b:b,cya:c,Da:d,B7b:e,Ap:f,b0b:g,Dka:h})):wR(nTs,{nYq:k,d$b:b,$Ke:n,b0b:g})};var rTs=__c.wb.Dx?{WRs:"4ija05"}:{};var sTs=({store:a,Osh:b,Da:c,B7b:d,Ap:e,b0b:f,Dka:g})=>wR(dd,{spacing:"2u",children:b.map(h=>AR(dd,{spacing:"1u",Go:rTs.WRs,children:[wR(__c.Ps,{children:h.displayName}),wR(qTs,{CHh:a,d$b:h,cya:a.cya,Da:c,B7b:d,Ap:e,b0b:f,Dka:g})]},h.id))});var tTs=({Gkf:a,Unt:b,onChange:c,PWe:d})=>{const e=a.map(f=>({label:f.displayName,value:f.id}));d.cvi;d=K("lb3E+g");return wR(__c.vy,{label:d,control:f=>wR(__c.ax,{...f,options:e,value:b,onChange:g=>{const h=m(a.find(k=>k.id===g),`Output type not found: ${g}`);c(h)},stretch:!0})})};var wTs=({children:a,V1c:b,atf:c,pmi:d})=>wR(b?uTs:vTs,{V1c:b,atf:c,pmi:d,children:a}),uTs=({V1c:a,children:b,atf:c,pmi:d})=>AR(O,{width:"full",height:"full",position:"relative",className:"m0fMeA",children:[b,d&&wR(xTs,{atf:c,V1c:a})]}),yTs=328/208,vTs=({V1c:a,children:b,atf:c,pmi:d})=>wR(O,{width:"full",height:"full",position:"relative",children:wR(__c.Ct,{ratio:yTs,children:wR(__c.lo,{background:"neutralLow",content:AR(yRs,{children:[b,d&&wR(xTs,{atf:c,V1c:a})]})})})}),xTs=BR(function({atf:a,V1c:b}){const c=
b?__c.Ms:__c.Ls;return wR(O,{position:"absolute",padding:"1u",...(b?{top:"0",end:"0"}:{bottom:"0",end:"0"}),children:wR(td,{ariaLabel:I("5yAxUg",[b]),variant:"contrast",size:b?"medium":"small",icon:c,onClick:()=>a(!b)})})});var zTs=__c.wb.Dx?{container:"2nops9n"}:{};var CTs=({PWe:a,sHd:b,M1t:c,ee:d,onClick:e,CK:f,error:g,qws:h,i3t:k,nYd:l,J4c:n,UFg:p})=>{var q=zTs.container;f=k&&!!f&&wR(f,{tFc:!0,gz:"publish_actions_premium_content_upsell",Wab:ATs});g=g&&wR(Yk,{tone:"critical",size:"small",ea:__c.Es,mg:!0,children:wR(__c.Xj,{message:oOs(g)})});c=c&&!!d&&wR(Yk,{tone:"info",size:"small",mg:!0,children:wR(__c.Yj,{Re:d,message:K("ickDQQ")})});a:switch(a.cvi){case "sprout_social":a=K("l5gKbg");break a;default:a=K("II71UA")}return wR(O,{padding:"2u",flexDirection:"column",
borderTop:"low",Go:q,children:AR(dd,{spacing:"1.5u",children:[f,g,c,AR(__c.Yc,{spacing:"1.5u",children:[wR(Xc,{children:wR(td,{variant:"primary",stretch:!0,disabled:!b,onClick:e,loading:h,children:a})}),(l||n)&&wR(Xc,{width:"content",children:wR(BTs,{nYd:l,J4c:n,UFg:p})})]})]})})},DTs=a=>wR(td,{...a,variant:"secondary",icon:__c.Jt}),BTs=BR(function({nYd:a,J4c:b,UFg:c}){const [d,e]=rNs(!1),f=zR(()=>e(!0),[]),g=zR(()=>e(!1),[]);return AR(__c.Vt,{trigger:DTs,open:d,Iz:f,oa:g,ariaLabel:K("xTxYpg"),children:[a&&
wR(__c.uo,{label:K("BfnG7w"),start:wR(__c.Gk,{}),onClick:a,end:c&&wR(c,{})}),b&&wR(__c.uo,{label:K("M0WQDw"),start:wR(__c.pD,{}),onClick:b})]})}),ATs=a=>{const b=a.Ca;if(a.type==="business")return I("OYt/vg",[b]);const c=a.Bha;return a.yWn?I("nMU6Gw",[b,c]):I("RyAYkA",[b,c])};var ETs=({J4c:a,nYd:b})=>a||b?wR(O,{padding:"2u",children:AR(dd,{spacing:"1.5u",children:[a&&wR(td,{variant:"secondary",icon:__c.pD,onClick:a,stretch:!0,children:K("M0WQDw")}),b&&wR(td,{variant:"secondary",icon:__c.Gk,onClick:b,stretch:!0,children:K("BfnG7w")})]})}):null;var FTs=__c.wb.Dx?{container:"2oe0ptl"}:{};var HTs=({open:a})=>{const b=xR(()=>__c.hDn(),[]),c=GTs(a);return wR(__c.uq,{open:a,q5:!0,children:wR(O,{padding:{default:"3u",ie:"4u"},className:"k9cbSQ",children:AR(dd,{spacing:"4u",align:"center",children:[wR(__c.mq,{alignment:"center",children:K("RArNLw")}),wR(__c.jA,{value:c}),wR(R,{alignment:"center",tagName:"div",children:wR(__c.gDn,{VZb:b})})]})})})},GTs=a=>{const [b,c]=rNs(0),d=SNs(void 0),e=()=>{d.current!=null&&(clearTimeout(d.current),d.current=void 0)},f=g=>{let h=1;const k=()=>{h++;
d.current=setTimeout(NMs.wrap(()=>{c(l=>{const n=(g-l)*.15;return n<.2?l:l+n});k()}),Math.min(1E3+h*100,2500))};k()};sNs(()=>{e();a&&(c(1),f(97));return()=>e()},[a]);return b};var ITs=({open:a,designTitle:b,oOk:c,ckf:d,q0g:e,onClose:f,PWe:g})=>{const h=d!==void 0&&c!==void 0,k=e!==void 0,l=zR(()=>{h&&d(c)},[d,c,h]),n=zR(()=>{k&&e(b??K("yKs6+A"))},[e,b,k]);a:{switch(g.cvi){case "sprout_social":var p=K("BKMPUw");break a}p=void 0}if(h)a:switch(g.cvi){case "sprout_social":g=K("IaTwqQ");break a;default:g=K("AIkndw")}else g=K("HNkcUw");return wR(__c.uq,{open:a,oa:f,q5:!0,children:wR(GL,{title:p,G7a:g,J1a:h?l:f,Mog:k?K("RqQHHQ"):void 0,VMb:k?n:void 0})})};var LPs=vR(({store:a,N:b,Gkf:c,Z5g:d,Da:e,Tf:f,B7b:g,DRf:h,bNe:k,LMe:l,gEf:n,Ap:p,CK:q,Qud:r,Csf:t,ckf:u,q0g:w,Sic:x,Bqg:y,Aqg:z,Dka:A,nYd:C,J4c:D,ee:G,zXt:J,SB:L,hkl:N,UFg:P,PWe:Q})=>{ma(a.PR!==void 0,"Invalid output type");const U=a.PR.hca,[Y,X]=rNs(!1),Z=zR(za=>{X(!0);(async Fa=>{const Ba=tR()();try{Ba.r(await Ba.s(f.Jpa(Fa))),X(!1)}finally{Ba.s()}})(za)},[X,f]);sNs(()=>Z(BOs(a.cya)),[Z,a.cya]);const {yud:da,Dmg:ba}=aPs({Z5g:d,cya:a.cya,Osh:U,B7b:g,h1r:()=>a.cya.hca}),{Hpt:ia}=WOs(h);h=xR(()=>
ia?ia.some(za=>a.cya.hca.some(Fa=>Fa.$O.some(Ba=>Ba.Yh.includes(za)))):!1,[ia,a.cya]);var ea=nN.hHr,la=__c.Dd({default:!0,ie:!1});ea=ea&&!la;const [na,pa]=rNs(!la);n=na?n:BRs;la=zR(za=>{a.zep(za)},[a]);const oa=zR(za=>{a.h0b(za)},[a]),{qCt:qa,Ltr:ua}=kPs({store:a,N:b,Z5g:d,Qud:r,Da:e}),ya=f.VK;b=!ya||A;const xa=COs(U,a.cya)&&!h&&b&&J==="valid"&&qa?.state!=="publishing";b=xR(()=>{var za;if(za=xa&&!A&&!ya)a:{var Fa=a.cya;za=e.pages.toArray();for(const Ba of Fa.hca)for(const Ga of Ba.$O)if(Ga.type!==
"image"&&Ga.Yh.length!==0&&(Fa=m(za.at(Ga.Yh[0]-1),"Page must exist in document"),bPs(Fa,e.dimensions,__c.pgo))){za=!0;break a}za=!1}return za},[xa,A,ya,a.cya,e]);sNs(()=>y?.(),[y]);sNs(()=>{if(!na)return z?.(()=>wR(Yk,{tone:"warn",mg:!0,AA:!1,children:wR(__c.Yj,{message:K("K6C6zQ"),Re:x})}))},[z,x,na]);return AR(JTs,{children:[AR(__c.Kn,{children:[AR(KTs,{children:[l&&wR(n,{children:wR(wTs,{V1c:na,pmi:ea,atf:pa,children:wR(l,{PR:a.PR,Nd:a.Nd,yud:da,Dmg:ba,Csf:t})})}),c.length>1&&wR(tTs,{Gkf:c,Unt:a.PR.id,
onChange:la,PWe:Q}),wR(sTs,{store:a,Osh:U,Da:e,B7b:g,Ap:p,b0b:a.b0b,Dka:A}),h&&wR(Yk,{tone:"warn",mg:!0,AA:!0,children:K("nRTbNw")})]}),wR(k,{PR:a.PR,Nd:a.Nd,qQb:oa,Csf:t}),wR(iPs,{SB:L,Tf:f,hkl:N,ckf:u}),J==="authentication_required"&&wR(ETs,{J4c:D,nYd:C})]}),J!=="authentication_required"&&wR(CTs,{sHd:xa,PWe:Q,M1t:b,ee:G,onClick:ua,CK:q,error:qa?.state==="error"?qa.error:void 0,qws:Y,i3t:ya&&!A,nYd:C,J4c:D,UFg:P}),wR(HTs,{open:qa?.state==="publishing"}),wR(ITs,{open:qa?.state==="success",designTitle:e.title,
oOk:qa?.state==="success"?qa.oOk:void 0,ckf:u,q0g:w,onClose:x,PWe:Q})]})}),JTs=({children:a})=>wR(O,{height:"full",display:"flex",flexDirection:"column",children:a,Go:FTs.container}),KTs=({children:a})=>wR(O,{display:"flex",flexDirection:"column",xb:"2u",paddingTop:"2u",children:wR(dd,{spacing:"2u",children:a})});var NPs=class{async mVg(a){const b=tR()();try{const c=b.r(await b.s(pPs(this,a)));try{const {results:[d]}=b.r(await b.s(this.jm.mVg({pa:this.pa,Xvt:[c],userId:this.userId})));qPs(this,d);return DPs(d)}catch(d){return b.r(),this.errorService.na(d,{Ea:"createPost failed to run"}),Na(new jPs)}}finally{b.s()}}async sVg(){const a=tR()();try{const b=new __c.WYd({id:this.X.id,body:new __c.Chd({version:void 0,extension:this.X.extension})}),{revision:c}=a.r(await a.s(this.Db.Mee(b)));return c}finally{a.s()}}constructor({config:a,
errorService:b,jm:c,Db:d,pa:e,X:f,hO:g,userId:h,lK:k,gq:l}){this.Qud=async n=>{const p=tR()();try{if(!nN.BHr){const u=p.r(await p.s(this.config.ckg(n)));return FPs(u)}const q=p.r(await p.s(this.mVg(n)));if(!q.ok)return q;const r=q.value;let t;try{t=p.r(await p.s(this.config.ckg(n)))}catch(u){return p.r(),this.errorService.na(u,{Ea:"app.publishDesign rejected"}),p.r(await p.s(sPs(this,r,u))),Na(new jPs)}p.r(await p.s(uPs(this,t,r)));return FPs(t)}finally{p.s()}};this.config=a;this.errorService=b;this.jm=
c;this.Db=d;this.pa=e;this.X=f;this.hO=g;this.userId=h;this.bNe=a.bNe;this.LMe=a.LMe;this.xbh=a.xbh;this.nYd=zPs(g,k,l);this.J4c=xPs(g,k,l)}},wPs=new Map([[sN.GAb,["INSTAGRAM_WEB","INSTAGRAM_POST"]],[sN.gph,["LINKEDIN_NATIVE_DEEPLINK"]]]),yPs=new Set([sN.GAb,sN.gph]);var KPs=({onClick:a,Uz:b})=>wR(O,{padding:"2u",children:AR(dd,{spacing:"2u",children:[wR(R,{size:"medium",children:wR(__c.Xj,{message:K("zIl4qQ")})}),wR(td,{variant:"secondary",onClick:a,icon:b?void 0:__c.pD,children:b?K("BEKhLA"):K("ACrUqQ")})]})});var WPs=class{constructor(a,b,c,d,e){this.errorService=a;this.QJh=b;this.X=c;this.Tf=d;this.Dka=e}};var ZPs=H(()=>({user:T("user",1),brand:T("brand",2),platform:Xa("platform",3,yi),vH:T("oauthUserId",13),zl:Xa("targetType",4,Qpc),app:T("app",10),xB:T("extensionPoint",11),b6g:T("extensionLabel",12),rl:T("externalId",5),Ire:Vo("isSharedWithTeam",14),actions:__c.Ya("actions",16,gRs),h3e:__c.Uo("filteredForContentPlanner",15),vtb:Vo("restricted",6),continuation:T("continuation",8),limit:Lo("limit",9,20)}));var LTs=H(()=>({user:T("user",1),platform:Wa("platform",2,yi),vH:T("oauthUserId",5),zl:Wa("targetType",3,Qpc),rl:S("externalId",4),fF:T("targetQueue",6)}));__c.KQs=class{getTarget(a){const b=new LTs({...a,user:this.userId});return this.jm.getTarget(b).then(NMs.wrap(c=>aQs(a.platform,a.zl,c.target)))}constructor(a,b,c,d){this.userId=a;this.pa=b;this.X=c;this.jm=d}};var MTs,NTs,OTs,uQs;
new (MTs=class extends KRs{constructor(){super(uQs);NTs()}},(()=>{class a extends(OTs=ARs){static G(b){M(b,{wIn:uR,fields:uR,Pno:uR,GNo:uR,HNo:uR,mtl:uR})}render(){return wR(__c.cF,{content:this.wIn,footer:this.GNo,onSubmit:this.props.onSubmit})}get wIn(){const b=this.props.Ze,c=this.props.UTj,d=this.props.oYj,e=this.props.le,f=this.props.gz;return AR("div",{className:"_00jVRQ",children:[d&&wR(d,{}),wR(b,{}),wR(c,{}),this.fields,this.Pno,wR(e.CK,{gz:f})]})}get fields(){return this.props.p9h!=null?
wR("div",{className:JRs("nUr1GQ","cOuVkQ"),children:wR(this.props.p9h,{})}):null}get Pno(){const b=this.mtl;return b==null?null:wR("div",{className:JRs("nUr1GQ","_3M47rw"),children:wR(Yk,{tone:"warn",size:"small",children:b})})}get GNo(){return wR(this.props.le.A0,{...this.HNo})}get HNo(){const b=this.props.jua,c=this.props.zPa,d=this.props.G1,e=this.props.Mj,f=this.props.Az;return{error:this.mtl,RDa:void 0,Xla:this.props.Xla??K("wpXGkA"),jua:b??K("Zl0nbg"),zPa:c??K("yLA/uQ"),disabled:d!=="ok",kI:this.kI,
Az:f,Mj:e,dSa:"publish-app"}}get mtl(){switch(this.props.G1){case "empty_document":return K("xvxHSg");case "selected_pages_are_empty":return K("B7Akaw");case "empty_page_selection":return K("9uVN4A");case "form_invalid":return K("Et2/9w");case "ok":break;default:throw new v(this.props.G1);}}constructor(...b){super(...b);this.kI=(uQs.G(this),()=>{this.props.onSubmit({C_a:!0})})}}({c:[uQs,NTs]}=LRs(a,[],[Nb],OTs))})(),MTs);var PTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.024 3h3.814a3 3 0 0 1 2.684 1.658l.417.835a.5.5 0 0 0 .447.276H18a3 3 0 0 1 3 3v4.113a3.234 3.234 0 0 0-1.5-.396V11.02H4.517l-.01 5.976a2.5 2.5 0 0 0 2.5 2.504h8.398A4.475 4.475 0 0 0 15 20.78a1.508 1.508 0 0 0-.018.22H7.007a4 4 0 0 1-4-4.007l.017-10a4 4 0 0 1 4-3.993Zm3.814 1.5H7.024a2.5 2.5 0 0 0-2.5 2.496L4.52 9.52H19.5v-.75a1.5 1.5 0 0 0-1.5-1.5h-3.614a2 2 0 0 1-1.789-1.106l-.417-.835a1.5 1.5 0 0 0-1.342-.829Z" fill="currentColor"/><path d="M21.194 15.736a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM16.481 21.014a3 3 0 0 1 5.926 0 4.977 4.977 0 0 1-2.963.972 4.977 4.977 0 0 1-2.963-.972Z" fill="currentColor"/></svg>';var QTs=__c.jq({medium:PTs});var RTs=({url:a,yYc:b,iIs:c,title:d})=>{const [e,f]=rNs("loading"),g=zR(()=>f("success"),[f]),h=zR(()=>f("failed"),[f]);return wR("div",{className:"oQq_7w",children:AR("div",{className:"n1kMBQ",children:[e!=="failed"&&wR("img",{src:a,alt:d,className:JRs("SNhy_g",{ofPPLg:e!=="success"}),onLoad:g,onError:h}),e==="loading"&&c,e==="failed"&&b]})})};var gQs=BR(function({icon:a,title:b,target:c,disabled:d,action:e,onClick:f}){const g=zR(()=>{f&&!d&&f(c)},[d,f,c]);return f||d?AR(__c.Sx,{disabled:d,onClick:g,children:[wR(KA,{children:a}),b,e&&wR(KA,{children:e})]}):AR(__c.Blh,{children:[wR(KA,{children:a}),wR(R,{margins:"legacy",children:b}),e&&wR(KA,{children:e})]})}),STs=({index:a=0})=>{var b=wR(Gj,{index:a,shape:"square"});a:switch(a%6){case 0:case 4:var c="33%";break a;case 2:c="46%";break a;default:c="21%"}return wR(gQs,{disabled:!0,icon:b,
target:{rl:"",type:"FILE",name:""},title:wR("div",{style:{marginRight:c},children:wR(As,{index:a})})})},TTs=BR(a=>{const b=a.title;a=wR(fQs,{thumbnailUrl:a.Eg,aQc:a.shared?QTs:__c.rB});return AR("div",{className:"fswCwg",children:[wR("span",{className:"qTkJ3w",children:a}),wR("span",{className:"vWZV6g",children:wR(R,{lineClamp:1,margins:"legacy",children:b})})]})}),UTs=hQs(__c.Nx),VTs=hQs(__c.rB),WTs=hQs(QTs),fQs=BR(({thumbnailUrl:a,aQc:b})=>a!=null?wR(RTs,{url:a,yYc:wR(b,{size:"medium"}),iIs:wR(Gj,
{shape:"square"})}):wR(b,{size:"medium"}));var iQs=BR(({target:a,description:b})=>a!=null?wR(TTs,{title:a.name,shared:!!a.shared,Eg:a?.thumbnail}):b!=null?wR(R,{children:b}):null);var tQs=class{static G(a){M(a,{CIn:uR,VUm:uR,zAa:uR,formData:uR,w_:uR,L0a:uR,k9g:uR})}get CIn(){return{Xf:this.Xkd.Sh,fileType:this.Xkd.WN,i2:{pages:[...this.Xkd.Sh],WN:this.Xkd.WN,width:this.zAa.width,height:this.zAa.height,KXa:this.Xkd.Tac},formData:this.formData}}get VUm(){return{Ye:this.X.pages,Xf:[...this.Xkd.Sh],formData:{fileType:__c.kQs(this.Xkd.WN),...this.formData},endpoint:this.Ra}}get zAa(){return __c.uDn(this.X,1)}get formData(){return{message:void 0,fileName:void 0,...this.w_?.formData}}get w_(){return this.hhi.EIm?.fields}get L0a(){return this.w_?.G1.isValid!==
!1}get k9g(){const a=this.Xkd.G1;return a!=="ok"?a:this.L0a?"ok":"form_invalid"}constructor(a){this.hhi=(tQs.G(this),void 0);this.hhi=a.hhi;this.Xkd=a.Xkd;this.X=a.X;this.Ra=a.Ra}};var qQs=vR(({Sdc:a,HDe:b,fileType:c,TGj:d,Tac:e,wS:f})=>AR(yRs,{children:[wR(__c.xro,{f7:a,F1a:b,value:c}),f&&c===1&&wR("div",{className:"W6D79A",children:wR(__c.xq,{checked:e,label:K("Lac1+g"),RTd:"_1IIL_w",onChange:d,className:"xI91UA",disabled:!1})})]}));var XTs,YTs,ZTs,rQs;
new (XTs=class extends KRs{constructor(){super(rQs);YTs()}},(()=>{class a extends(ZTs=ARs){static G(b){M(b,{Imo:uR,gmo:uR})}render(){return AR(yRs,{children:[this.gmo,this.Imo]})}get Imo(){const b=this.props.Ap,c=this.props.Sh,d=this.props.yl,e=this.props.aqt,f=this.props.Otb;if(b==null)return null;const g=this.props.$B===1?I("6BdZlw",[e]):I("DblrKQ",[e]);return AR("div",{className:JRs("W6D79A","_5TjJng"),children:[wR(__c.Xz,{className:"QE_wpw",children:I("fQafWA",[e])}),wR(b,{pages:d,Ph:e,ZYb:g,
n5c:I("iIw6qQ",[e]),Sh:c,onChange:f})]})}get gmo(){return this.props.t9h!=null?AR("div",{className:JRs("W6D79A","c1xI3g"),children:[wR(__c.Xz,{className:"QE_wpw",children:K("f1F/Ug")}),wR(this.props.t9h,{})]}):null}constructor(...b){super(...b);a.G(this)}}({c:[rQs,YTs]}=LRs(a,[],[Nb],ZTs))})(),XTs);var nQs=class{static G(a){M(a,{Sh:yR.ref,VN:yR.ref,fileType:yR.ref,Sdc:yR.ref,Tac:yR.ref})}constructor({fileType:a,Sdc:b,VN:c,Sh:d,Tac:e}){this.Sh=(nQs.G(this),void 0);this.fileType=a;this.Sdc=b;this.VN=c;this.Sh=d;this.Tac=e}},pQs=class{static G(a){M(a,{WN:uR,Ye:uR,pzi:uR,XWm:uR,Da:uR,yl:uR,Tac:uR,Otb:CR.bound,HDe:CR.bound,TGj:CR.bound,G1:uR,Fkp:uR,Ekp:uR,VN:uR,Sh:uR})}static create(a){var b=a.Sdc.map($Ts);b=oQs({...a,Sdc:b});a=new pQs({store:b,X:a.X,qk:a.qk??100});return{store:b,L:a}}get WN(){return __c.lQs(this.store.fileType)}get Ye(){return this.X.pages}get pzi(){return this.X.isEmpty}get XWm(){const a=
this.Da,b=this.Sh;return a.Ja!=="fixed"?!1:a.pages.toArray().filter((c,d)=>b.has(d+1)).every(c=>this.ure(c))}get Da(){return this.X.Da}get yl(){return this.X.yl}get Tac(){return this.store.Tac}Otb(a){this.store.Sh=a}HDe(a){this.store.fileType=a}TGj(){this.store.Tac=!this.store.Tac}get G1(){return this.pzi?"empty_document":this.Sh.size===0?"empty_page_selection":this.XWm?"selected_pages_are_empty":"ok"}get Fkp(){return this.Ye>1}get Ekp(){return this.store.Sdc.length>1}get VN(){return[7,3].includes(this.store.fileType)?
this.qk:this.store.VN}get Sh(){return this.store.Sh}constructor({store:a,X:b,qk:c}){this.store=(pQs.G(this),void 0);this.ure=GRs(d=>__c.dZa(d));this.store=a;this.X=b;this.qk=c}},$Ts=GRs(a=>{switch(a){case 6:return 6;case 3:return 2;case 5:return 5;case 2:return 3;case 1:return 1;case 4:return 7;default:throw new v(a);}}),mQs=(a,b,c)=>new Set(b===1?[c+1]:a.yl.slice(0,b).map(d=>d.Rc));var aUs=a=>a.preventDefault();BR(({loading:a,target:b})=>a?wR(__c.bUs,{index:1}):wR(__c.cUs,{...m(b)}));
__c.cUs=class extends CRs{render(){var a=this.props.yzw;if(this.props.error)a=this.k2a();else{var b=this.props.thumbnail;var c=this.props.loading,d=this.props.platform,e=this.props.zl;const f=this.props.mg;let g,h;!c&&f&&d&&({icon:g,title:h}=__c.eKn(d,e));b=wR(__c.mKn,{icon:g,a5a:b,wqm:"square",loading:c,label:h});c=this.y0d();d=this.props.loading;e=this.props.metadata;d=e!=null?d?wR("div",{className:JRs({Br89Fw:d}),children:e}):e:void 0;a=wR(__c.wt,{media:b,title:c,body:d,size:0,Vbd:a||1})}return a}k2a(){return wR(Yk,
{className:"UIY8ww",tone:"critical",size:"small",children:AR("div",{className:"nfTuGQ",children:[K("A6Sgcg"),wR(__c.Dj,{href:"#",onClick:aUs,children:K("XWwPsA")}),K("5V9O4A")]})})}y0d(){const a=this.props.loading,b=this.props.name;return a?wR("div",{className:JRs({Br89Fw:a}),children:b}):b}};
__c.bUs=BR(a=>{const b=wR("span",{className:"oK7I9Q seUASg",children:wR(Gj,{index:a.index,shape:"square"})}),c=wR("div",{className:"eyDpkg",children:wR(As,{index:a.index+1})});a=wR("div",{className:"mfHO1A",children:wR(As,{index:a.index+2})});return wR(__c.wt,{media:b,title:c,body:a,size:0})});
__c.dUs=BR(a=>{const b=wR("span",{className:"oK7I9Q seUASg",children:wR(Gj,{index:a.index,shape:"square"})});let c;switch(a.index%3){case 0:c="OVRFxw";break;case 1:c="IR_MJQ";break;default:c="X_n71A"}a=wR("div",{className:c,children:wR(As,{index:a.index+1})});return wR(__c.wt,{media:b,title:a,size:0})});var eUs,fUs,gUs;
new (eUs=class extends KRs{constructor(){super(__c.hUs);fUs()}},(()=>{class a extends(gUs=ARs){static G(b){M(b,{$6b:yR.ref,targets:uR,kK:uR,tsb:CR,usb:CR,DGo:CR,Zyo:CR,pif:CR,Zi:CR,gAh:CR})}get targets(){return this.props.targets.map((b,c)=>({content:wR(iUs,{...b}),value:b,className:"K5xMKQ",disabled:b.aBa,key:c.toString()}))}get kK(){if(this.$6b!==void 0)return this.targets[this.$6b]?.value}render(){const b=__c.Xlh,c=this.props.isLoading,d=this.props.errorMessage,e=this.props.P7d,f=this.props.AAb,
g=this.props.query,h=this.targets;return AR(__c.Bb,{map:this.LEa,Cr:!0,children:[(!d&&!e||c)&&wR(__c.Cw,{type:"search",autoFocus:"on-desktop",className:"BGO_2A",placeholder:K("YZZMTA"),onChange:this.gAh,Zi:this.Zi,value:g??""}),AR("div",{className:JRs("kBB8cg",{SOvvgw:h.length===0&&!c&&!!g}),onMouseMove:this.Yet,children:[e&&!d&&!c&&wR("div",{className:"d7CANw",children:wR(Yk,{tone:"warn",size:"small",children:e})}),d&&!c&&wR("div",{className:"d7CANw",children:wR(Yk,{tone:"critical",size:"small",
children:d})}),h.length>0||c?wR(b,{kK:this.kK,yG:[{options:this.targets,key:"targets"}],ref:this.Qik,ZO:this.props.onSelect,tsb:this.tsb,usb:this.usb,ariaLabel:K("JS8C3Q")}):g!=null&&wR("div",{className:"VRueAg aWBg0w",children:I("m58zTg",[g])}),f&&!c&&wR("div",{className:"d7CANw",children:wR(R,{size:"small",margins:"legacy",children:f})}),c&&wR("div",{className:"j6DOfA",children:[1,2,3].map(k=>wR("div",{className:"eNAN1g",children:wR(__c.bUs,{index:k})},k))})]})]})}constructor(...b){super(...b);
this.$6b=(__c.hUs.G(this),void 0);this.NBb=!1;this.krf=null;this.Qik=c=>{this.krf=c};this.LEa=[["ArrowUp",c=>this.DGo(c)],["ArrowDown",c=>this.Zyo(c)],["Enter",c=>this.pif(c)],[__c.qo("Enter"),c=>this.pif(c)]];this.Yet=()=>{this.NBb=!0};this.tsb=c=>{this.NBb&&(this.$6b=this.targets.findIndex(d=>d.value===c))};this.usb=()=>{this.NBb&&(this.$6b=void 0)};this.DGo=c=>{c.preventDefault();this.$6b!==void 0&&this.$6b!==0&&(this.$6b--,this.NBb=!1,this.cul())};this.Zyo=c=>{c.preventDefault();c=this.targets.length;
c!==0&&this.$6b!==c-1&&(this.$6b===void 0?this.$6b=0:this.$6b++,this.NBb=!1,this.cul())};this.pif=c=>{c.preventDefault();if(this.kK&&(c=this.props.targets.find(d=>d===this.kK)))this.props.onSelect(c)};this.Zi=()=>{this.gAh("")};this.cul=()=>{requestAnimationFrame(NMs.wrap(()=>{this.krf&&this.krf.Fqe()&&this.krf.rVd();this.krf&&this.krf.Gqe()&&this.krf.gue()}))};this.gAh=c=>{const d=this.kK;this.props.aga(c);d&&(c=this.targets.findIndex(e=>e.value===d),c===-1?this.$6b=void 0:(this.$6b=c,this.cul()))}}}
({c:[__c.hUs,fUs]}=LRs(a,[],[Nb],gUs))})(),eUs);var iUs=BR(a=>{let b=wR(__c.cUs,{...a,metadata:a.aBa&&a.sdl?a.sdl:a.metadata});a.aBa&&(b=wR("div",{className:"W5Un9Q",children:b}),a.udl&&(b=wR(__c.sd,{label:a.udl,placement:"top",children:b})));return b});var jUs,kUs,lUs=class extends ARs{componentDidMount(){this.props.onLoad&&this.props.onLoad()}render(){const a=this.props.targets,b=this.props.query,c=this.props.onSelect,d=this.props.isLoading,e=this.props.errorMessage,f=this.props.aga,g=a.length!==0||b||d?void 0:K("dUinPg");return wR(__c.hUs,{targets:e?[]:a,onSelect:c,isLoading:d,errorMessage:e,query:b,P7d:g,aga:f})}};({c:[kUs,jUs]}=LRs(lUs,[],[Nb],ARs));jUs();var nUs=class{static G(a){M(a,{LMg:uR,query:yR.ref,isLoading:uR,errorMessage:yR.ref,continuation:yR.ref})}get LMg(){return this.Pzc.get(this.query||"")?.targets||[]}get isLoading(){return this.Pzc.get(mUs(this.query)||"")?.state!=="complete"}constructor(){this.Pzc=(nUs.G(this),yR.map())}},oUs=class{static G(a){M(a,{G$g:CR,search:CR,Ci:CR,Yv:CR})}G$g(a,b){const c=b||"",d=a.Pzc.get(c);if(d)return d;a.Pzc.set(c,yR.object({state:"partial",generator:wQs(e=>eQs(this.ela,this.kig,void 0,e,b)),targets:yR.array([])}));
return m(a.Pzc.get(c))}async d1a(a){const b=tR()();try{let c;try{const d=mUs(a.query),e=this.G$g(a,d);if(e.state==="partial"){do{const f=b.r(await b.s(e.generator.next()));if(f.done)break;ONs(()=>{e.targets.push(...f.value)});if(mUs(a.query)!==d)return}while(1);ONs(()=>{e.state="complete"})}}catch(d){b.r(),c=d instanceof __c.PHa?d.message:K("eVv2Ug")}this.Ci(a,c)}finally{b.s()}}search(a,b){this.Yv(a,b);this.$Xh&&this.y_a(a)}onSelect(a,b){a=m(a.LMg.find(c=>c.rl===b.rl),"Cannot find target with given externalId");
this.kj({type:"FOLDER",shared:!1,MGa:!0,name:a.name,rl:a.rl,thumbnail:a.thumbnail})}Ci(a,b){a.errorMessage=b}Yv(a,b){a.query=b}constructor(a,b,c,d){this.ela=a;this.kig=b;this.kj=c;this.$Xh=d;this.U3r=(oUs.G(this),GRs(e=>this.$Xh?e.LMg:this.T3r(e)));this.y_a=__c.ub(e=>{this.d1a(e)},200);this.T3r=GRs(e=>{const f=mUs(e.query);if(f==null)return e.LMg;const g=f.toUpperCase();return e.LMg.filter(h=>h.name.toUpperCase().includes(g))})}},mUs=a=>{if(a!=null)return a=a.trim(),a.length>0?a:void 0};var pUs=({kj:a,ela:b,kig:c,$Xh:d})=>{const e=new nUs,f=new oUs(b,c,a,d),g=()=>{f.d1a(e)},h=n=>{f.onSelect(e,n)},k=n=>f.search(e,n),l=uR(()=>f.U3r(e));return vR(()=>wR(kUs,{targets:l.get(),onSelect:h,aga:k,onLoad:g,isLoading:e.isLoading,errorMessage:e.errorMessage,query:e.query}))};var qUs=class extends CRs{sSa(){if(xQs(this))return wR("div",{className:"QuVdoQ aWBg0w",children:this.props.fRl||K("o+HEaQ")});const a=this.props.loading,b=this.props.gqh,c=this.props.yjq,d=this.props.zjq;return AR(__c.LA,{margins:"flow",children:[this.props.list.map((e,f)=>wR("div",{children:this.props.gBe(e,f)},f)),a&&wR(c,{}),b&&!a&&wR(d,{})]})}zbc(){const {loading:a,dUb:b,ub:c,iy:d=!1}=this.props;return a?wR("div",{className:"ES3B3A",children:wR(Gj,{shape:"rectangle"})}):AR("div",{className:"ES3B3A",
children:[d&&wR(td,{variant:"secondary",className:"_0PuogA",type:"button",onClick:c,ariaLabel:K("4X0qyQ"),children:wR(__c.oq,{size:"medium"})}),wR(td,{variant:"primary",disabled:b,type:"submit",className:JRs("nuNEdg",{Ghe__Q:d}),children:K("jxZL3g")})]})}render(){const a=this.props.header;return AR("div",{className:"uJYVVw",children:[a&&wR("div",{className:"_6zyN9g",children:a}),wR(__c.cF,{eY:!1,content:this.sSa(),footer:this.zbc(),onSubmit:this.zP})]})}constructor(...a){super(...a);this.zP=()=>{if(!this.props.dUb)this.props.onSubmit()}}};var rUs,sUs;rUs=BR(()=>wR(yRs,{children:__c.Hi(10).map(a=>wR("div",{children:wR(STs,{index:a-10})},a))}));sUs=BR(()=>wR(yRs,{children:__c.Hi(3).map(a=>wR("div",{children:wR(STs,{index:a-3})},a))}));
__c.AQs=class extends CRs{componentDidMount(){this.props.onLoad&&this.props.onLoad()}xKh(){const a=this.props.W4b,b=this.props.Ze;if(b!=null)return wR(b,{});if(a!=null)return wR("div",{className:"Akf6dg",children:this.gBe(a,-1,!0)})}render(){const a=this.props.dUb,b=this.props.gqh,c=this.props.list,d=this.props.loading,e=this.props.ub,f=this.props.onSubmit,g=this.props.fRl;return wR(qUs,{iy:!!this.props.W4b,header:this.xKh(),list:c,gqh:b,yjq:rUs,zjq:sUs,fRl:g,loading:d,ub:e,onSubmit:f,gBe:this.gBe,
dUb:a})}constructor(...a){super(...a);this.onSelect=b=>{if(b.type==="FOLDER")this.props.onSelect(b)};this.gBe=(b,c,d)=>{c=b.name;return b.type==="FILE"?wR(UTs,{target:b,filename:b.name,disabled:!0},b.rl):wR(b.shared?WTs:VTs,{target:b,filename:c,disabled:!b.MGa,onClick:d?void 0:this.onSelect,NSe:!d},b.rl)}}};var CQs=BR(({xA:a,loading:b,error:c,title:d,Au:e,onConnect:f,ujq:g,ea:h,onLoad:k})=>b?g:wR(__c.zfp,{w$a:wR(h,{}),title:d,Au:e,onConnect:f,errorMessage:c,xA:a,onLoad:k}));var zQs=class{static G(a){M(a,{error:yR.ref,state:yR.ref})}constructor(){this.error=(zQs.G(this),void 0);this.state="loading"}},yQs=class{static G(a){M(a,{Uea:CR,onConnect:CR})}Uea(a,b){a.state=b}async onLoad(a,b){const c=tR()();try{this.Uea(a,"loading");try{c.r(await c.s(this.FTo.getConfiguration())).valid&&b()}catch{c.r()}this.Uea(a,"ready")}finally{c.s()}}async onConnect(a,b,c){const d=tR()();try{a.state="processing";a.error=void 0;const e=d.r(await d.s(this.FTo.EBj()));e.valid&&b();ONs(()=>{a.state=
"ready";a.error=c&&!e.valid?e.error:void 0})}finally{d.s()}}constructor(a){this.FTo=a;yQs.G(this)}};var NQs=class{P7b(a,b){return this.SB.P7b(this.app,a,b)}EBj(){return this.SB.EBj(this.app)}getConfiguration(){return this.SB.getConfiguration(this.app)}constructor(a,b){this.app=a;this.SB=b}};var MQs=class{P7b(a,b){const c=this.app;return{type:"internal",Ra:this.Ra,platform:c.platform,zl:c.zl,message:"",pages:[...a.Xf],title:a.formData.fileName?.toString(),ZQ:b&&b.rl,WN:a.fileType,i2:a.i2}}async EBj(){const a=tR()();try{try{return a.r(await a.s(this.SB.Cmg(this.app.platform,this.app.zl)))}catch{return a.r(),{valid:!1,error:K("cxlHPg")}}}finally{a.s()}}async getConfiguration(){const a=tR()();try{const b=this.app.zl,c=a.r(await a.s(this.SB.Rma(this.app.platform)));return __c.yJs(c,b,{BMa:!1})?
c:{valid:!1}}finally{a.s()}}constructor(a,b,c){this.app=a;this.SB=b;this.Ra=c}};var OQs=class{static G(a){M(a,{wIi:yR.ref,hWl:yR.ref})}constructor(a){this.app=a;this.wIi=(OQs.G(this),0)}},LQs=class{static G(a){M(a,{A$i:CR,wdj:CR})}A$i(a){a.wIi++}wdj(a,b){a.hWl=b;a.wIi++}constructor(){LQs.G(this)}};__c.GQs=BR(({error:a,onClose:b,wl:c})=>{let d=K("HYAVSQ"),e=K("tmRQIA");if(a!=null)switch(a.kind){case "media-generation-failure":case "export-failure":a.s3!=null?e=a.s3:a.kind==="media-generation-failure"&&(d=K("G0yNZA"),e=K("YIBz6A"),c=void 0);break;case "unknown":case void 0:break;default:throw new v(a);}return wR(__c.DEn,{lW:void 0,title:d,message:e,YBb:b,mYd:c})});__c.FQs=({Bw:a,AI:b,errorService:c,Ra:d,xBa:e,csc:f,iGe:g,uX:h,Aua:k,Mda:l})=>{const {mdb:n,SKc:p,RMe:q}=__c.ZEn({errorService:c,Ra:d,csc:f,uX:h,Aua:k,Mda:l,peb:!1});return({onClose:r,$Uc:t,Jme:u})=>__c.VEn({onClose:r,publish:()=>p.publish(n,t,u,void 0),mbp:void 0,qRh:void 0,reset:()=>p.reset(n),jLm:q,ik:{kind:"component",Bw:a},AI:b,xBa:e,iGe:g})};var EQs=({url:a,title:b,O3h:c,SS:d,onClose:e})=>wR(GL,{title:b,J1a:d,VMb:e,children:a&&wR(tUs,{url:a,O3h:c})}),tUs=BR(({url:a,O3h:b})=>b?wR(R,{alignment:"center",margins:"legacy",children:wR(__c.Dj,{href:a,target:"_blank",children:b})}):AR(R,{alignment:"center",margins:"legacy",children:[K("3oKT+Q"),wR("br",{}),wR(__c.Dj,{href:a,target:"_blank",children:a})]}));var uUs,vUs,wUs=class extends ARs{render(){const a=this.props.store,b=this.props.SearchBox,c=this.props.PCe;return a.error?wR("div",{className:"DNSNPQ",children:wR(Yk,{tone:"critical",size:"small",children:a.error})}):wR(__c.AQs,{list:a.targets,W4b:a.Iye,onSubmit:this.wdj,onLoad:this.onLoad,onSelect:this.Vht,ub:this.ub,loading:a.loading,gqh:a.loading&&a.targets.length>0,dUb:a.dUb,Ze:b,fRl:c})}constructor(...a){super(...a);this.onLoad=()=>{IQs(this.props.L,this.props.store,this.props.kj)};this.Vht=
b=>{this.props.L.jro(this.props.store,b,this.props.kj)};this.ub=()=>{this.props.L.goBack(this.props.store)};this.wdj=()=>{this.props.kj()}}};({c:[vUs,uUs]}=LRs(wUs,[],[Nb],ARs));uUs();var xUs=class{static G(a){M(a,{Pzc:yR.deep,Avg:yR.deep,error:yR.ref,query:yR.ref,loading:uR,Iye:uR,$gj:uR,rli:uR,targets:uR,NXm:uR,yil:uR,dUb:uR})}get loading(){return this.Pzc.get(this.rli)?.state!=="complete"}get Iye(){return this.Avg[this.Avg.length-1]}get $gj(){return this.Iye?this.Iye.rl:void 0}get rli(){return`${this.$gj||"root"}:${this.query||""}`}get targets(){return this.Pzc.get(this.rli)?.targets||[]}get NXm(){return this.Avg.length===0}get yil(){return!this.query}get dUb(){return!this.yil&&
this.targets.length===0}constructor(){this.Pzc=(xUs.G(this),new Map);this.Avg=[]}},yUs=class{static G(a){M(a,{G$g:CR,jro:CR,goBack:CR,search:CR})}createStore(){return new xUs}G$g(a,b,c){const d=a.rli,e=a.Pzc.get(d);if(e)return e;a.Pzc.set(d,{state:"partial",generator:wQs(f=>eQs(this.ela,this.kig,b,f,c)),targets:[]});return m(a.Pzc.get(d))}async d1a(a){const b=tR()();try{let c;try{const d=JQs(a.query),e=a.$gj,f=this.G$g(a,e,d);if(f.state==="partial"){do{const g=b.r(await b.s(f.generator.next()));if(g.done)break;
ONs(()=>{f.targets.push(...g.value)});const h=JQs(a.query);if(a.$gj!==e||h!==d)return"partial"}while(1);ONs(()=>{f.state="complete"})}}catch(d){b.r(),c=d instanceof __c.PHa?d.message:K("lFypaw")}ONs(()=>{a.error=c});return c==null?"complete":"partial"}finally{b.s()}}async jro(a,b,c){const d=tR()();try{a.Avg.push(b),a.query=void 0,d.r(await d.s(this.d1a(a))),this.yUn(a)||c()}finally{d.s()}}async goBack(a){if(!a.NXm)return a.Avg.pop(),a.query=void 0,this.d1a(a)}search(a,b){a.query!==(b===""?void 0:
b)&&(a.query=b,this.FGt(a))}constructor(a,b){this.ela=a;this.kig=b;this.FGt=(yUs.G(this),__c.ub(c=>{this.d1a(c)},200));this.yUn=GRs(c=>c.targets.some(d=>d.type==="FOLDER"&&d.MGa))}};var zUs=({kj:a,ela:b,kig:c,$Xh:d})=>{const e=new yUs(b,c),f=e.createStore(),g=()=>a(f.Iye);let h;if(d){const k=n=>e.search(f,n),l=()=>e.search(f,"");h=vR(()=>wR(__c.Cw,{type:"search",autoFocus:"on-desktop",placeholder:K("vbcpKw"),value:f.query,onChange:k,Zi:l}))}return vR(()=>wR(vUs,{store:f,L:e,kj:g,SearchBox:f.Iye==null?h:void 0,PCe:f.yil?void 0:I("RH3tWw",[f.query||""])}))};var PQs=(a,b,c)=>{b={kj:c,ela:b,kig:a.app.type===1?{type:"platform",platform:a.app.platform}:{type:"extension",extension:a.app.Ee},$Xh:!!a.LPb?.S2a};switch(a.LPb?.type){case 1:return zUs(b);case 2:return pUs(b)}};var SQs=BR(a=>{const b=a.url,c=a.ozj,d=a.SS,e=a.r0d,f=a.Wxl,g=a.onClose,h=a.Jvq,k=a.qWs;if(a.H0e)return a={title:K("Cp++/w"),G7a:k?K("mp1MQA"):void 0,J1a:k?()=>k():g},b&&c&&!f?wR(GL,{...a,Mog:K("mU7ufg"),KRt:{type:"browser",url:b},children:h&&wR(h,{})}):wR(GL,{...a,Mog:b&&c&&f?K("mU7ufg"):void 0,VMb:b&&c&&f?()=>f(b):d,children:h&&wR(h,{})});a={title:K("Cp++/w"),Mog:e?K("yN1JrA"):void 0,VMb:e||g};return b&&c&&!f?wR(GL,{...a,G7a:K("mU7ufg"),gzt:{type:"browser",url:b},children:h&&wR(h,{})}):wR(GL,{...a,
G7a:b&&c&&f?K("mU7ufg"):void 0,J1a:b&&c&&f?()=>f(b):d,children:h&&wR(h,{})})}),TQs=BR(({fF:a,geb:b})=>{ma(a.reference?.type==="INTERNAL");ma(b.type==="internal");if(!a.K6b)return null;const c=a?.zGa&&a.zGa!==1;return AR("div",{className:"OJ6RYQ",children:[wR(R,{margins:"legacy",children:K("GYrlxQ")}),wR(__c.cUs,{name:c?AR(yRs,{children:[a.K6b,wR("span",{className:"m8vlxw",children:wR(__c.hy,{size:"small"})})]}):a.K6b||"",platform:a.reference.platform,zl:a.reference.zl,metadata:b.N3c,mg:!0,thumbnail:a.a5a})]})});var WQs=H(()=>({id:S("id",1)}));__c.AUs=class{static create({X:a,brand:b,user:c,jm:d,Nc:e,errorService:f,Sa:g}){return new __c.AUs(a,b,c,d,e,f,g)}async wti(a){return this.$Uc(a)}FXk(a){return __c.XQs(this,a)}async $Uc(a){const b=tR()();try{const c=b.r(await b.s(this.pch(a)));if(!c.ok)return c;const d=new __c.bRs(c.value);return this.CJd(a,d)}finally{b.s()}}async CJd(a,b){const c=tR()();try{try{const d=c.r(await c.s(this.jm.CJd(b)));if(d.type!=="SUCCESS")throw Error(d.message);return Ka({id:d.id,geb:a})}catch(d){return c.r(),this.IGa(a,
d.endUserMessage||d.message),Na({kind:"unknown"})}}finally{c.s()}}async pch(a){const b=tR()();try{try{if(a.type==="external"||a.platform&&a.zl)if(a.yGa)var c=a.yGa;else{const {id:r}=b.r(await b.s(this.eBc(a)));c=r}b.r(await b.s(this.X.sync()));var d=this.brand,e=this.user,f=this.X.id,g=this.X.extension,h=this.X.version,k=a.sN&&a.sN!==""?__c.YQs(a.sN):void 0,l=a.message!==""?a.message:void 0,n=a.title!==""?a.title:void 0;c=c?[c]:[];a:{var p=this.X.Tg;switch(p){case 1:var q=2;break a;default:throw new v(p);
}}return Ka({brand:d,user:e,document:f,Se:g,Is:h,sN:k,message:l,title:n,N$c:c,action:1,Tg:q,i2:{pages:a.pages?a.pages:[],WN:a.WN||1,width:a.i2?.width,height:a.i2?.height,KXa:a.i2?.KXa}})}catch(r){return b.r(),this.IGa(a,r.endUserMessage??r.message),Na({kind:"unknown"})}}finally{b.s()}}async eBc(a){const b=tR()();try{try{const c=a.type==="internal"?new __c.cRs({platform:m(a.platform),zl:m(a.zl),vH:a.vH}):new dRs({extension:m(a.extension,"extension must be provided")}),d=new __c.fRs({brand:this.brand,
user:this.user,endpoint:c,rl:a.ZQ}),{fF:e}=b.r(await b.s(this.jm.eBc(d)));return e}catch(c){throw b.r(),this.IGa(a,c.endUserMessage||c.message),c;}}finally{b.s()}}IGa(a,b){a.type==="internal"?this.Nc.bba({kind:"internal",endpoint:a.Ra,errorMessage:b}):this.Nc.bba({kind:"extension",endpoint:a.Ra,errorMessage:b});this.errorService.error(b??"failed to share")}constructor(a,b,c,d,e,f,g){this.X=a;this.brand=b;this.user=c;this.jm=d;this.Nc=e;this.errorService=f;this.Sa=g}};var ZQs=class{static G(a){M(a,{content:yR.ref})}constructor(){this.content=(ZQs.G(this),void 0)}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/ece36a7bb393c5ff.js.map